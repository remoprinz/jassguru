"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1451],{1163:(e,t,r)=>{r.d(t,{h:()=>s}),r(4232);var n=r(4165),i=r(8506),a=r(415),o=r(7876),s=function(e){var t,r,s=e.farbe,l=e.mode,c=void 0===l?"svg":l,u=e.cardStyle,f=void 0===u?"DE":u,m=e.className,d=(0,n.j)(s,c,f),p=(0,i.Sn)(s),h=null!=(t=null==(r=a.S[p])?void 0:r[f])?t:p;return d?(0,o.jsx)("div",{className:"flex items-center justify-center w-8 h-8 ".concat(null!=m?m:""),children:"emoji"===c?(0,o.jsx)("span",{className:"text-2xl",children:d}):(0,o.jsx)("img",{src:d,alt:h,className:"w-6 h-6 object-contain"})}):null}},4165:(e,t,r)=>{r.d(t,{j:()=>c});var n=r(415),i=r(8506),a=["Eicheln","Rosen","Schellen","Schilten"],o={Misère:"\uD83E\uDD2E",Eicheln:"\uD83C\uDF33",Rosen:"\uD83C\uDF39",Schellen:"\uD83D\uDD14",Schilten:"\uD83D\uDEE1️",Obe:"\uD83D\uDC47",Une:"\uD83D\uDC47","3x3":"3️⃣",Quer:"↕️",Slalom:"⛷️"},s={Misère:"\uD83E\uDD2E",Eicheln:"♠️",Rosen:"♣️",Schellen:"♥️",Schilten:"♦️",Obe:"\uD83D\uDC46",Une:"\uD83D\uDC47","3x3":"3️⃣",Quer:"↕️",Slalom:"⛷️"},l={},c=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DE",c=(0,i.Sn)(e),u="".concat(c,"-").concat(t,"-").concat(r);if(l[u])return l[u];if("emoji"===t){var f="DE"===r?o:s;return l[u]=f[e],l[u]}var m=n.S[c];if(void 0===m||void 0===m[r])return console.warn("getPictogram: Mapping f\xfcr Farbe '".concat(c,"' (Original: '").concat(e,"') oder Stil '").concat(r,"' nicht gefunden. Gebe leeren Pfad zur\xfcck.")),l[u]="","";var d=m[r].toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,""),p="FR"===r?"standardFR":"standardDE",h="/assets/pictograms/".concat(p,"/").concat(d,".").concat(a.includes(c)?"png":"svg");return l[u]=h,h}},5259:(e,t,r)=>{r.d(t,{A:()=>x});var n=r(4232),i=r(3649),a=r(7212),o=r(3355),s=r(8731),l=r(4110),c=r(7876);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){d=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(t,r,n,a){var o,s,l,c,u=Object.create((r&&r.prototype instanceof x?r:x).prototype);return i(u,"_invoke",{value:(o=t,s=n,l=new C(a||[]),c=p,function(t,r){if(c===h)throw Error("Generator is already running");if(c===y){if("throw"===t)throw r;return{value:e,done:!0}}for(l.method=t,l.arg=r;;){var n=l.delegate;if(n){var i=function t(r,n){var i=n.method,a=r.iterator[i];if(a===e)return n.delegate=null,"throw"===i&&r.iterator.return&&(n.method="return",n.arg=e,t(r,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+i+"' method")),g;var o=f(a,r.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var s=o.arg;return s?s.done?(n[r.resultName]=s.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):s:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,g)}(n,l);if(i){if(i===g)continue;return i}}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(c===p)throw c=y,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);c=h;var a=f(o,s,l);if("normal"===a.type){if(c=l.done?y:"suspendedYield",a.arg===g)continue;return{value:a.arg,done:l.done}}"throw"===a.type&&(c=y,l.method="throw",l.arg=a.arg)}})}),u}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",h="executing",y="completed",g={};function x(){}function b(){}function v(){}var j={};c(j,o,function(){return this});var w=Object.getPrototypeOf,N=w&&w(w(T([])));N&&N!==r&&n.call(N,o)&&(j=N);var S=v.prototype=x.prototype=Object.create(j);function O(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function P(e,t){var r;i(this,"_invoke",{value:function(i,a){function o(){return new t(function(r,o){!function r(i,a,o,s){var l=f(e[i],e,a);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==m(u)&&n.call(u,"__await")?t.resolve(u.__await).then(function(e){r("next",e,o,s)},function(e){r("throw",e,o,s)}):t.resolve(u).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,s)})}s(l.arg)}(i,a,r,o)})}return r=r?r.then(o,o):o()}})}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw TypeError(m(t)+" is not iterable")}return b.prototype=v,i(S,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:b,configurable:!0}),b.displayName=c(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(P.prototype),c(P.prototype,s,function(){return this}),t.AsyncIterator=P,t.async=function(e,r,n,i,a){void 0===a&&(a=Promise);var o=new P(u(e,r,n,i),a);return t.isGeneratorFunction(r)?o:o.next().then(function(e){return e.done?e.value:o.next()})},O(S),c(S,l,"Generator"),c(S,o,function(){return this}),c(S,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function p(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){p(a,n,i,o,s,"next",e)}function s(e){p(a,n,i,o,s,"throw",e)}o(void 0)})}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let x=function(){(0,i.useUIStore)(function(e){return e.jassFinishNotification});var e=y((0,n.useState)(!1),2),t=e[0],r=e[1],u=y((0,n.useState)(!1),2),p=u[0],g=u[1],x=(0,i.useUIStore)(),b=x.jassFinishNotification,v=b.isOpen,j=b.message,w=void 0===j?{text:"Jass beendet!",icon:"♥️"}:j,N=b.mode,S=void 0===N?"share":N,O=b.onShare,P=void 0===O?h(d().mark(function e(){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})):O,k=b.onBack,E=void 0===k?function(){}:k,C=b.onBackLabel,T=b.onContinue,A=void 0===T?function(){}:T,_=b.onRegenerate,L=void 0===_?h(d().mark(function e(){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})):_,D=x.closeJassFinishNotification;console.log("[JassFinishNotification] onRegenerate available:",m(L),void 0!==L);var I=(0,n.useMemo)(function(){if("string"!=typeof w&&w.icon)return[w.icon];var e=[],t=("string"==typeof w?w:w.text).toLowerCase();return t.includes("schneider")?e.push("✂️"):(t.includes("unentschieden")?e.push("\uD83E\uDD1D"):t.includes("vernichtend")?e.push("\uD83D\uDCA5"):t.includes("knapp")&&e.push("\uD83D\uDE05"),t.includes("matsch")&&e.push("\uD83D\uDCAA"),t.includes("rekord")&&e.push("\uD83C\uDFC6"),(t.includes("schnell")||t.includes("blitz"))&&e.push("⚡"),(t.includes("langsam")||t.includes("gem\xfctlich"))&&e.push("��"),0===e.length&&("share"===S?e.push("\uD83C\uDF89"):e.push("string"==typeof w?"\uD83C\uDFB2":w.icon))),e},[w,S]),G=(0,n.useMemo)(function(){return"share"===S?(0,c.jsx)("img",{src:"/welcome-guru.png",alt:"Jass Guru",className:"w-64 h-64 object-cover mb-6 rounded-lg"}):(0,c.jsx)("div",{className:"text-6xl mb-4",children:I.map(function(e,t){return(0,c.jsx)("span",{className:"mx-1",children:e},t)})})},[S,I]),F=(0,n.useCallback)(h(d().mark(function e(){var t,n;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r(!0),e.prev=1,!P){e.next=3;break}return e.next=2,P();case 2:case 7:e.next=9;break;case 3:if(t="string"==typeof w?w:w.text,n="".concat(t,"\n\ngeneriert von:\n\uD83D\uDC49 jassguru.ch"),!navigator.share){e.next=8;break}return e.prev=4,e.next=5,navigator.share({text:n});case 5:e.next=7;break;case 6:return e.prev=6,console.error("Share failed:",e.catch(4)),e.next=7,navigator.clipboard.writeText(n);case 8:return e.next=9,navigator.clipboard.writeText(n);case 9:D(),e.next=11;break;case 10:e.prev=10,console.error("Share error:",e.catch(1));case 11:return e.prev=11,r(!1),e.finish(11);case 12:case"end":return e.stop()}},e,null,[[1,10,11,12],[4,6]])})),[P,w,D]),M=(0,n.useCallback)(function(){E&&E(),D()},[E,D]),z=(0,n.useCallback)(function(){A&&A(),D()},[A,D]),R=(0,n.useCallback)(h(d().mark(function e(){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("[JassFinishNotification] Regenerate clicked, onRegenerate:",m(L)),g(!0),e.prev=1,!L){e.next=3;break}return console.log("[JassFinishNotification] Calling onRegenerate..."),e.next=2,L();case 2:console.log("[JassFinishNotification] onRegenerate completed"),e.next=4;break;case 3:console.warn("[JassFinishNotification] onRegenerate is not defined!");case 4:e.next=6;break;case 5:e.prev=5,console.error("[JassFinishNotification] Regenerate error:",e.catch(1));case 6:return e.prev=6,g(!1),e.finish(6);case 7:case"end":return e.stop()}},e,null,[[1,5,6,7]])})),[L]),U=(0,s.Z)(M),$=(0,s.Z)("share"===S?F:z),J=(0,s.Z)(R);return(0,n.useEffect)(function(){v&&i.useUIStore.setState(function(e){return{}})},[v]),(0,c.jsx)(a.N,{children:v&&(0,c.jsxs)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-[9999] ".concat(""),children:[(0,c.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50"}),(0,c.jsxs)(o.P.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white z-10",children:[(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[G,(0,c.jsx)("div",{className:"text-center mb-6 max-h-[40vh] overflow-y-auto",children:(0,c.jsx)("p",{className:"mb-2 text-base sm:text-lg leading-relaxed",children:"string"==typeof w?w:w.text})})]}),"share"===S&&(0,c.jsxs)("div",{className:"flex justify-between gap-4 mb-4",children:[(0,c.jsx)(o.P.button,f(f({},J.handlers),{},{initial:{scale:.9},animate:{scale:1},whileTap:{scale:.95},className:"\n                    flex-1 bg-yellow-600 text-white px-6 py-2 rounded-lg \n                    hover:bg-yellow-700 transition-all duration-150 text-lg font-semibold\n                    flex items-center justify-center border-b-4 border-yellow-800\n                    shadow-lg leading-tight\n                    active:scale-[0.98] active:border-b-2\n                    ".concat(J.buttonClasses,"\n                    ").concat(p?"opacity-50 cursor-not-allowed":"","\n                  "),disabled:p,children:p?(0,c.jsx)(l.TwU,{className:"animate-spin w-6 h-6"}):"Neuer Spruch"})),(0,c.jsx)(o.P.button,f(f({},$.handlers),{},{initial:{scale:.9},animate:{scale:1},whileTap:{scale:.95},className:"\n                    flex-1 bg-green-600 text-white px-6 py-2 rounded-lg \n                    hover:bg-green-700 transition-all duration-150 text-lg font-semibold\n                    flex items-center justify-center border-b-4 border-green-800\n                    shadow-lg leading-tight\n                    active:scale-[0.98] active:border-b-2\n                    ".concat($.buttonClasses,"\n                    ").concat(t?"opacity-50 cursor-not-allowed":"","\n                  "),disabled:t,children:t?(0,c.jsx)(l.TwU,{className:"animate-spin w-6 h-6"}):"Teilen"}))]}),"continue"===S&&(0,c.jsxs)("div",{className:"flex justify-between gap-4 mb-4",children:[(0,c.jsx)(o.P.button,f(f({},U.handlers),{},{initial:{scale:.9},animate:{scale:1},whileTap:{scale:.95},className:"\n                    flex-1 bg-gray-600 text-white px-6 py-2 rounded-lg \n                    hover:bg-gray-700 transition-all duration-150 text-lg font-semibold\n                    border-b-4 border-gray-800 shadow-lg leading-tight\n                    active:scale-[0.98] active:border-b-2\n                    ".concat(U.buttonClasses,"\n                  "),children:C||"Zur\xfcck"})),(0,c.jsx)(o.P.button,f(f({},$.handlers),{},{initial:{scale:.9},animate:{scale:1},whileTap:{scale:.95},className:"\n                    flex-1 bg-green-600 text-white px-6 py-2 rounded-lg \n                    hover:bg-green-700 transition-all duration-150 text-lg font-semibold\n                    border-b-4 border-green-800 shadow-lg leading-tight\n                    active:scale-[0.98] active:border-b-2\n                    ".concat($.buttonClasses,"\n                  "),children:"Weiterjassen!"}))]}),"share"===S&&(0,c.jsx)("div",{className:"flex justify-center mt-4",children:(0,c.jsx)(o.P.button,{onClick:D,initial:{scale:.9},animate:{scale:1},whileTap:{scale:.95},className:" w-full bg-gray-600 text-white px-6 py-2 rounded-lg  hover:bg-gray-700 transition-all duration-150 text-lg font-semibold border-b-4 border-gray-800 shadow-lg leading-tight active:scale-[0.98] active:border-b-2 ",children:"Schliessen"})})]})]})})}},6757:(e,t,r)=>{r.d(t,{D:()=>M});var n,i,a,o=r(4232),s=r(4264),l=r(9143),c=r(7876);function u(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d={baseStrich:{length:38,width:3,color:"#FFFFFF",opacity:1},diagonalStrich:{length:54,width:3.5,angle:-45,offset:{x:0,y:10}},container:{spacing:10,groupSpacing:12,scale:1,stackSpacing:0}},p=s.I4.div(n||(n=m(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  \n  /* Basis-Styles */\n  min-height: ",";\n  \n  /* Container-spezifische Positionierung */\n  ","\n"])),function(e){return"horizontal"===e.type?"16px":"50px"},function(e){return"horizontal"===e.type?"\n    transform: rotate(-90deg);\n    transform-origin: left center;\n    margin: 1px 0px;\n    padding-left: 0px; // Horizontale Gruppe kann nach rechts verschoben werden\n  ":"\n    margin: -14px 0 -6px -30px; // Negativer margin-left f\xfcr vertikale Gruppe\n  "}),h=(0,s.I4)(l.CS.div)(i||(i=m(["\n  position: absolute;\n  background-color: ",";\n  opacity: ",";\n  transition: all 0.2s ease;\n\n  ","\n"])),d.baseStrich.color,d.baseStrich.opacity,function(e){return(e.$type,e.$isDiagonal)?"\n        width: ".concat(d.diagonalStrich.length,"px;\n        height: ").concat(d.diagonalStrich.width,"px;\n        transform: rotate(").concat(d.diagonalStrich.angle,"deg);\n        transform-origin: left center;\n        z-index: 2;\n      "):"\n      width: ".concat(d.baseStrich.width,"px;\n      height: ").concat(d.baseStrich.length,"px;\n    ")}),y=(0,s.I4)(l.CS.div)(a||(a=m(["\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  margin-right: ",";\n"])),function(e){return"horizontal"===e.$type?"8px":"12px"}),g=function(e){return"horizontal"===e?{left:"".concat(-.2*d.container.spacing,"px"),top:"18px",transform:"rotate(-50deg)"}:{left:"".concat(3*d.container.spacing-32,"px"),top:"18px",transform:"rotate(-45deg)"}};let x=function(e){var t=e.type,r=e.count,n=e.position;e.style;var i=(0,l.zh)({from:{progress:0},to:{progress:r},config:{tension:400,friction:15}});return(0,c.jsx)(p,{type:t,children:function(){for(var e=[],a=Math.floor(r/5),o=r%5,s=function(r){e.push((0,c.jsxs)(y,{$type:t,children:[u([,,,,]).map(function(e,a){return(0,c.jsx)(h,{$type:t,$position:n,style:{opacity:i.progress.to(function(e){return+(e>5*r+a)}),transform:i.progress.to(function(e){return e>5*r+a?"scale(1)":"scale(0)"}),left:"".concat(a*d.container.spacing,"px")}},"strich-".concat(r,"-").concat(a))}),(0,c.jsx)(h,{$type:t,$position:n,$isDiagonal:!0,style:{opacity:i.progress.to(function(e){return+(e>5*r+4)}),transform:i.progress.to(function(e){return e>5*r+4?g(t).transform:"scale(0)"}),left:g(t).left,top:g(t).top}},"diagonal-".concat(r))]},"group-".concat(r)))},l=0;l<a;l++)s(l);return o>0&&e.push((0,c.jsx)(y,{$type:t,children:u(Array(o)).map(function(e,r){return(0,c.jsx)(h,{$type:t,$position:n,style:{opacity:i.progress.to(function(e){return+(e>5*a+r)}),transform:i.progress.to(function(e){return e>5*a+r?"scale(1)":"scale(0)"}),left:"".concat(r*d.container.spacing,"px")}},"rest-".concat(r))})},"remainder")),e}()})};var b=r(8517);let v=function(e){var t,r,n=e.spielNummer,i=e.topTeam,a=e.bottomTeam,s=e.showJassPoints,l=(e.gameId,e.isCurrentGameRow,e.strokeSettings),u=e.scoreSettings;e.onNavigate,e.gameTypeLabel;var f=(0,o.useMemo)(function(){return(0,b.Zv)(i.striche,l,u)},[i.striche,l,u]),m=(0,o.useMemo)(function(){return(0,b.Zv)(a.striche,l,u)},[a.striche,l,u]);return(0,c.jsxs)("div",{className:"grid grid-cols-[2rem_5fr_5fr] gap-8 items-center py-3 last:border-b-0 border-b border-gray-700",children:[(0,c.jsx)("div",{className:"text-gray-400 text-left pl-3",children:n}),(0,c.jsx)("div",{className:"grid-cell",children:(0,c.jsx)("div",{className:"flex justify-center",children:s?(0,c.jsx)("div",{className:"text-xl text-white text-right pr-8 w-[120px]",children:null!=(t=a.jassPoints)?t:0}):(0,c.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,c.jsx)(x,{type:"horizontal",count:m.horizontal,position:"bottom"}),(0,c.jsx)(x,{type:"vertikal",count:m.vertikal,position:"bottom"})]})})}),(0,c.jsx)("div",{className:"grid-cell",children:(0,c.jsx)("div",{className:"flex justify-center",children:s?(0,c.jsx)("div",{className:"text-xl text-white text-right pr-8 w-[120px]",children:null!=(r=i.jassPoints)?r:0}):(0,c.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,c.jsx)(x,{type:"horizontal",count:f.horizontal,position:"top"}),(0,c.jsx)(x,{type:"vertikal",count:f.vertikal,position:"top"})]})})})]})};var j=r(4277),w={berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0},N=r(9e3),S=r(2009),O=r(7887),P=r(1163);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var T=function(e){if(e){var t=e.toLowerCase();if("mis\xe8re"===t)return"Mis\xe8re";if("eicheln"===t||"eichel"===t)return"Eicheln";if("rosen"===t||"rose"===t)return"Rosen";if("schellen"===t||"schelle"===t)return"Schellen";if("schilten"===t||"schilte"===t)return"Schilten";if("obe"===t)return"Obe";if("une"===t||"unde"===t)return"Une";if("3x3"===t)return"3x3";if("quer"===t)return"Quer";if("slalom"===t)return"Slalom";if("trumpf"===t)return"Obe";console.warn("[mapDbValueToJassColorType] Unbekannter DB-Wert: '".concat(e,"', konnte nicht zu JassColor gemappt werden."))}},A=function(e,t){var r,n,i,a,o,s,l,c,u=null!=(r=null==(n=e.scores)?void 0:n.top)?r:0,f=null!=(i=null==(a=e.scores)?void 0:a.bottom)?i:0;return{top:u-(null!=(o=null==t||null==(s=t.scores)?void 0:s.top)?o:0),bottom:f-(null!=(l=null==t||null==(c=t.scores)?void 0:c.bottom)?l:0)}},_=function(e){return void 0===e?null:1===e||3===e?"bottom":2===e||4===e?"top":(console.warn("Ung\xfcltige Spielernummer f\xfcr startingPlayer: ".concat(e)),null)},L=function(e){return"jass"===e.actionType&&!0===e.isRoundFinalized&&"number"==typeof e.startingPlayer&&("string"==typeof e.farbe&&e.farbe.length>0||void 0===e.farbe)&&(void 0===e.isActive||!0===e.isActive)},D=function(e){var t=e.games,r=(e.playerNames,e.cardStyle),n=(e.strokeSettings,e.currentGameId),i=(e.onSwipe,e.gameTypeLabel),a=void 0===i?"Spiel":i;(0,j.useGameStore)(function(e){return e.roundHistory});var s=(0,j.useGameStore)(function(e){return e.isGameStarted&&!e.isGameCompleted}),l=(0,j.useGameStore)(function(e){return e.currentHistoryIndex}),u=function(e){if(Array.isArray(e))return C(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return C(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return(u.sort(function(e,t){var r;return("timestampCompleted"in e&&e.timestampCompleted?e.timestampCompleted instanceof S.Timestamp?e.timestampCompleted.toMillis():e.timestampCompleted:"timestamp"in e?e.timestamp:0)-("timestampCompleted"in t&&t.timestampCompleted?t.timestampCompleted instanceof S.Timestamp?t.timestampCompleted.toMillis():t.timestampCompleted:"timestamp"in t?t.timestamp:0)}),(u=u.map(function(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==k(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===k(t)?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return"gameNumber"in r&&"number"==typeof r.gameNumber&&r.gameNumber>0?r.displayNumber=r.gameNumber:r.displayNumber=t+1,r}))&&0!==u.length)?(0,c.jsx)("div",{className:"flex flex-col w-full space-y-1 min-w-max",children:u.map(function(e,t){try{var i,u,f,m,d,p,h,y,g,x="gameNumber"in e?e.gameNumber:e.id,b=e.displayNumber||t+1,v=null!=(d=e.roundHistory)?d:[],j=null,w=function(e){if(!e)return null;if("number"==typeof e)return e;if("function"==typeof e.toMillis)return e.toMillis();if("object"===k(e)&&"seconds"in e&&"number"==typeof e.seconds){var t;return new S.Timestamp(e.seconds,null!=(t=e.nanoseconds)?t:0).toMillis()}return null};if("timestamp"in e&&e.timestamp&&(j=w(e.timestamp)),!j){var N=v.length>0?v[0]:null;N&&N.timestamp&&(j=w(N.timestamp))}var E=null;if(j)try{E=(0,O.GP)(new Date(j),"HH:mm")}catch(e){console.warn("Could not format game start time from timestamp:",j,e)}var C=x===n&&s?l:v.length-1,D=v.slice(0,C+1).filter(L),I="gameNumber"in e?e.gameNumber:e.id,G="string"==typeof I?I:"number"==typeof I?I.toString():"idx-".concat(t),F="finalScores"in e?{top:{total:e.finalScores.top},bottom:{total:e.finalScores.bottom}}:"teams"in e?{top:{total:(null!=(i=e.teams.top.jassPoints)?i:0)+(null!=(u=e.teams.top.weisPoints)?u:0)},bottom:{total:(null!=(f=e.teams.bottom.jassPoints)?f:0)+(null!=(m=e.teams.bottom.weisPoints)?m:0)}}:(console.warn("[RoundHistoryDisplay] Unerwarteter Spiel-Typ:",e),{top:{total:0},bottom:{total:0}});return(0,c.jsxs)("div",{className:"pt-2 pb-1 ".concat(s&&x===n?"bg-gray-700/50 rounded":""),children:[E&&(0,c.jsxs)("div",{className:"text-left text-gray-400 px-3 pt-3 pb-3 text-sm",children:[E," Uhr"]}),(0,c.jsxs)("div",{className:"grid grid-cols-[2rem_5fr_5fr] gap-8 items-center px-1 mb-1 pt-1",children:[(0,c.jsxs)("div",{className:"text-base font-semibold text-white text-left pl-2 whitespace-nowrap",children:[a," ",b]}),(0,c.jsx)("div",{}),(0,c.jsx)("div",{})]}),D.length>0?(0,c.jsxs)("div",{className:"space-y-0 px-1",children:[D.map(function(e,t){var n,i,a,s,l,u,f,m,d,p,h,y=t>0?D[t-1]:void 0,g=A(e,y),b=(null==(n=e.strichInfo)?void 0:n.type)==="matsch",v=(null==(i=e.strichInfo)?void 0:i.type)==="kontermatsch";null==(a=e.strichInfo)||a.team;var j=null!=(s=e.jassPoints)?s:g,w=null!=(l=null!=(u=e._savedWeisPoints)?u:e.weisPoints)?l:{top:0,bottom:0},N=w.top>0||w.bottom>0,S=_(e.startingPlayer),O=T(e.farbe),k=null!=(f=null==(m=e.scores)?void 0:m.top)?f:0,E=null!=(d=null==(p=e.scores)?void 0:p.bottom)?d:0;return _(e.startingPlayer),(0,c.jsxs)(o.Fragment,{children:[(0,c.jsxs)("div",{className:"grid grid-cols-[2rem_5fr_5fr] gap-8 items-center ".concat(N?"pb-0 pt-3 border-b-0":t===D.length-1?"py-3":"py-3 border-b border-gray-700/50"),children:[(0,c.jsxs)("div",{className:"text-base text-gray-400 text-left pl-3",children:[t+1," "]}),(0,c.jsx)("div",{className:"grid-cell",children:(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsx)("div",{className:"text-xl text-white text-right pr-8 w-[120px]",children:(0,c.jsxs)("div",{className:"inline-flex items-center justify-end",children:[(0,c.jsx)("span",{className:"w-7 h-5 mr-2 flex-shrink-0 flex items-center justify-end",children:"bottom"===S&&O?(0,c.jsx)(P.h,{farbe:O,mode:"svg",cardStyle:r,className:"w-5 h-5"}):null}),(0,c.jsx)("span",{className:b?"text-purple-400":v?"text-red-400":"",children:j.bottom})]})})})}),(0,c.jsx)("div",{className:"grid-cell",children:(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsx)("div",{className:"text-xl text-white text-right pr-10 w-[120px]",children:(0,c.jsxs)("div",{className:"inline-flex items-center justify-end",children:[(0,c.jsx)("span",{className:"w-7 h-5 mr-2 flex-shrink-0 flex items-center justify-end",children:"top"===S&&O?(0,c.jsx)(P.h,{farbe:O,mode:"svg",cardStyle:r,className:"w-5 h-5"}):null}),(0,c.jsx)("span",{className:b?"text-purple-400":v?"text-red-400":"",children:j.top})]})})})})]}),N&&(0,c.jsxs)("div",{className:"grid grid-cols-[2rem_5fr_5fr] gap-8 items-center pt-0 pb-3 ".concat(t===D.length-1?"":"border-b border-gray-700/50"),children:[(0,c.jsx)("div",{className:"text-left pl-3",children:t===D.length-1&&e.startingPlayerName?(0,c.jsx)("div",{className:"text-sm text-gray-500",children:e.startingPlayerName}):null}),(0,c.jsx)("div",{className:"grid-cell",children:(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsx)("div",{className:"text-xl text-white text-right pr-8 w-[120px]",children:(0,c.jsxs)("div",{className:"inline-flex items-center justify-end",children:[(0,c.jsx)("span",{className:"w-7 h-5 mr-2 flex-shrink-0"}),w.bottom>0&&(0,c.jsx)("span",{className:"text-blue-400",children:w.bottom})]})})})}),(0,c.jsx)("div",{className:"grid-cell",children:(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsx)("div",{className:"text-xl text-white text-right pr-10 w-[120px]",children:(0,c.jsxs)("div",{className:"inline-flex items-center justify-end",children:[(0,c.jsx)("span",{className:"w-7 h-5 mr-2 flex-shrink-0"}),w.top>0&&(0,c.jsx)("span",{className:"text-blue-400",children:w.top})]})})})})]}),t===D.length-1&&e.startingPlayerName&&!N&&(0,c.jsxs)("div",{className:"grid grid-cols-[2rem_5fr_5fr] gap-8 items-baseline -mt-1",children:[(0,c.jsx)("div",{className:"pl-3 text-sm text-gray-500",children:e.startingPlayerName}),(0,c.jsx)("div",{}),(0,c.jsx)("div",{})]}),t<D.length-1&&(0,c.jsxs)("div",{className:"grid grid-cols-[2rem_5fr_5fr] gap-8 items-baseline py-1 text-sm text-gray-500",children:[(0,c.jsx)("div",{className:"pl-3",children:e.startingPlayerName||""}),(0,c.jsx)("div",{className:"grid-cell",children:(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsx)("div",{className:"text-right pr-8 w-[120px]",children:(0,c.jsxs)("div",{className:"inline-flex items-center justify-end",children:[(0,c.jsx)("span",{className:"w-7 h-5 mr-2 flex-shrink-0"}),(0,c.jsx)("span",{children:E})]})})})}),(0,c.jsx)("div",{className:"grid-cell",children:(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsx)("div",{className:"text-right pr-10 w-[120px]",children:(0,c.jsxs)("div",{className:"inline-flex items-center justify-end",children:[(0,c.jsx)("span",{className:"w-7 h-5 mr-2 flex-shrink-0"}),(0,c.jsx)("span",{children:k})]})})})})]})]},null!=(h=e.id)?h:"round-".concat(x,"-").concat(t))}),F&&(0,c.jsxs)("div",{className:"grid grid-cols-[2rem_5fr_5fr] gap-8 items-center py-2 text-yellow-400 border-t-2 border-yellow-400/50 mt-2",children:[(0,c.jsx)("div",{className:"text-sm font-semibold text-left pl-2 whitespace-nowrap",children:"Total:"}),(0,c.jsx)("div",{className:"grid-cell",children:(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsxs)("div",{className:"text-base font-semibold text-right pr-8 w-[120px]",children:[" ",(0,c.jsxs)("div",{className:"inline-flex items-center justify-end",children:[(0,c.jsx)("span",{className:"w-7 h-5 mr-2 flex-shrink-0"}),(0,c.jsx)("span",{children:null!=(p=F.bottom.total)?p:0})]})]})})}),(0,c.jsx)("div",{className:"grid-cell",children:(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsxs)("div",{className:"text-base font-semibold text-right pr-10 w-[120px]",children:[" ",(0,c.jsxs)("div",{className:"inline-flex items-center justify-end",children:[(0,c.jsx)("span",{className:"w-7 h-5 mr-2 flex-shrink-0"}),(0,c.jsx)("span",{children:null!=(h=F.top.total)?h:0})]})]})})})]})]}):(0,c.jsxs)("div",{className:"px-1",children:[(0,c.jsxs)("p",{className:"text-sm text-center text-gray-500 py-2",children:["Keine Rundendetails f\xfcr ",a," ",b," verf\xfcgbar."]}),F&&(0,c.jsxs)("div",{className:"grid grid-cols-[2rem_5fr_5fr] gap-8 items-center py-2 text-yellow-400 border-t-2 border-yellow-400/50 mt-2",children:[(0,c.jsx)("div",{className:"text-sm font-semibold text-left pl-2 whitespace-nowrap",children:"Total:"}),(0,c.jsx)("div",{className:"grid-cell",children:(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsx)("div",{className:"text-base font-semibold text-right pr-8 w-[120px]",children:(0,c.jsxs)("div",{className:"inline-flex items-center justify-end",children:[(0,c.jsx)("span",{className:"w-7 h-5 mr-2 flex-shrink-0"}),(0,c.jsx)("span",{children:null!=(y=F.bottom.total)?y:0})]})})})}),(0,c.jsx)("div",{className:"grid-cell",children:(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsx)("div",{className:"text-base font-semibold text-right pr-10 w-[120px]",children:(0,c.jsxs)("div",{className:"inline-flex items-center justify-end",children:[(0,c.jsx)("span",{className:"w-7 h-5 mr-2 flex-shrink-0"}),(0,c.jsx)("span",{children:null!=(g=F.top.total)?g:0})]})})})})]})]})]},"game-".concat(G))}catch(e){return(0,c.jsxs)("div",{className:"text-red-500 text-center py-2",children:["Fehler beim Laden von Spiel ",t+1,"."]},"error-".concat(t))}})}):(0,c.jsx)("div",{className:"text-center text-gray-400 py-8",children:"Keine Spieldaten verf\xfcgbar."})};function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==I(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===I(t)?t:String(t)}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var M=[{id:"striche",title:"Striche",component:function(e){var t=e.games,r=(e.currentGameId,e.strokeSettings),n=e.scoreSettings,i=e.gameTypeLabel,a=(0,j.useGameStore)();return((0,o.useEffect)(function(){t&&t.length},[t]),t&&0!==t.length)?(0,c.jsx)("div",{className:"flex flex-col w-full space-y-4",children:(0,c.jsx)("div",{children:t.map(function(e,t){if("teams"in e&&e.teams){var o,s,l,u,f,m,d,p,h,y,g,x=e.id,b="string"==typeof x?parseInt(x,10):x;m="number"!=typeof b||isNaN(b)?t+1:b,d=x,e.teams.top&&e.teams.bottom?(p=null!=(y=e.teams.top.striche)?y:w,h=null!=(g=e.teams.bottom.striche)?g:w):(p=w,h=w)}else{if(!("finalStriche"in e)||!e.finalStriche)return console.warn("Unerwarteter Spieltyp in StricheStatistik:",e),null;m=e.gameNumber,d="summary-".concat(e.gameNumber),p=null!=(o=null==(s=e.finalStriche)?void 0:s.top)?o:w,h=null!=(l=null==(u=e.finalStriche)?void 0:u.bottom)?l:w}var j={striche:p},N={striche:h},S="teams"in e?"__isPlaceholder"in e?"active-":"local-":"online-",O=null!=(f=e.displayNumber)?f:t+1;return a.isGameStarted&&a.isGameCompleted,(0,c.jsx)(v,{gameId:m,spielNummer:O,topTeam:j,bottomTeam:N,showJassPoints:!1,strokeSettings:r,scoreSettings:n,isCurrentGameRow:!1,gameTypeLabel:i},"".concat(S).concat(d,"-").concat(t))})})}):(0,c.jsx)("div",{className:"text-center text-gray-400 py-8",children:"Keine Spieldaten vorhanden."})},calculateData:function(e){return{top:e.teams.top.total,bottom:e.teams.bottom.total}}},{id:"rundenverlauf",title:"Runden",component:function(e){var t=(0,j.useGameStore)(function(e){return e.playerNames});return(0,c.jsx)(D,F(F({},e),{},{playerNames:t}))},calculateData:function(){return{top:0,bottom:0}}},{id:"jasspunkte",title:"Punkte",component:N.F,calculateData:function(e){return{top:e.teams.top.jassPoints,bottom:e.teams.bottom.jassPoints}}}]},8506:(e,t,r)=>{r.d(t,{SS:()=>l,Sn:()=>i,Yq:()=>o,Yz:()=>c,a3:()=>s,xW:()=>a});var n=r(2009);function i(e){return e?e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}):""}function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}function o(e){var t;if(!e)return"-";if(e instanceof Date)t=e;else{if(!e||"number"!=typeof e.seconds)return"-";t=new n.Timestamp(e.seconds,e.nanoseconds).toDate()}return t.toLocaleDateString("de-CH")}function s(e){if(e<60)return"".concat(e,"s");var t=Math.floor(e/60),r=e%60;if(t<60)return r>0?"".concat(t,"m ").concat(r,"s"):"".concat(t,"m");var n=Math.floor(t/60),i=t%60;if(n<24)return i>0?"".concat(n,"h ").concat(i,"m"):"".concat(n,"h");var a=Math.floor(n/24),o=n%24;return o>0?"".concat(a,"d ").concat(o,"h"):"".concat(a,"d")}function l(e){return s(Math.floor(e/1e3))}function c(e){var t=e/60;return t<30?"blitz_schnell":t<75?"schnell":t<150?"normal":t<240?"gem\xfctlich":"marathon"}},8731:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(4232);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a=function(e){var t,r=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],l=!0,c=!1;try{a=(r=r.call(e)).next,!1;for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=r[0],o=r[1],s=(0,n.useRef)(0),l=function(e){o(!0)},c=function(t){o(!1);var r=Date.now();r-s.current<50||(s.current=r,e())};return{isPressedDown:a,handlers:{onMouseDown:l,onMouseUp:c,onMouseLeave:function(){return o(!1)},onTouchStart:l,onTouchEnd:c},buttonClasses:"\n      transition-all duration-100\n      ".concat(a?"scale-95 opacity-80":"scale-100 opacity-100","\n    ")}}},9e3:(e,t,r)=>{r.d(t,{F:()=>l});var n=r(4232),i=r(4277),a=r(9143),o=r(7876);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=function(e){var t=e.games,r=e.currentGameId;e.strokeSettings,e.onSwipe;var l=(0,i.useGameStore)(function(e){return e.scores})||{top:0,bottom:0},c=(0,i.useGameStore)(function(e){return e.weisPoints})||{top:0,bottom:0},u=(0,i.useGameStore)(function(e){return e.isGameStarted&&!e.isGameCompleted}),f=(0,a.zh)({from:{opacity:.3,transform:"scale(0.97)"},to:{opacity:1,transform:"scale(1)"},reset:!0,key:"".concat(l.top+l.bottom),config:{tension:280,friction:20}});if((0,n.useEffect)(function(){t&&t.length},[t,r]),!t||0===t.length)return(0,o.jsx)("div",{className:"text-center text-gray-400 py-8",children:"Keine Punktedaten verf\xfcgbar."});var m=((function(e){if(Array.isArray(e))return s(e)})(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return s(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(function(e,t){var r=function(e){var t=e.displayNumber;if("number"==typeof t&&!isNaN(t))return t;var r="gameNumber"in e?e.gameNumber:e.id,n="string"==typeof r?parseInt(r,10):r;return"number"!=typeof n||isNaN(n)?0:n};return r(e)-r(t)});return(0,o.jsx)(a.CS.div,{style:f,className:"flex flex-col w-full",children:m.map(function(e,t){var n,i="gameNumber"in e?e.gameNumber:e.id,a=u&&i===r,s=0,f=0;if(a)s=l.top+c.top,f=l.bottom+c.bottom;else if("finalScores"in e)s=e.finalScores.top,f=e.finalScores.bottom;else if("teams"in e){var m=e.teams.top.jassPoints||0,d=e.teams.top.weisPoints||0,p=e.teams.bottom.jassPoints||0,h=e.teams.bottom.weisPoints||0;s=m+d,f=p+h}var y=null!=(n=e.displayNumber)?n:t+1;return(0,o.jsxs)("div",{className:"grid grid-cols-[1fr_4fr_4fr] gap-4 items-center py-3 border-b border-gray-700/50 last:border-b-0",children:[(0,o.jsx)("div",{className:"text-gray-400 text-left pl-3",children:y}),(0,o.jsx)("div",{className:"text-center",children:(0,o.jsx)("span",{className:"text-xl text-white inline-block",children:f})}),(0,o.jsx)("div",{className:"text-center",children:(0,o.jsx)("span",{className:"text-xl text-white inline-block",children:s})})]},"".concat(a?"active-game-":"completed-game-").concat(i))})})}}}]);