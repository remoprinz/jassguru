"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[513],{417:(e,t,r)=>{r.d(t,{AM:()=>u,Wv:()=>f,hl:()=>p});var n=r(4232),o=r(3178),a=r(6722),i=r(7876);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=["className","align","sideOffset"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var u=o.bL,f=o.l9;o.Mz;var p=n.forwardRef(function(e,t){var r=e.className,n=e.align,u=e.sideOffset,f=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,c);return(0,i.jsx)(o.ZL,{children:(0,i.jsx)(o.UC,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({ref:t,align:void 0===n?"center":n,sideOffset:void 0===u?4:u,className:(0,a.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",r)},f))})});p.displayName=o.UC.displayName},2269:(e,t,r)=>{r.d(t,{BK:()=>y,eu:()=>m,q5:()=>h});var n=r(4232),o=r(4624),a=r(6722),i=r(7876);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=["className"],s=["className"],u=["className"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var m=n.forwardRef(function(e,t){var r=e.className,n=d(e,c);return(0,i.jsx)(o.bL,p({ref:t,className:(0,a.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r)},n))});m.displayName=o.bL.displayName;var y=n.forwardRef(function(e,t){var r=e.className,n=d(e,s);return(0,i.jsx)(o._V,p({ref:t,className:(0,a.cn)("aspect-square h-full w-full",r)},n))});y.displayName=o._V.displayName;var h=n.forwardRef(function(e,t){var r=e.className,n=d(e,u);return(0,i.jsx)(o.H4,p({ref:t,className:(0,a.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r)},n))});h.displayName=o.H4.displayName},2894:(e,t,r)=>{r.d(t,{A:()=>eO});var n=r(4232),o=r(3649),a=r(4536),i=r(7212),l=r(3355),c=r(8517),s=r(4738),u=r(2322),f=r(950),p=r(417),d=r(6786),m=r(3515),y=r(6722),h=r(4790),b=r(7876);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v=["className"],x=["className"],w=["className"],j=["className"],S=["className"],O=["className"];function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==g(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function k(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var E=n.forwardRef(function(e,t){var r=e.className,n=k(e,v);return(0,b.jsx)(d.uB,P({ref:t,className:(0,y.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",r)},n))});E.displayName=d.uB.displayName;var I=n.forwardRef(function(e,t){var r=e.className,n=k(e,x);return(0,b.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,b.jsx)(m.A,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,b.jsx)(d.uB.Input,P({ref:t,className:(0,y.cn)("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",r)},n))]})});I.displayName=d.uB.Input.displayName;var A=n.forwardRef(function(e,t){var r=e.className,n=k(e,w);return(0,b.jsx)(d.uB.List,P({ref:t,className:(0,y.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",r)},n))});A.displayName=d.uB.List.displayName;var L=n.forwardRef(function(e,t){return(0,b.jsx)(d.uB.Empty,P({ref:t,className:"py-6 text-center text-sm"},e))});L.displayName=d.uB.Empty.displayName;var D=n.forwardRef(function(e,t){var r=e.className,n=k(e,j);return(0,b.jsx)(d.uB.Group,P({ref:t,className:(0,y.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",r)},n))});D.displayName=d.uB.Group.displayName;var C=n.forwardRef(function(e,t){var r=e.className,n=k(e,S);return(0,b.jsx)(d.uB.Separator,P({ref:t,className:(0,y.cn)("-mx-1 h-px bg-border",r)},n))});C.displayName=d.uB.Separator.displayName;var _=n.forwardRef(function(e,t){var r=e.className,n=k(e,O);return(0,b.jsx)(d.uB.Item,P({ref:t,className:(0,y.cn)("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r)},n))});_.displayName=d.uB.Item.displayName;var T=r(5527),G=r(1411),z=r(6176);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(){R=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(t,r,n,a){var i,l,c,s,u=Object.create((r&&r.prototype instanceof h?r:h).prototype);return o(u,"_invoke",{value:(i=t,l=n,c=new k(a||[]),s=p,function(t,r){if(s===d)throw Error("Generator is already running");if(s===m){if("throw"===t)throw r;return{value:e,done:!0}}for(c.method=t,c.arg=r;;){var n=c.delegate;if(n){var o=function t(r,n){var o=n.method,a=r.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=e,t(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),y;var i=f(a,r.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var l=i.arg;return l?l.done?(n[r.resultName]=l.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):l:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,y)}(n,c);if(o){if(o===y)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===p)throw s=m,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=d;var a=f(i,l,c);if("normal"===a.type){if(s=c.done?m:"suspendedYield",a.arg===y)continue;return{value:a.arg,done:c.done}}"throw"===a.type&&(s=m,c.method="throw",c.arg=a.arg)}})}),u}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",d="executing",m="completed",y={};function h(){}function b(){}function g(){}var v={};s(v,i,function(){return this});var x=Object.getPrototypeOf,w=x&&x(x(E([])));w&&w!==r&&n.call(w,i)&&(v=w);var j=g.prototype=h.prototype=Object.create(v);function S(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function O(e,t){var r;o(this,"_invoke",{value:function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,l){var c=f(e[o],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==B(u)&&n.call(u,"__await")?t.resolve(u.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(u).then(function(e){s.value=e,i(s)},function(e){return r("throw",e,i,l)})}l(c.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}})}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function E(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw TypeError(B(t)+" is not iterable")}return b.prototype=g,o(j,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},S(O.prototype),s(O.prototype,l,function(){return this}),t.AsyncIterator=O,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new O(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},S(j),s(j,c,"Generator"),s(j,i,function(){return this}),s(j,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:E(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function U(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||M(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return J(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J(e,t)}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var V=function(e){var t=e.trigger,r=e.group,o=e.currentSelection,a=e.targetSlot,i=e.onSelectMember,l=e.onAddGuest,c=F((0,n.useState)(!1),2),s=c[0],u=c[1],f=F((0,n.useState)({}),2),d=f[0],m=f[1],y=F((0,n.useState)(!1),2),h=y[0],g=y[1];(0,n.useEffect)(function(){var e,t;(e=R().mark(function e(){var t,n,o,a,i,l,c,s;return R().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r&&null!=(t=r.playerIds)&&t.length){e.next=1;break}return e.abrupt("return");case 1:g(!0),n={},o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=M(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}(r.playerIds),e.prev=2,o.s();case 3:if((a=o.n()).done){e.next=8;break}return i=a.value,e.prev=4,e.next=5,(0,G.getPlayerDocument)(i);case 5:(l=e.sent)&&(n[i]=l),e.next=7;break;case 6:e.prev=6,c=e.catch(4),console.error("### PlayerSelectPopover: Fehler beim Laden des Spielers ".concat(i,":"),c);case 7:e.next=3;break;case 8:e.next=10;break;case 9:e.prev=9,s=e.catch(2),o.e(s);case 10:return e.prev=10,o.f(),e.finish(10);case 11:m(n),g(!1);case 12:case"end":return e.stop()}},e,null,[[2,9,10,11],[4,6]])}),t=function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){U(a,n,o,i,l,"next",e)}function l(e){U(a,n,o,i,l,"throw",e)}i(void 0)})},function(){return t.apply(this,arguments)})()},[null==r?void 0:r.playerIds]);var v=n.useMemo(function(){if(!(null!=r&&r.players))return[];var e=Object.values(o).filter(function(e){return(null==e?void 0:e.type)==="member"}).map(function(e){return e.uid}),t=[];if(Object.keys(d).length>0)for(var n=0,a=Object.entries(d);n<a.length;n++){var i=F(a[n],2),l=i[0],c=i[1],s=c.userId||l;e.includes(s)||t.push({type:"member",uid:s,name:c.displayName||"Unbekannt",playerId:l})}else for(var u=0,f=Object.entries(r.players);u<f.length;u++){var p=F(f[u],2),m=p[0],y=p[1];e.includes(m)||t.push({type:"member",uid:m,name:y.displayName||"Unbekannt",playerId:m})}return t},[r,o,d]);return(0,b.jsxs)(p.AM,{open:s,onOpenChange:u,children:[(0,b.jsx)(p.Wv,{asChild:!0,children:t}),(0,b.jsx)(p.hl,{className:"w-[--radix-popover-trigger-width] p-0 bg-gray-800 border-gray-700 text-white",children:(0,b.jsxs)(E,{children:[(0,b.jsx)(I,{placeholder:"Mitglied suchen...",className:"h-9 border-gray-700 placeholder-gray-500 focus:border-blue-500 focus:ring-blue-500"}),(0,b.jsx)(A,{children:h?(0,b.jsx)("div",{className:"py-3 text-center text-gray-400 text-sm",children:"Lade Mitglieder..."}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(L,{children:"Keine Mitglieder gefunden."}),(0,b.jsx)(D,{heading:"Mitglieder ausw\xe4hlen",children:v.map(function(e){var t=Object.values(d).find(function(t){return t.userId===e.uid||t.id===e.uid});return(0,b.jsx)(_,{value:e.name,onSelect:function(e){var t=v.find(function(t){return t.name.toLowerCase()===e.toLowerCase()});t&&i(a,t),u(!1)},className:"hover:bg-gray-700 aria-selected:bg-blue-900/50",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(z.A,{src:null==t?void 0:t.photoURL,alt:e.name,size:"sm",className:"mr-2 flex-shrink-0",fallbackClassName:"bg-gray-600 text-gray-300 text-xs",fallbackText:e.name.charAt(0).toUpperCase()}),(0,b.jsx)("span",{children:e.name})]})},e.uid)})}),(0,b.jsx)(C,{className:"bg-gray-700 my-1"}),(0,b.jsx)(D,{children:(0,b.jsxs)(_,{onSelect:function(){l(a),u(!1)},className:"hover:bg-gray-700 cursor-pointer",children:[(0,b.jsx)(T.A,{className:"mr-2 h-4 w-4 text-gray-400"}),"Als Gast hinzuf\xfcgen..."]})})]})})]})})]})},W=r(9770),$=r(8874),K=r(8484),Y=r(5541);function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Z=function(e){var t=e.isOpen,r=e.onClose,o=e.targetSlot,a=e.onAddGuest,i=q((0,n.useState)(""),2),l=i[0],c=i[1],s=q((0,n.useState)(""),2),u=s[0],f=s[1],p=q((0,n.useState)(!1),2),d=p[0],m=p[1],y=q((0,n.useState)(null),2),g=y[0],v=y[1];return(0,n.useEffect)(function(){t&&(c(""),f(""),m(!1),v(null))},[t]),(0,b.jsx)(h.lG,{open:t,onOpenChange:r,children:(0,b.jsxs)(h.Cf,{className:"bg-gray-800 border-gray-700 text-white max-w-sm",children:[(0,b.jsxs)(h.c7,{children:[(0,b.jsxs)(h.L3,{children:["Gast hinzuf\xfcgen (Slot ",o,")"]}),(0,b.jsx)(h.rr,{className:"text-gray-400",children:"Gib die Daten f\xfcr den Gastspieler ein."})]}),(0,b.jsxs)("div",{className:"py-4 space-y-4",children:[g&&(0,b.jsx)("p",{className:"text-sm text-red-400",children:g}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(K.J,{htmlFor:"guestName",children:"Name *"}),(0,b.jsx)($.p,{id:"guestName",value:l,onChange:function(e){return c(e.target.value)},placeholder:"Name des Gastes",className:"bg-gray-700 border-gray-600 text-white",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(K.J,{htmlFor:"guestEmail",children:"E-Mail (Optional)"}),(0,b.jsx)($.p,{id:"guestEmail",type:"email",value:u,onChange:function(e){return f(e.target.value)},placeholder:"fuer spaetere Einladung",className:"bg-gray-700 border-gray-600 text-white"})]}),u.trim()&&(0,b.jsxs)("div",{className:"flex items-center space-x-2 pt-2",children:[(0,b.jsx)(Y.S,{id:"consent",checked:d,onCheckedChange:function(e){"boolean"==typeof e&&(m(e),e||v(null))},className:"border-gray-600 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),(0,b.jsx)(K.J,{htmlFor:"consent",className:"text-xs leading-snug text-gray-400 cursor-pointer",children:"Ich bin damit einverstanden, dass die E-Mail zum Zweck einer sp\xe4teren Gruppeneinladung durch einen Admin gespeichert wird."})]})]}),(0,b.jsxs)(h.Es,{children:[(0,b.jsx)(W.$,{variant:"outline",onClick:r,className:"text-gray-300 border-gray-600 hover:bg-gray-700",children:"Abbrechen"}),(0,b.jsx)(W.$,{onClick:function(){if(!l.trim())return void v("Bitte gib einen Namen f\xfcr den Gast ein.");if(u.trim()&&!d)return void v("Bitte best\xe4tige die Einwilligung zur E-Mail-Speicherung.");if(null===o){console.error("Target slot is null, cannot add guest."),v("Interner Fehler: Ziel-Slot nicht gesetzt.");return}v(null),a(o,{type:"guest",name:l.trim(),email:u.trim()||null,consent:d&&!!u.trim()}),r()},className:"bg-blue-600 hover:bg-blue-700",children:"Gast hinzuf\xfcgen"})]})]})})},Q=r(9961),X=r(9099),ee=r(3558),et=r(8449),er=r(9688),en=r(7078),eo=r(9017),ea="ios_screen_lock_warning_".concat("2024.12.24"),ei=function(){try{localStorage.getItem(ea)&&(o.useUIStore.getState().setIOSNotificationDontShowAgain(!0),console.log("\uD83D\uDD04 [iOS Notification] localStorage → uiStore sync: dismissed"))}catch(e){console.error("❌ [iOS Notification] Fehler beim Synchronisieren von localStorage:",e)}},el=function(){try{localStorage.setItem(ea,"true"),o.useUIStore.getState().setIOSNotificationDontShowAgain(!0)}catch(e){}},ec=function(e){return{type:"info",message:"\uD83D\uDCA1 iOS Tipp: Bildschirmsperre deaktivieren\n\n\uD83D\uDD27 Schnelle L\xf6sung:\nEinstellungen > Anzeige & Helligkeit\n> Automatische Sperre > Nie\n\n⏰ So bleibt der Bildschirm w\xe4hrend der Jass-Partie aktiv!",actions:[{label:"Verstanden",onClick:function(){var t=o.useUIStore.getState().iosNotification.dontShowAgain;console.log("\uD83C\uDFAF [iOS Notification] Verstanden-Button geklickt. Dont Show Again:",t),t&&(el(),console.log("\uD83D\uDCDD [iOS Notification] Warnung dauerhaft ausgeblendet")),e()}}],isIOSNotification:!0,preventClose:!1,duration:0}};function es(e){return(es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var eu=r(132),ef=r(8310),ep=r(7044);function ed(e){return(ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function em(){em=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(t,r,n,a){var i,l,c,s,u=Object.create((r&&r.prototype instanceof h?r:h).prototype);return o(u,"_invoke",{value:(i=t,l=n,c=new k(a||[]),s=p,function(t,r){if(s===d)throw Error("Generator is already running");if(s===m){if("throw"===t)throw r;return{value:e,done:!0}}for(c.method=t,c.arg=r;;){var n=c.delegate;if(n){var o=function t(r,n){var o=n.method,a=r.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=e,t(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),y;var i=f(a,r.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var l=i.arg;return l?l.done?(n[r.resultName]=l.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):l:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,y)}(n,c);if(o){if(o===y)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===p)throw s=m,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=d;var a=f(i,l,c);if("normal"===a.type){if(s=c.done?m:"suspendedYield",a.arg===y)continue;return{value:a.arg,done:c.done}}"throw"===a.type&&(s=m,c.method="throw",c.arg=a.arg)}})}),u}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",d="executing",m="completed",y={};function h(){}function b(){}function g(){}var v={};s(v,i,function(){return this});var x=Object.getPrototypeOf,w=x&&x(x(E([])));w&&w!==r&&n.call(w,i)&&(v=w);var j=g.prototype=h.prototype=Object.create(v);function S(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function O(e,t){var r;o(this,"_invoke",{value:function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,l){var c=f(e[o],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==ed(u)&&n.call(u,"__await")?t.resolve(u.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(u).then(function(e){s.value=e,i(s)},function(e){return r("throw",e,i,l)})}l(c.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}})}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function E(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw TypeError(ed(t)+" is not iterable")}return b.prototype=g,o(j,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},S(O.prototype),s(O.prototype,l,function(){return this}),t.AsyncIterator=O,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new O(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},S(j),s(j,c,"Generator"),s(j,i,function(){return this}),s(j,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:E(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function ey(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function eh(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){ey(a,n,o,i,l,"next",e)}function l(e){ey(a,n,o,i,l,"throw",e)}i(void 0)})}}function eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eb(Object(r),!0).forEach(function(t){ev(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ev(e,t,r){var n;return(n=function(e,t){if("object"!==ed(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ed(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===ed(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ex(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||ew(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ew(e,t){if(e){if("string"==typeof e)return ej(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ej(e,t)}}function ej(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var eS={initial:{opacity:0,scale:.95},visible:{opacity:1,scale:1},exit:{opacity:0,scale:.95}};let eO=function(e){var t,r,p,d=e.onCancel,m=e.members,y=void 0===m?[]:m,h=(0,o.useUIStore)(),g=(h.setStartScreenState,h.showNotification),v=(0,a.useJassStore)(),x=(0,s.b)(),w=(0,f.useAuthStore)(),j=w.user,S=w.status,O=(0,u.Q5)().currentGroup,N=(0,X.useRouter)(),P=ex((0,n.useState)({1:null,2:null,3:null,4:null}),2),k=P[0],E=P[1],I=ex((0,n.useState)(!1),2),A=I[0],L=I[1],D=ex((0,n.useState)(null),2),C=D[0],_=D[1],T=ex((0,n.useState)({1:"",2:"",3:"",4:""}),2),G=T[0],B=T[1],R=ex((0,n.useState)(c.Xr),1)[0],U=ex((0,n.useState)(null),2),F=U[0],M=U[1],J=ex((0,n.useState)(!1),2),$=J[0],K=J[1],Y=ex((0,n.useState)(!1),2),q=Y[0],H=Y[1],ea=ex((0,n.useState)(!1),2),el=ea[0];ea[1],(0,n.useEffect)(function(){"authenticated"===S&&j?(E(function(e){return eg(eg({},e),{},{1:{type:"member",uid:j.uid,name:j.displayName||"Ich",playerId:j.playerId||j.uid}})}),B({1:j.displayName||"Ich",2:"",3:"",4:""})):(E({1:null,2:null,3:null,4:null}),B({1:"",2:"",3:"",4:""}))},[S,j]),(0,n.useEffect)(function(){sessionStorage.setItem("comingFromStartScreen","true")},[]);var es=function(e){return Object.values(e).every(function(e){return null!==e})},ed=function(e){return Object.values(e).every(function(e){return""!==e.trim()})},ey=function(e,t){"authenticated"===S?es(k)&&(M(e),H(!0)):ed(G)&&(M(e),t&&(t.preventDefault(),t.stopPropagation()))},eb=function(e,t){if(Object.values(k).some(function(e){return(null==e?void 0:e.type)==="member"&&e.uid===t.uid}))return void g({type:"warning",message:"Dieser Spieler ist bereits einem anderen Slot zugewiesen."});E(function(r){return eg(eg({},r),{},ev({},e,t))})},eO=function(e){E(function(t){return eg(eg({},t),{},ev({},e,null))}),F===e&&(M(null),H(!1))},eN=function(e){_(e),L(!0)},eP=function(e,t){B(function(r){return eg(eg({},r),{},ev({},e,t))})},ek=(t=eh(em().mark(function e(){var t,r,n;return em().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.next=4;break;case 2:r=(t=e.sent).isActive?"✅ Wake Lock funktioniert auf ".concat(t.platform,"!"):"❌ Wake Lock nicht verf\xfcgbar: ".concat(t.error),g({type:t.isActive?"success":"warning",message:r,actions:[{label:"OK",onClick:function(){}}]}),e.next=4;break;case 3:e.prev=3,n=e.catch(1),g({type:"error",message:"Wake Lock Test fehlgeschlagen: ".concat(n instanceof Error?n.message:"Unbekannter Fehler"),actions:[{label:"OK",onClick:function(){}}]});case 4:case"end":return e.stop()}},e,null,[[1,3]])})),function(){return t.apply(this,arguments)}),eE=(r=eh(em().mark(function e(){var t,r,n,a,i,l,c,s,u,f,p,d,m;return em().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(t=o.useUIStore.getState()).iosNotification,n=t.markIOSNotificationAsShown,!((0,eo.u)()&&(ei(),o.useUIStore.getState().shouldShowIOSNotification())&&!r.hasBeenShownThisSession)){e.next=1;break}return console.log("\uD83C\uDF4E [iOS Notification] Zeige iOS Bildschirmsperre-Warnung via uiStore"),n(),g(ec(function(){console.log("\uD83C\uDFAF [StartScreen] iOS Verstanden-Button geklickt")})),e.next=1,new Promise(function(e){return setTimeout(e,100)});case 1:if("authenticated"!==S){e.next=5;break}if(es(k)){e.next=2;break}return g({type:"warning",message:"Es wurden noch nicht alle Spieler zugewiesen."}),e.abrupt("return");case 2:if(!(!q||null===F)){e.next=3;break}return g({type:"warning",message:"Bitte w\xe4hle einen Startspieler aus (auf einen Spieler klicken)."}),e.abrupt("return");case 3:return d={1:null!=(a=null==(i=k[1])?void 0:i.name)?a:"Spieler 1",2:null!=(l=null==(c=k[2])?void 0:c.name)?l:"Spieler 2",3:null!=(s=null==(u=k[3])?void 0:u.name)?s:"Spieler 3",4:null!=(f=null==(p=k[4])?void 0:p.name)?f:"Spieler 4"},e.next=4,eI(k,d,F);case 4:e.next=7;break;case 5:if(!((m=Object.entries(G).filter(function(e){var t=ex(e,2);return!(t[0],t[1]).trim()})).length>0)){e.next=6;break}return g({type:"warning",message:"Es wurden nicht alle Spielernamen eingegeben. M\xf6chtest du trotzdem fortfahren?",actions:[{label:"Ohne\nNamen",onClick:function(){var e=eh(em().mark(function e(){var t,r,n,o,a;return em().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return B(a={1:(null==(t=G[1])?void 0:t.trim())||"Du",2:(null==(r=G[2])?void 0:r.trim())||"Gegner 1",3:(null==(n=G[3])?void 0:n.trim())||"Partner",4:(null==(o=G[4])?void 0:o.trim())||"Gegner 2"}),e.next=1,eI(k,a,F);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{label:"Namen\neingeben",onClick:function(){var e=document.querySelector('input[data-player="'.concat(m[0][0],'"]'));null==e||e.focus()}}]}),e.abrupt("return");case 6:return e.next=7,eI(k,G,F);case 7:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)}),eI=(p=eh(em().mark(function e(t,r,n){var a,i,l,s,u,p,d,m,y,h,b,w,P,k;return em().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(K(!0),e.prev=1,!("authenticated"!==(a=f.useAuthStore.getState()).status&&!a.isGuest)){e.next=2;break}return a.continueAsGuest(),e.next=2,new Promise(function(e){return setTimeout(e,100)});case 2:if(!("authenticated"===S&&j&&t)||Object.values(t).map(function(e){return(null==e?void 0:e.type)==="member"?e.uid:null}).filter(function(e){return!!e}).includes(j.uid)){e.next=3;break}return g({type:"info",message:"\uD83C\uDFAE Du leitest dieses Spiel, nimmst aber nicht als Spieler teil. Die Punkte werden f\xfcr die anderen Teilnehmer getrackt.",preventClose:!0,actions:[{label:"Verstanden",onClick:function(){}}]}),e.next=3,new Promise(function(e){return setTimeout(e,1500)});case 3:var E;if(x.isActive&&x.endTutorial(!0),o.useUIStore.getState().resetStartScreen(),(0,c.GA)(R),i=null,l=null,s=null,u=[],p=[],!("authenticated"===S&&j&&t)){e.next=13;break}return e.prev=4,l=(0,et.Ak)(),(y=Object.values(t).map(function(e){return(null==e?void 0:e.type)==="member"?e.uid:null}).filter(function(e){return!!e})).includes(j.uid)||y.push(j.uid),u=h=function(e){if(Array.isArray(e))return ej(e)}(E=new Set(y))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(E)||ew(E)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=null!=(d=null==O?void 0:O.id)?d:null,e.next=5,(0,ee.createSessionDocument)(l,{groupId:s,participantUids:u,playerNames:r});case 5:return b=R.bottom,w=R.top,k=eg(eg({},P={groupId:s,sessionId:l,participantUids:h,playerNames:r,teams:{top:w,bottom:b},scores:{top:0,bottom:0},striche:{top:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0},bottom:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0}},weisPoints:{top:0,bottom:0},currentPlayer:n,currentRound:1,currentGameNumber:1,startingPlayer:n,initialStartingPlayer:n}),{},{groupId:null!=(m=P.groupId)?m:""}),e.next=6,(0,ee.createActiveGame)(k);case 6:return i=e.sent,e.next=7,(0,ee.updateSessionActiveGameId)(l,i);case 7:if(p=Object.values(t).map(function(e){return(null==e?void 0:e.type)==="member"?e.playerId:null}).filter(function(e){return!!e}),console.log("[StartScreen] Player-IDs DIREKT gesammelt: ".concat(p.length,"/").concat(h.length)),console.log("[StartScreen] UIDs: [".concat(h.join(", "),"]")),console.log("[StartScreen] Player-IDs: [".concat(p.join(", "),"]")),p.length!==h.length&&console.warn("[StartScreen] Nicht alle Player-IDs verf\xfcgbar - pr\xfcfe Spieler-Auswahl"),!(p.length>0)){e.next=9;break}return e.next=8,(0,ee.updateSessionParticipantPlayerIds)(l,p);case 8:console.log("[StartScreen] Session ".concat(l," mit ").concat(p.length," Player-IDs aktualisiert."));case 9:e.next=11;break;case 10:return e.prev=10,e.catch(4),er.oR.error("Online-Spiel konnte nicht erstellt werden."),K(!1),e.abrupt("return");case 11:return e.prev=11,e.finish(11);case 12:e.next=13;break;case 13:v.startJass({playerNames:r,initialStartingPlayer:n,activeGameId:null!=i?i:void 0,sessionId:null!=l?l:"local_".concat(Date.now()),groupId:s,participantUids:u,participantPlayerIds:p,initialSettings:{farbeSettings:eu.FT,scoreSettings:ef.$d,strokeSettings:ep.zh}}),l&&v.subscribeToSession(l),N.push("/jass"),e.next=15;break;case 14:e.prev=14,e.catch(1),er.oR.error("Online-Spiel konnte nicht erstellt werden."),K(!1);case 15:case"end":return e.stop()}},e,null,[[1,14],[4,10,11,12]])})),function(e,t,r){return p.apply(this,arguments)}),eA=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="authenticated"===S,n=r?es(k):ed(G),o=n&&F===e;if(r){var a=k[e],i=R.bottom.includes(e),l="relative w-full p-3 pl-4 pr-10 outline-none border-l-4 transition-all duration-150 rounded-xl text-white text-left ".concat(i?"bg-gray-500":"bg-gray-700"," ").concat(i?"border-l-yellow-400":"border-l-blue-400");return o?l+=" border-yellow-500 ring-2 ring-yellow-500":l+=" border-gray-600",n?l+=" ".concat(i?"hover:bg-gray-600":"hover:bg-gray-800"," cursor-pointer"):a||(l+=" text-gray-400 italic cursor-pointer"),l}var c=n&&F===e,s="w-full p-3 outline-none ".concat("bg-gray-600"," border transition-all duration-150 rounded-xl text-white");return s+=" placeholder-gray-300",c?s+=" border-yellow-500 ring-2 ring-yellow-500":s+=" border-gray-600",n&&(c||(s+=" ".concat("hover:bg-gray-700"," cursor-pointer"))),t&&(s+=" ".concat("focus:ring-green-500 focus:border-green-500")),s};return(0,b.jsxs)(i.N,{mode:"wait",children:[$&&(0,b.jsx)(en.A,{message:"Jasstafel wird geladen..."},"global-loader"),(0,b.jsxs)(l.P.div,{className:"fixed inset-0 flex flex-col items-center justify-center bg-gray-900 bg-opacity-90 z-50 p-4",variants:eS,initial:"initial",animate:"visible",exit:"exit",children:[(0,b.jsxs)("div",{className:"relative bg-gray-800 bg-opacity-95 rounded-xl p-6 w-full max-w-xs space-y-6 shadow-lg text-center",children:[(0,b.jsx)("button",{onClick:function(){if(d)return void d();f.useAuthStore.getState().isGuest&&(f.useAuthStore.getState().clearGuestStatus(),console.log("[StartScreen] Gastmodus zur\xfcckgesetzt vor der Navigation"));try{console.log("[StartScreen] Navigiere zur Register-Seite (Standard-Aktion)"),N.push("/auth/register")}catch(e){console.error("[StartScreen] Navigationsfehler:",e),window.location.href="/auth/register"}},className:"absolute top-3 right-3 text-gray-400 hover:text-white transition-colors z-10","aria-label":"Schliessen",children:(0,b.jsx)(Q.A,{size:24})}),(0,b.jsxs)("h2",{className:"text-2xl font-bold text-center mb-4 transition-all duration-200 ".concat("authenticated"===S&&es(k)||"authenticated"!==S&&ed(G)?"text-yellow-400":"text-white"," ").concat("authenticated"===S&&es(k)&&!q||"authenticated"!==S&&ed(G)&&!F?"animate-pulse [animation-duration:2s] drop-shadow-[0_0_8px_rgba(234,179,8,0.4)]":""," ").concat(""),onDoubleClick:ek,title:void 0,children:["authenticated"===S?es(k)?"Startspieler w\xe4hlen":"Spieler erfassen":ed(G)?"Startspieler w\xe4hlen":"Spielernamen eingeben",el&&!1]}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Sitzreihenfolge:"}),(0,b.jsx)("div",{className:"space-y-4",children:"authenticated"===S?(0,b.jsx)(b.Fragment,{children:[1,2,3,4].map(function(e){var t=k[e],r=R.bottom.includes(e),n=r?"Team 1":"Team 2",o=(0,b.jsx)("div",{onClick:function(t){return ey(e,t)},className:eA(e),children:t?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(z.A,{src:function(){if("member"===t.type){var e=y.find(function(e){return e.displayName===t.name});return null==e?void 0:e.photoURL}}(),alt:t.name,size:"sm",className:"mr-3 flex-shrink-0",fallbackClassName:"bg-gray-600 text-gray-300 text-sm",fallbackText:t.name.charAt(0).toUpperCase()}),(0,b.jsxs)("span",{className:"text-white font-medium",children:[t.name," ",(0,b.jsxs)("span",{className:"text-sm font-bold ".concat(r?"text-yellow-400":"text-blue-400"),children:["(",n,")"]})]})]}),(0,b.jsx)(W.$,{variant:"ghost",size:"icon",onClick:function(t){t.stopPropagation(),eO(e)},className:"absolute top-1/2 right-2 transform -translate-y-1/2 text-gray-400 hover:text-white flex-shrink-0 p-1 h-8 w-8","aria-label":"Spieler entfernen",children:(0,b.jsx)(Q.A,{size:18})})]}):(0,b.jsx)("span",{className:"text-gray-400 italic",children:"Spieler (".concat(n,") w\xe4hlen...")})},"slotdisplay-".concat(e));return(0,b.jsx)("div",{children:t?o:(0,b.jsx)(V,{trigger:o,group:O,currentSelection:k,targetSlot:e,onSelectMember:eb,onAddGuest:eN})},e)})}):(0,b.jsx)(b.Fragment,{children:[1,2,3,4].map(function(e){var t=R.bottom.includes(e),r=ed(G);return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text","data-player":e,placeholder:1===e?"Deinen Namen eingeben...":2===e?"Gegner 1 eingeben...":3===e?"Partner eingeben...":"Gegner 2 eingeben...",value:G[e],onChange:function(t){return eP(e,t.target.value)},onClick:function(t){r&&ey(e,t)},className:eA(e,!0)}),G[e]&&(0,b.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:(0,b.jsxs)("span",{className:"text-sm font-bold ".concat(t?"text-yellow-400":"text-blue-400"),children:["(",t?"Team 1":"Team 2",")"]})})]},e)})})}),(0,b.jsx)(l.P.button,{initial:{scale:.9},animate:{scale:1},whileTap:{scale:.95},onClick:function(){("authenticated"===S?es(k)&&q:ed(G)&&F)?eE():"authenticated"===S?es(k)?q||g({type:"info",message:"Bitte w\xe4hle den Startspieler f\xfcrs erste Spiel aus (auf einen Spieler klicken)."}):g({type:"warning",message:"Es wurden noch nicht alle Spieler zugewiesen."}):ed(G)?F||g({type:"info",message:"Bitte w\xe4hle den Startspieler f\xfcrs erste Spiel aus (auf einen Spieler klicken)."}):g({type:"warning",message:"Es wurden noch nicht alle Spielernamen eingegeben."})},className:"w-full text-white text-lg font-bold py-4 px-8 rounded-xl shadow-lg transition-colors border-b-4 min-h-[56px] flex items-center justify-center ".concat(("authenticated"===S?es(k)&&q:ed(G)&&F)?"bg-green-600 hover:bg-green-700 border-green-900 cursor-pointer":"bg-gray-500 border-gray-700 cursor-pointer opacity-70"),children:"START"})]}),"authenticated"===S&&(0,b.jsx)(Z,{isOpen:A,onClose:function(){return L(!1)},targetSlot:C,onAddGuest:function(e,t){E(function(r){return eg(eg({},r),{},ev({},e,t))})}})]},"start-screen-content")]})}},4790:(e,t,r)=>{r.d(t,{Cf:()=>S,Es:()=>N,HM:()=>w,L3:()=>P,c7:()=>O,lG:()=>g,rr:()=>k,zM:()=>v});var n=r(4232),o=r(6303),a=r(9961),i=r(6722),l=r(7876);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=["className"],u=["className","children"],f=["className"],p=["className"],d=["className"],m=["className"];function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var g=o.bL,v=o.l9,x=o.ZL,w=o.bm,j=n.forwardRef(function(e,t){var r=e.className,n=b(e,s);return(0,l.jsx)(o.hJ,h({ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r)},n))});j.displayName=o.hJ.displayName;var S=n.forwardRef(function(e,t){var r=e.className,n=e.children,c=b(e,u);return(0,l.jsxs)(x,{children:[(0,l.jsx)(j,{}),(0,l.jsxs)(o.UC,h(h({ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r)},c),{},{children:[n,(0,l.jsxs)(o.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,l.jsx)(a.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})});S.displayName=o.UC.displayName;var O=function(e){var t=e.className,r=b(e,f);return(0,l.jsx)("div",h({className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t)},r))};O.displayName="DialogHeader";var N=function(e){var t=e.className,r=b(e,p);return(0,l.jsx)("div",h({className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t)},r))};N.displayName="DialogFooter";var P=n.forwardRef(function(e,t){var r=e.className,n=b(e,d);return(0,l.jsx)(o.hE,h({ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",r)},n))});P.displayName=o.hE.displayName;var k=n.forwardRef(function(e,t){var r=e.className,n=b(e,m);return(0,l.jsx)(o.VY,h({ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r)},n))});k.displayName=o.VY.displayName},5541:(e,t,r)=>{r.d(t,{S:()=>p});var n=r(4232),o=r(9470),a=r(7889),i=r(6722),l=r(7876);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=["className"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p=n.forwardRef(function(e,t){var r=e.className,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,s);return(0,l.jsx)(o.bL,f(f({ref:t,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r)},n),{},{children:(0,l.jsx)(o.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,l.jsx)(a.A,{className:"h-4 w-4"})})}))});p.displayName=o.bL.displayName},6176:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(4232),o=r(4587),a=r.n(o),i=r(2269),l=r(6722),c=r(7876);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var f={xs:{width:24,height:24,className:"h-6 w-6"},sm:{width:32,height:32,className:"h-8 w-8"},md:{width:40,height:40,className:"h-10 w-10"},lg:{width:80,height:80,className:"h-20 w-20"},xl:{width:128,height:128,className:"h-32 w-32"}},p=(0,n.memo)(function(e){var t=e.src,r=e.alt,o=e.size,u=void 0===o?"md":o,p=e.fallbackText,d=e.className,m=void 0===d?"":d,y=e.fallbackClassName,h=void 0===y?"":y,b=e.priority,g=e.useNextImage,v=e.lazy,x=void 0===v||v,w=e.optimized,j=void 0!==w&&w,S=s((0,n.useState)(!1),2),O=S[0],N=S[1],P=s((0,n.useState)(!0),2),k=(P[0],P[1]),E=f[u],I=p||r.charAt(0).toUpperCase(),A=t&&""!==t.trim()&&!O,L=(0,n.useCallback)(function(){return j&&({xs:"20px",sm:"28px",md:"36px",lg:"64px",xl:"96px"})[u]||"".concat(E.width,"px")},[j,u,E.width]),D=(0,n.useCallback)(function(){N(!0),k(!1)},[t]),C=(0,n.useCallback)(function(){k(!1)},[]);return void 0!==g&&g?(0,c.jsx)("div",{className:(0,l.cn)("relative overflow-hidden rounded-full bg-gray-800",E.className,m),children:A?(0,c.jsx)(a(),{src:t,alt:r,width:E.width,height:E.height,className:"object-cover h-full w-full",style:{width:"auto",height:"auto"},sizes:L(),priority:void 0!==b&&b&&!x,loading:x?"lazy":"eager",onError:D,onLoad:C}):(0,c.jsx)("div",{className:(0,l.cn)("h-full w-full flex items-center justify-center bg-blue-600 text-white font-semibold",h),children:(0,c.jsx)("span",{style:{fontSize:"".concat(Math.max(12,.3*E.width),"px")},children:I})})}):(0,c.jsxs)(i.eu,{className:(0,l.cn)(E.className,m),children:[A&&(0,c.jsx)(i.BK,{src:t,alt:r,onError:D,onLoad:C}),(0,c.jsx)(i.q5,{className:(0,l.cn)("bg-blue-600 text-white font-semibold flex items-center justify-center",h),style:{fontSize:"".concat(Math.max(12,.3*E.width),"px")},children:I})]})},function(e,t){return e.src===t.src&&e.alt===t.alt&&e.size===t.size&&e.className===t.className&&e.fallbackClassName===t.fallbackClassName});p.displayName="ProfileImage";let d=p},7078:(e,t,r)=>{r.d(t,{A:()=>a}),r(4232);var n=r(7947),o=r(7876);let a=function(e){var t=e.message,r=e.color,a=void 0===r?"white":r;return(0,o.jsxs)("div",{className:"fixed inset-0 flex flex-col items-center justify-center bg-gray-900 bg-opacity-80 z-[9999]",children:[(0,o.jsx)(n.A,{className:"h-16 w-16 ".concat("white"===a?"text-white":"purple"===a?"text-purple-400":"text-".concat(a)," animate-spin")}),(0,o.jsx)("p",{className:"mt-4 text-white text-lg",children:t||"Wird geladen..."})]})}},8484:(e,t,r)=>{r.d(t,{J:()=>p});var n=r(4232),o=r(9773),a=r(7137),i=r(6722),l=r(7876);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=["className"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var f=(0,a.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),p=n.forwardRef(function(e,t){var r=e.className,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,s);return(0,l.jsx)(o.b,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({ref:t,className:(0,i.cn)(f(),r)},n))});p.displayName=o.b.displayName},8874:(e,t,r)=>{r.d(t,{p:()=>s});var n=r(4232),o=r(6722),a=r(7876);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=["className","type"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var s=n.forwardRef(function(e,t){var r=e.className,n=e.type,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,l);return(0,a.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({type:n,className:(0,o.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t},s))});s.displayName="Input"}}]);