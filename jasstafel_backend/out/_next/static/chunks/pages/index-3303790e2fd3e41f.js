(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{7150:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return rN}});var n,o,i,a,s,c,u,l,f,d=r(7294),m=r(32);function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var h=function(){var t,e=function(t){if(Array.isArray(t))return t}(t=(0,d.useState)(function(){return window.innerHeight}))||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{for(i=(r=r.call(t)).next;!(c=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,2)||function(t,e){if(t){if("string"==typeof t)return p(t,2);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(t,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=e[0],n=e[1];return(0,d.useEffect)(function(){var t=function(){var t=window.innerHeight;n(t),document.documentElement.style.setProperty("--vh","".concat(t,"px"))};t();var e=setTimeout(t,100);return window.addEventListener("resize",t),window.addEventListener("orientationchange",t),function(){clearTimeout(e),window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[]),r},g=r(5893),y=function(t){var e=t.className,r=t.outerStrokeWidth,n=void 0===r?2:r,o=t.diagonalStrokeWidth,i=t.position,a=t.onShapeRendered,s=(0,d.useRef)(null);(0,d.useEffect)(function(){if(s.current&&a){var t=s.current.getBoundingClientRect();a({width:t.width,height:t.height,left:t.left,top:t.top})}},[a]);var c=Math.sqrt(2);return(0,g.jsx)("svg",{ref:s,className:e,viewBox:"0 0 120 100",preserveAspectRatio:"xMidYMid meet",children:(0,g.jsxs)("g",{transform:"top"===i?"translate(0, 0)":"none",children:[(0,g.jsx)("path",{d:"M0 0 L110 0",stroke:"currentColor",strokeWidth:n,fill:"none"}),(0,g.jsx)("path",{d:"M0 100 L110 0",stroke:"currentColor",strokeWidth:(void 0===o?.75:o)*c,fill:"none"}),(0,g.jsx)("path",{d:"M0 100 L110 100",stroke:"currentColor",strokeWidth:n,fill:"none"})]})})},b=function(t){var e=t.onSwipeUp,r=t.onSwipeDown,n=t.onSwipeLeft,o=t.onSwipeRight,i=t.threshold,a=void 0===i?50:i,s=t.element;(0,d.useEffect)(function(){var t=null,i=null,c=function(e){e.target.closest('[data-swipe-area="'.concat(s,'"]'))&&(t=e.touches[0].clientX,i=e.touches[0].clientY)},u=function(s){if(null!==t&&null!==i){var c=s.touches[0].clientX,u=s.touches[0].clientY,l=t-c,f=i-u;Math.abs(l)>Math.abs(f)?Math.abs(l)>a&&(l>0&&n?n():l<0&&o&&o(),t=null,i=null):Math.abs(f)>a&&(f>0&&e?e():f<0&&r&&r(),t=null,i=null)}};return document.addEventListener("touchstart",c),document.addEventListener("touchmove",u),function(){document.removeEventListener("touchstart",c),document.removeEventListener("touchmove",u)}},[e,r,n,o,a,s])},v=r(796);function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach(function(e){var n,o;n=e,o=r[e],(n=function(t){var e=function(t,e){if("object"!==x(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==x(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===x(e)?e:String(e)}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}(0,v.ZP)("div")({position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start"}),(0,v.ZP)(m.q.div,{shouldForwardProp:function(t){return"isVertical"!==t&&"color"!==t}})(function(t){var e=t.isVertical;return{position:"absolute",backgroundColor:t.color,width:"2px",height:e?"100%":"2px",transformOrigin:"top left"}});var j=(0,v.ZP)("div")(function(t){return{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",transform:t.isRotated?"rotate(180deg)":"rotate(0)",transformOrigin:"center center"}}),O=function(t){var e=t.stricheCount,r=(t.stricheCounts,t.einheitWert),n=t.strichColor,o=t.animationDuration,i=(t.isActive,t.direction),a=t.edgeOffset,s=t.strichSpacing,c=void 0===s?10:s,u=t.einheitSpacing,l=void 0===u?50:u,f=t.position,p=t.isRotated,h=t.xSize,y=void 0===h?20:h,b=t.isXMode,v=void 0!==b&&b,x=t.xAngle,S=void 0===x?15:x,O=(t.xAlignment,t.isDiagonal,t.diagonalAngle,t.diagonalStrichHeight),P=void 0===O?"100%":O,N=t.diagonalStrichWidth,E=void 0===N?"2px":N,C=(t.diagonalStrichOffset,t.diagonalStrichAngle),k=void 0===C?0:C,T=t.topDiagonalStrichOffset,A=t.bottomDiagonalStrichOffset,I=t.topDiagonalStrichAngle,L=void 0===I?0:I,G=t.bottomDiagonalStrichAngle,D=void 0===G?0:G,R=t.diagonalStrichOffset100er,M=t.diagonalStrichOffset20er,H=t.diagonalStrichAngle100er,_=t.diagonalStrichAngle20er,F=t.xSpacing,z=void 0===F?10:F,W=t.xOffset100erTop,B=void 0===W?63:W,U=t.xOffset100erBottom,J=void 0===U?40:U;t.offset;var K=Math.floor(e/5),q=e%5,Y=e>0;(0,m.q_)({from:{scaleY:0},to:{scaleY:Y?1:0},config:w(w({},m.vc.stiff),{},{duration:void 0===o?1e3:o})});var Z=(0,d.useCallback)(function(t,e,o){var s=Math.floor(t/5),u=t%5,d=s*(l+4*c),m=u*c;if(4===u){var p,h,y=3*c;100===r&&R?(p=R,h=H||k):20===r&&M?(p=M,h=_||k):(p="top"===f?T:A,h="top"===f?L:D);var b=w(w({position:"absolute",height:P,width:E},"top"===f?{right:"calc(".concat(a+d+y,"px + ").concat(p.horizontal," ").concat(100===r?"- 0px":"",")"),top:"calc(0px + ".concat(p.vertical,")")}:{left:"calc(".concat(a+d,"px + ").concat(p.horizontal,")"),bottom:"calc(0px + ".concat(p.vertical,")")}),{},{transform:"rotate(".concat(h,"deg)"),transformOrigin:"bottom left",backgroundColor:n});return(0,g.jsx)("div",{style:b},"strich-".concat(t))}if(o){if("ltr"===i){var v,x="bottom"===f&&0===r?0:5;v={left:"".concat(a+d+m+x,"px")}}else v={right:"".concat(a+d+m,"px")};var S=w({position:"absolute",height:"100%",width:"2px"},v);return(0,g.jsx)("div",{style:w(w({},S),{},{backgroundColor:n})},"strich-".concat(t))}return null},[n,i,a,P,E,k,c,l,f,T,A,L,D,r,R,M,H,_]),$=(0,d.useCallback)(function(t){return(0,g.jsxs)(d.Fragment,{children:[[0,1,2,3].map(function(e){return Z(5*t+e,!1,!0)}),Z(5*t+4,!1,!1)," "]},"einheit-".concat(t))},[Z]),V=(0,d.useMemo)(function(){return Array.from({length:K}).map(function(t,e){return $(e)})},[K,$]),X=(0,d.useMemo)(function(){return Array.from({length:q}).map(function(t,e){return Z(5*K+e,!1,e<4)})},[q,K,Z]),Q=(0,d.useMemo)(function(){if(Y){var t=e-1;return Z(t,!0,t%5<4)}return null},[Y,e,Z]),tt=(0,d.useCallback)(function(){return Array.from({length:Math.ceil(e/2)}).map(function(t,e){return"".concat(35*e,"px")})},[e]),te=(0,d.useCallback)(function(){return tt().map(function(t,r){var o=2*r+2<=e,i=2*r+1===e,a={position:"absolute",width:"0%",height:"104%",top:"50%",transform:"translateY(-50%)"};return"top"===f?a.right="calc(".concat(t," + 40px)"):a.left="calc(".concat(t," + 20px)"),(0,g.jsxs)("div",{style:a,children:[(0,g.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:n,transform:"rotate(".concat(S,"deg)"),transformOrigin:"center",opacity:o||i?1:0}}),(0,g.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:n,transform:"rotate(-".concat(S,"deg)"),transformOrigin:"center",opacity:o?1:0}})]},"x-".concat(r))})},[tt,e,S,n,f]),tr=(0,d.useCallback)(function(){var t=Math.floor(e/10);return t>0?(0,g.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:Array.from({length:t}).map(function(t,e){return(0,g.jsxs)("div",{style:w(w({position:"absolute"},"top"===f?{right:"".concat(23+e*(y+15),"px")}:{left:"".concat(23+e*(y+15),"px")}),{},{top:"50%",transform:"translateY(-50%)",width:"".concat(y,"px"),height:"107%"}),children:[(0,g.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:n,transform:"rotate(".concat(S,"deg)"),transformOrigin:"center"}}),(0,g.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:n,transform:"rotate(-".concat(S,"deg)"),transformOrigin:"center"}})]},"hundred-x-".concat(e))})}):null},[e,n,y,S,f]),tn=(0,d.useMemo)(function(){if(v)return te();if(100===r){var t=Math.floor(e/10),n=e-10*t,o=t*(y+z),i=null!=B?B:63,a=null!=J?J:40;return(0,g.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[tr(),n>0&&(0,g.jsx)("div",{style:w(w({position:"absolute"},"top"===f?{right:t>0?"calc(".concat(o,"px + ").concat(i,"px)"):"calc(".concat(25,"px + 16px)")}:{left:t>0?"calc(".concat(o,"px + ").concat(a,"px)"):"calc(".concat(25,"px - 8px)")}),{},{top:0,bottom:0,width:"".concat(n*c,"px")}),children:Array.from({length:n}).map(function(t,e){return Z(e,!1,!0)})})]})}if(20!==r)return(0,g.jsxs)(g.Fragment,{children:[V,X,Q]});var s=Math.floor(e/5),u=e%5,d=s*(l+4*c)+u*c;return(0,g.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:(0,g.jsxs)("div",{style:w(w({position:"absolute"},"top"===f?{right:"25px"}:{left:"0px"}),{},{top:0,bottom:0,width:"".concat(d,"px")}),children:[Array.from({length:s}).map(function(t,e){return $(e)}),Array.from({length:u}).map(function(t,e){return Z(5*s+e,!1,e<4)})]})})},[e,r,v,te,tr,y,z,f,c,Z,V,X,Q,l,$]);return(0,d.useEffect)(function(){},[e]),(0,g.jsx)(j,{isRotated:void 0!==p&&p,children:tn})},P=r(1993);function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(){E=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(e,r,n,i){var a,s,c=Object.create((r&&r.prototype instanceof g?r:g).prototype);return o(c,"_invoke",{value:(a=new k(i||[]),s=d,function(r,o){if(s===m)throw Error("Generator is already running");if(s===p){if("throw"===r)throw o;return{value:t,done:!0}}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var c=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),h;var a=f(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var s=a.arg;return s?s.done?(n[r.resultName]=s.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):s:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,h)}(i,a);if(c){if(c===h)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var u=f(e,n,a);if("normal"===u.type){if(s=a.done?p:"suspendedYield",u.arg===h)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=p,a.method="throw",a.arg=u.arg)}})}),c}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",m="executing",p="completed",h={};function g(){}function y(){}function b(){}var v={};u(v,a,function(){return this});var x=Object.getPrototypeOf,S=x&&x(x(T([])));S&&S!==r&&n.call(S,a)&&(v=S);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==N(l)&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,a,s)},function(t){r("throw",t,a,s)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,s)})}s(c.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function T(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(N(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(O.prototype),u(O.prototype,s,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),u(w,c,"Generator"),u(w,a,function(){return this}),u(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}function C(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){r(t);return}s.done?e(c):Promise.resolve(c).then(n,o)}function k(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){C(i,n,o,a,s,"next",t)}function s(t){C(i,n,o,a,s,"throw",t)}a(void 0)})}}function T(t){var e=function(t,e){if("object"!==N(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==N(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===N(e)?e:String(e)}var A=new(a=function t(){var e,r;(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,t),r="jass_sessions",(e=T(e="STORAGE_KEY"))in this?Object.defineProperty(this,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[e]=r},s=[{key:"getStorageKey",value:function(t){return"".concat(this.STORAGE_KEY,"_").concat(t)}},{key:"saveSession",value:(n=k(E().mark(function t(e){var r,n;return E().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=this.getStorageKey(e.id),t.next=4,localStorage.setItem(r,JSON.stringify(e));case 4:return t.next=6,this.listSessions();case 6:if((n=t.sent).find(function(t){return t.id===e.id})){t.next=11;break}return n.push(e),t.next=11,localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n));case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(0),console.error("Fehler beim Speichern der Session:",t.t0),t.t0;case 17:case"end":return t.stop()}},t,this,[[0,13]])})),function(t){return n.apply(this,arguments)})},{key:"loadSession",value:(o=k(E().mark(function t(e){var r;return E().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=localStorage.getItem(this.getStorageKey(e))){t.next=3;break}throw Error("Session ".concat(e," nicht gefunden"));case 3:return t.abrupt("return",JSON.parse(r));case 4:case"end":return t.stop()}},t,this)})),function(t){return o.apply(this,arguments)})},{key:"listSessions",value:(i=k(E().mark(function t(){var e;return E().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=localStorage.getItem(this.STORAGE_KEY),t.abrupt("return",e?JSON.parse(e):[]);case 5:return t.prev=5,t.t0=t.catch(0),console.error("Fehler beim Laden der Sessions:",t.t0),t.abrupt("return",[]);case 9:case"end":return t.stop()}},t,this,[[0,5]])})),function(){return i.apply(this,arguments)})}],function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T(n.key),n)}}(a.prototype,s),Object.defineProperty(a,"prototype",{writable:!1}),a),I={top:[2,4],bottom:[1,3]},L=I,G=function(t){L=t},D={berg:1,sieg:2,matsch:1,schneider:2,kontermatsch:2},R=function(t){return{horizontal:(t.matsch||0)+(t.kontermatsch||0),vertikal:(t.berg||0)+(t.sieg||0)+(t.schneider||0)}},M=function(t){var e=t%4+1;return e>=1&&e<=4?e:1},H=function(t,e){if(!t)return e;var r=t.teams.top.striche.sieg>0?"top":t.teams.bottom.striche.sieg>0?"bottom":null;if(!r)return e;var n=L["top"===r?"bottom":"top"],o=t.currentPlayer;if(n.includes(o))return o;for(var i=M(o);!n.includes(i);)i=M(i);return i};function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t){return function(t){if(Array.isArray(t))return z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return z(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function B(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?W(Object(r),!0).forEach(function(e){var n,o;n=e,o=r[e],(n=function(t){var e=function(t,e){if("object"!==_(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_(e)?e:String(e)}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var U=(0,P.U)(function(t,e){return{jassStartTime:null,gameStartTime:null,roundStartTime:null,history:{jass:[],games:[],rounds:[]},startJassTimer:function(){t(function(t){return B(B({},t),{},{jassStartTime:Date.now(),history:B(B({},t.history),{},{jass:[].concat(F(t.history.jass),[{startTime:Date.now()}])})})})},startGameTimer:function(){t(function(t){return B(B({},t),{},{gameStartTime:Date.now(),history:B(B({},t.history),{},{games:[].concat(F(t.history.games),[{startTime:Date.now()}])})})})},startRoundTimer:function(){t(function(t){return B(B({},t),{},{roundStartTime:Date.now(),history:B(B({},t.history),{},{rounds:[].concat(F(t.history.rounds),[{startTime:Date.now()}])})})})},completeRound:function(){var e=Date.now();t(function(t){var r=F(t.history.rounds),n=r[r.length-1];return n&&(n.endTime=e,n.duration=e-n.startTime),B(B({},t),{},{roundStartTime:null,history:B(B({},t.history),{},{rounds:r})})})},completeGame:function(){var e=Date.now();t(function(t){var r=F(t.history.games),n=r[r.length-1];return n&&(n.endTime=e,n.duration=e-n.startTime),B(B({},t),{},{gameStartTime:null,roundStartTime:null,history:B(B({},t.history),{},{games:r})})})},completeJass:function(){var e=Date.now();t(function(t){var r=F(t.history.jass),n=r[r.length-1];return n&&(n.endTime=e,n.duration=e-n.startTime),B(B({},t),{},{jassStartTime:null,gameStartTime:null,roundStartTime:null,history:B(B({},t.history),{},{jass:r})})})},getAnalytics:function(){var t=e(),r=Date.now(),n=function(t){return t.length>0?t.reduce(function(t,e){return t+e},0)/t.length:0},o=t.history.rounds.filter(function(t){return t.duration}).map(function(t){return t.duration}),i=t.history.games.filter(function(t){return t.duration}).map(function(t){return t.duration}),a=t.history.jass.filter(function(t){return t.duration}).map(function(t){return t.duration}),s=t.jassStartTime?r-t.jassStartTime:0,c=t.gameStartTime?r-t.gameStartTime:0,u=t.roundStartTime?r-t.roundStartTime:0;return{averageRoundDuration:n(o),averageGameDuration:n(i),averageJassDuration:n(a),totalJassTime:a.reduce(function(t,e){return t+e},0)+s,currentJassDuration:s,currentGameDuration:c,currentRoundDuration:u}},resetRoundTimer:function(){t(function(t){return B(B({},t),{},{roundStartTime:null})})},resetGameTimers:function(){t(function(t){return B(B({},t),{},{gameStartTime:null,roundStartTime:null})})},resetAllTimers:function(){t(function(t){return B(B({},t),{},{jassStartTime:null,gameStartTime:null,roundStartTime:null,history:{jass:[],games:[],rounds:[]}})})}}});function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t){return function(t){if(Array.isArray(t))return q(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return q(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Y(){Y=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(e,r,n,i){var a,s,c=Object.create((r&&r.prototype instanceof g?r:g).prototype);return o(c,"_invoke",{value:(a=new E(i||[]),s=d,function(r,o){if(s===m)throw Error("Generator is already running");if(s===p){if("throw"===r)throw o;return{value:t,done:!0}}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var c=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),h;var a=f(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var s=a.arg;return s?s.done?(n[r.resultName]=s.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):s:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,h)}(i,a);if(c){if(c===h)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var u=f(e,n,a);if("normal"===u.type){if(s=a.done?p:"suspendedYield",u.arg===h)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=p,a.method="throw",a.arg=u.arg)}})}),c}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",m="executing",p="completed",h={};function g(){}function y(){}function b(){}var v={};u(v,a,function(){return this});var x=Object.getPrototypeOf,S=x&&x(x(C([])));S&&S!==r&&n.call(S,a)&&(v=S);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==J(l)&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,a,s)},function(t){r("throw",t,a,s)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,s)})}s(c.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(J(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(O.prototype),u(O.prototype,s,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),u(w,c,"Generator"),u(w,a,function(){return this}),u(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}function Z(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){r(t);return}s.done?e(c):Promise.resolve(c).then(n,o)}function $(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){Z(i,n,o,a,s,"next",t)}function s(t){Z(i,n,o,a,s,"throw",t)}a(void 0)})}}function V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function X(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?V(Object(r),!0).forEach(function(e){var n,o;n=e,o=r[e],(n=function(t){var e=function(t,e){if("object"!==J(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==J(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===J(e)?e:String(e)}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Q=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";return console.log("\uD83D\uDCDD Creating Game Entry:",{id:t,startingPlayer:e,sessionId:r}),{id:t,timestamp:Date.now(),teams:{top:tt(),bottom:tt()},sessionId:r,currentRound:1,startingPlayer:e,initialStartingPlayer:e,currentPlayer:e,roundHistory:[],currentHistoryIndex:-1,historyState:{isNavigating:!1,lastNavigationTimestamp:Date.now()},isGameStarted:!1,isRoundCompleted:!1,isGameCompleted:!1}},tt=function(){return{bergActive:!1,bedankenActive:!1,isSigned:!1,striche:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0},total:0,jassPoints:0,weisPoints:0,playerStats:{1:{striche:0,points:0,weisPoints:0},2:{striche:0,points:0,weisPoints:0},3:{striche:0,points:0,weisPoints:0},4:{striche:0,points:0,weisPoints:0}}}},te=function(t){return Object.values(t).reduce(function(t,e){return t+e},0)},tr=(0,P.U)()(function(t,e){var r,n;return{isJassStarted:!1,currentSession:null,currentRound:1,isJassCompleted:!1,teams:{top:tt(),bottom:tt()},games:[],currentGameId:0,currentGameCache:null,saveSession:(r=$(Y().mark(function t(){var r,n,o,i,a;return Y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=e(),i=tB.getState(),a={id:"session_".concat(Date.now()),gruppeId:"default",startedAt:(null===(r=o.games[0])||void 0===r?void 0:r.timestamp)||Date.now(),endedAt:Date.now(),playerNames:i.playerNames,games:o.games.map(function(t){return t.id}),metadata:{location:"Standard Location",notes:""},statistics:{gamesPlayed:o.games.length,totalDuration:Date.now()-((null===(n=o.games[0])||void 0===n?void 0:n.timestamp)||Date.now()),scores:{top:o.teams.top.total,bottom:o.teams.bottom.total},weisCount:o.games.reduce(function(t,e){return t+(e.teams.top.weisPoints+e.teams.bottom.weisPoints)},0),stricheCount:o.games.reduce(function(t,e){return{berg:t.berg+e.teams.top.striche.berg+e.teams.bottom.striche.berg,sieg:t.sieg+e.teams.top.striche.sieg+e.teams.bottom.striche.sieg,matsch:t.matsch+e.teams.top.striche.matsch+e.teams.bottom.striche.matsch,schneider:t.schneider+e.teams.top.striche.schneider+e.teams.bottom.striche.schneider,kontermatsch:t.kontermatsch+e.teams.top.striche.kontermatsch+e.teams.bottom.striche.kontermatsch}},{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0})}},t.prev=3,t.next=6,A.saveSession(a);case 6:return t.abrupt("return",a.id);case 9:throw t.prev=9,t.t0=t.catch(3),console.error("Fehler beim Speichern der Session:",t.t0),t.t0;case 13:case"end":return t.stop()}},t,null,[[3,9]])})),function(){return r.apply(this,arguments)}),loadSession:(n=$(Y().mark(function t(e){return Y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.loadSession(e);case 3:t.sent,t.next=10;break;case 6:throw t.prev=6,t.t0=t.catch(0),console.error("Fehler beim Laden der Session:",t.t0),t.t0;case 10:case"end":return t.stop()}},t,null,[[0,6]])})),function(t){return n.apply(this,arguments)}),startJass:function(e){var r=Q(1,tB.getState().currentPlayer,"default");console.log("\uD83C\uDCCF First Game Created:",r),t({currentGameId:1,games:[r],currentSession:{id:"jass_".concat(Date.now()),gruppeId:"default",startedAt:Date.now(),playerNames:e.playerNames,games:[1],metadata:{location:"Standard Location",notes:""},statistics:{gamesPlayed:1,totalDuration:0,scores:{top:0,bottom:0},weisCount:0,stricheCount:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0}}}}),t({isJassStarted:!0}),U.getState().startJassTimer()},finalizeGame:function(){var r=e(),n=tB.getState(),o=r.games.find(function(t){return t.id===r.currentGameId});if(o){var i=X(X({},o),{},{teams:{top:X(X({},o.teams.top),{},{jassPoints:n.scores.top,total:n.scores.top,striche:X({},n.striche.top)}),bottom:X(X({},o.teams.bottom),{},{jassPoints:n.scores.bottom,total:n.scores.bottom,striche:X({},n.striche.bottom)})},roundHistory:n.roundHistory,currentRound:n.currentRound,currentPlayer:n.currentPlayer,currentHistoryIndex:n.currentHistoryIndex,historyState:n.historyState,isGameStarted:n.isGameStarted,isRoundCompleted:n.isRoundCompleted,isGameCompleted:!0});t({games:r.games.map(function(t){return t.id===o.id?i:t})})}},resetJass:function(){t({isJassStarted:!1,currentSession:null,currentRound:0,isJassCompleted:!1,teams:{top:tt(),bottom:tt()},games:[],currentGameId:0})},undoNewGame:function(){var r=e();if(!(r.games.length<=1)){var n=r.games.slice(0,-1),o=n[n.length-1];if(o){var i=tB.getState();i.resetGamePoints(),i.setScore("top",o.teams.top.jassPoints),i.setScore("bottom",o.teams.bottom.jassPoints);var a=r.games[r.games.length-1],s=X({},r.teams);s.top=X(X({},s.top),{},{jassPoints:s.top.jassPoints-a.teams.top.jassPoints,total:s.top.total-a.teams.top.jassPoints}),s.bottom=X(X({},s.bottom),{},{jassPoints:s.bottom.jassPoints-a.teams.bottom.jassPoints,total:s.bottom.total-a.teams.bottom.jassPoints}),t({games:n,currentGameId:o.id,teams:s})}}},navigateToGame:function(r){var n,o,i,a=e(),s=a.games.find(function(t){return t.id===r});if(s){var c=r===a.games.length,u=s.roundHistory.length-1,l=s.roundHistory[u],f=null!==(n=null==l?void 0:l.roundState)&&void 0!==n?n:{roundNumber:s.currentRound,nextPlayer:s.currentPlayer};tB.setState({scores:{top:s.teams.top.jassPoints,bottom:s.teams.bottom.jassPoints},striche:{top:s.teams.top.striche,bottom:s.teams.bottom.striche},roundHistory:s.roundHistory,currentRound:f.roundNumber,currentPlayer:f.nextPlayer,currentHistoryIndex:c?u:-1,historyState:{isNavigating:!c,lastNavigationTimestamp:Date.now()},isGameStarted:!0,isRoundCompleted:null!==(o=null==l?void 0:l.isRoundFinalized)&&void 0!==o&&o,isGameCompleted:null!==(i=s.isGameCompleted)&&void 0!==i&&i}),t({currentGameId:r,teams:s.teams})}},navigateToPreviousGame:function(){var t=e();return t.currentGameId>1&&(e().navigateToGame(t.currentGameId-1),!0)},navigateToNextGame:function(){var t=e();return t.currentGameId<t.games.length&&(e().navigateToGame(t.currentGameId+1),!0)},canNavigateBack:function(){return e().currentGameId>1},canNavigateForward:function(){var t=e();return t.currentGameId<t.games.length},calculateTotalPoints:function(){var t=e();return{top:t.teams.top.total,bottom:t.teams.bottom.total}},calculateTotalJassPoints:function(){var t=e();return{top:t.teams.top.jassPoints,bottom:t.teams.bottom.jassPoints}},getGameHistory:function(){return e().games},getCurrentGame:function(){var t=e();return t.games.find(function(e){return e.id===t.currentGameId})},getVisibleGames:function(){var t=e();return t.games.filter(function(e){return e.id<=t.currentGameId})},getState:function(){return e()},setState:function(e){return t(e)},subscribe:function(t){return tr.subscribe(t)},updateWeisPoints:function(e,r){t(function(t){var n=X({},t.teams);return n[e].weisPoints+=r,n[e].total+=r,{teams:n}})},updateCurrentGame:function(e){t(function(t){var r=t.games.find(function(e){return e.id===t.currentGameId});if(!r)return t;var n=e.teams?{top:X(X({},r.teams.top),e.teams.top),bottom:X(X({},r.teams.bottom),e.teams.bottom)}:r.teams;return X(X({},t),{},{games:t.games.map(function(r){return r.id===t.currentGameId?X(X(X({},r),e),{},{teams:n}):r})})})},getTotalsUpToGame:function(t){return e().games.filter(function(e){return e.id<=t}).reduce(function(t,e){return{striche:{top:t.striche.top+te(e.teams.top.striche),bottom:t.striche.bottom+te(e.teams.bottom.striche)},punkte:{top:t.punkte.top+e.teams.top.total,bottom:t.punkte.bottom+e.teams.bottom.total}}},{striche:{top:0,bottom:0},punkte:{top:0,bottom:0}})},startGame:function(){var r=e();if(!r.currentSession){console.error("Keine g\xfcltige Session gefunden");return}var n=tB.getState(),o=r.currentGameId+1,i=H(r.games.find(function(t){return t.id===r.currentGameId})||null,n.startingPlayer),a=Q(o,i,r.currentSession.id);tB.setState({currentPlayer:i,startingPlayer:i,scores:{top:0,bottom:0},weisPoints:{top:0,bottom:0},striche:{top:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0},bottom:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0}},roundHistory:[],currentRound:1,isGameStarted:!0,isRoundCompleted:!1,isGameCompleted:!1}),t(function(t){var e,r,n;return X(X({},t),{},{currentGameId:o,games:[].concat(K(t.games),[a]),currentSession:X(X({},t.currentSession),{},{games:[].concat(K(t.currentSession.games),[o]),statistics:X(X({},t.currentSession.statistics),{},{gamesPlayed:((null===(e=t.currentSession.statistics)||void 0===e?void 0:e.gamesPlayed)||0)+1,totalDuration:Date.now()-t.currentSession.startedAt,scores:{top:t.teams.top.total,bottom:t.teams.bottom.total},weisCount:(null===(r=t.currentSession.statistics)||void 0===r?void 0:r.weisCount)||0,stricheCount:(null===(n=t.currentSession.statistics)||void 0===n?void 0:n.stricheCount)||{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0}})})})}),e().saveSession().catch(console.error);var s=U.getState();s.resetGameTimers(),s.startGameTimer(),s.startRoundTimer()}}}),tn=function(t){var e={100:Math.floor(t/100),50:0,20:0},r=t%100;return r>=50&&(e[50]=Math.floor(r/50),r%=50),r>=20&&(e[20]=Math.floor(r/20),r%=20),{striche:e,restZahl:r}},to=[{id:"misere",name:"Mis\xe8re",multiplier:1,order:1,emojiStyle:{backgroundColor:"bg-[#f87171] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#f87171]"}},{id:"eicheln",name:"Eicheln",multiplier:7,order:7,emojiStyle:{backgroundColor:"bg-[#65a30d] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#65a30d]"}},{id:"rosen",name:"Rosen",multiplier:4,order:3,emojiStyle:{backgroundColor:"bg-[#fde047] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#fde047]"}},{id:"schellen",name:"Schellen",multiplier:2,order:4,emojiStyle:{backgroundColor:"bg-[#fbbf24] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#fbbf24]"}},{id:"schilten",name:"Schilten",multiplier:3,order:5,emojiStyle:{backgroundColor:"bg-[#64748b] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#6b7280]"}},{id:"obe",name:"Obe",multiplier:5,order:6,emojiStyle:{backgroundColor:"bg-[#0891b2] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#0284c7]"}},{id:"une",name:"Une",multiplier:6,order:7,emojiStyle:{backgroundColor:"bg-[#0369a1] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#854d0e]"}},{id:"dreimal",name:"3x3",multiplier:4,order:8,emojiStyle:{backgroundColor:"bg-[#f0abfc] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#f0abfc]"}},{id:"quer",name:"Quer",multiplier:7,order:10,emojiStyle:{backgroundColor:"bg-[#f87171] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#0891b2]"}},{id:"slalom",name:"Slalom",multiplier:7,order:9,emojiStyle:{backgroundColor:"bg-white group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-white"}}],ti={bergScore:2500,siegScore:5e3,schneiderScore:2500,gameMode:((c={}).JASSGROUP="JASSGROUP",c).JASSGROUP,enableWeis:!0,enableMultiplier:!0};function ta(t){return(ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ts(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function tc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function tu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tc(Object(r),!0).forEach(function(e){tl(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tc(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function tl(t,e,r){var n;return(n=function(t,e){if("object"!==ta(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ta(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===ta(n)?n:String(n))in t)?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var tf=function(){return{isActive:!1,pressStartTime:null,chargeAmount:0}},td={baseStrich:{length:20,width:1.5,color:"rgba(255, 255, 255, 0.9)",opacity:.9},diagonalStrich:{length:28,width:1.5,angle:45,offset:{x:-1,y:0}},container:{spacing:4,groupSpacing:8,scale:1}},tm="jassguru_farbe_settings",tp="jassguru_score_settings",th="jassguru_pictogram_settings",tg=function(t){try{localStorage.setItem(tm,JSON.stringify(t))}catch(t){console.error("Fehler beim Speichern der Farben-Settings:",t)}},ty=function(t){try{localStorage.setItem(tp,JSON.stringify(t))}catch(t){console.error("Fehler beim Speichern der Score-Settings:",t)}},tb=function(t){try{localStorage.setItem(th,JSON.stringify(t))}catch(t){console.error("Fehler beim Speichern der Piktogramm-Settings:",t)}},tv=tu({multipliers:to.map(function(t){return t.multiplier}),isFlipped:!1},function(){try{var t=localStorage.getItem(tm);if(!t)return{};return JSON.parse(t)}catch(t){return console.error("Fehler beim Laden der Farben-Settings:",t),{}}}()),tx=function(){var t=localStorage.getItem("scoreSettings");if(t)try{return JSON.parse(t)}catch(t){console.error("Fehler beim Laden der Score-Settings:",t)}return{siegScore:5e3,bergScore:2500,schneiderScore:2500,isBergEnabled:!0,isSchneiderEnabled:!0}};tu({siegScore:ti.siegScore,bergScore:ti.bergScore,schneiderScore:ti.schneiderScore,isBergEnabled:!0,isSchneiderEnabled:!0},function(){try{var t=localStorage.getItem(tp);if(!t)return{};return JSON.parse(t)}catch(t){return console.error("Fehler beim Laden der Score-Settings:",t),{}}}());var tS=tu(tu({},{isEnabled:!0,mode:"svg"}),function(){try{var t=localStorage.getItem(th);return t?JSON.parse(t):{isEnabled:!0,mode:"svg"}}catch(t){return console.error("Fehler beim Laden der Piktogramm-Settings:",t),{isEnabled:!0,mode:"svg"}}}()),tw=(0,P.U)(function(t,e){return{calculator:{isOpen:!1,value:0,isFlipped:!1},gameInfo:{isOpen:!1},startScreen:{transitionState:"initial",names:{1:"",2:"",3:"",4:""}},history:{warning:null},chargeEffects:{berg:{top:tf(),bottom:tf()},bedanken:{top:tf(),bottom:tf()},matsch:{top:tf(),bottom:tf()}},menu:{isOpen:!1,activeButton:null,showIntroduction:!1,showResetWarning:!1},resultatKreidetafel:{isOpen:!1,swipePosition:null,currentStatistic:"striche"},settings:{isOpen:!1,activeTab:"farben",pictogramConfig:tS},farbeSettings:tv,scoreSettings:tx(),isGameInfoOpen:!1,isHistoryWarningOpen:!1,historyWarningCallback:null,lastDoubleClickPosition:null,historyWarning:{show:!1,message:"",onConfirm:function(){},onCancel:function(){}},isPaused:!1,strichStyle:td,startCharge:function(e,r){return t(function(t){return{chargeEffects:tu(tu({},t.chargeEffects),{},tl({},r,tu(tu({},t.chargeEffects[r]),{},tl({},e,{isActive:!0,pressStartTime:Date.now(),chargeAmount:0}))))}})},updateCharge:function(r,n){var o=e().chargeEffects[n][r];if(o.isActive&&o.pressStartTime){var i=Date.now()-o.pressStartTime;t(function(t){return{chargeEffects:tu(tu({},t.chargeEffects),{},tl({},n,tu(tu({},t.chargeEffects[n]),{},tl({},r,tu(tu({},o),{},{chargeAmount:Math.min(i/1e3,1)})))))}})}},endCharge:function(e,r){return t(function(t){return{chargeEffects:tu(tu({},t.chargeEffects),{},tl({},r,tu(tu({},t.chargeEffects[r]),{},tl({},e,tf()))))}})},resetChargeEffects:function(){return t(function(){return{chargeEffects:{berg:{top:tf(),bottom:tf()},bedanken:{top:tf(),bottom:tf()},matsch:{top:tf(),bottom:tf()}}}})},openCalculator:function(){return t(function(t){return{calculator:tu(tu({},t.calculator),{},{isOpen:!0})}})},closeCalculator:function(){return t(function(t){return{calculator:tu(tu({},t.calculator),{},{isOpen:!1})}})},setCalculatorFlipped:function(e){return t(function(t){return{calculator:tu(tu({},t.calculator),{},{isFlipped:e})}})},setStartScreenState:function(e){return t(function(t){return{startScreen:tu(tu({},t.startScreen),{},{transitionState:e})}})},setStartScreenNames:function(e){return t(function(t){return{startScreen:tu(tu({},t.startScreen),{},{names:e})}})},setMenuActiveButton:function(e){return t(function(t){return{menu:tu(tu({},t.menu),{},{activeButton:e})}})},setShowIntroduction:function(e){return t(function(t){return{menu:tu(tu({},t.menu),{},{showIntroduction:e})}})},setShowResetWarning:function(e){return t(function(t){return{menu:tu(tu({},t.menu),{},{showResetWarning:e})}})},resetAll:function(){return t(function(){return{calculator:{isOpen:!1,value:0,isFlipped:!1},gameInfo:{isOpen:!1},startScreen:{transitionState:"initial",names:{1:"",2:"",3:"",4:""}},history:{warning:null},chargeEffects:{berg:{top:tf(),bottom:tf()},bedanken:{top:tf(),bottom:tf()},matsch:{top:tf(),bottom:tf()}},menu:{isOpen:!1,activeButton:null,showIntroduction:!1,showResetWarning:!1},resultatKreidetafel:{isOpen:!1,swipePosition:null,currentStatistic:"striche"},historyWarning:{show:!1,message:"",onConfirm:function(){},onCancel:function(){}}}})},setMenuOpen:function(e){return t(function(t){return{menu:tu(tu({},t.menu),{},{isOpen:e})}})},openResultatKreidetafel:function(e){return t({resultatKreidetafel:{isOpen:!0,swipePosition:e,currentStatistic:"striche"}})},closeResultatKreidetafel:function(){return t({resultatKreidetafel:{isOpen:!1,swipePosition:null,currentStatistic:"striche"}})},setGameInfoOpen:function(e){return t({isGameInfoOpen:e})},setHistoryWarningOpen:function(e){return t({isHistoryWarningOpen:e})},setHistoryWarningCallback:function(e){return t({historyWarningCallback:e})},setLastDoubleClickPosition:function(e){return t({lastDoubleClickPosition:e})},showHistoryWarning:function(e){t({historyWarning:{show:!0,message:e.message,onConfirm:e.onConfirm,onCancel:e.onCancel}})},closeHistoryWarning:function(){return t(function(t){return{historyWarning:tu(tu({},t.historyWarning),{},{show:!1})}})},pauseGame:function(){return t({isPaused:!0})},resumeGame:function(){return t({isPaused:!1})},setKreidetafelPosition:function(e){return t(function(t){return{resultatKreidetafel:tu(tu({},t.resultatKreidetafel),{},{swipePosition:e})}})},setKreidetafelStatistic:function(e){return t(function(t){return{resultatKreidetafel:tu(tu({},t.resultatKreidetafel),{},{currentStatistic:e})}})},setStrichStyle:function(e){return t(function(t){return{strichStyle:tu(tu({},t.strichStyle),e)}})},openFarbeSettings:function(){return t(function(t){return{settings:tu(tu({},t.settings),{},{isOpen:!0,activeTab:"farben"})}})},closeFarbeSettings:function(){return t(function(t){return{settings:tu(tu({},t.settings),{},{isOpen:!1})}})},setFarbeMultiplier:function(r,n){var o,i=e().farbeSettings,a=function(t){if(Array.isArray(t))return ts(t)}(o=i.multipliers)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(o)||function(t,e){if(t){if("string"==typeof t)return ts(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ts(t,void 0)}}(o)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();if(a[r]=n,a&&a.length===to.length&&a.every(function(t){return t>=0&&t<=12})){var s=tu(tu({},i),{},{multipliers:a});tg(s),t({farbeSettings:s})}},setFarbeFlipped:function(r){var n=tu(tu({},e().farbeSettings),{},{isFlipped:r});tg(n),t({farbeSettings:n})},updateFarbeSettings:function(r){var n=tu(tu({},e().farbeSettings),r);tg(n),t({farbeSettings:n})},openScoreSettings:function(){return t(function(t){return{settings:tu(tu({},t.settings),{},{isOpen:!0,activeTab:"scores"})}})},closeScoreSettings:function(){return t(function(t){return{settings:tu(tu({},t.settings),{},{isOpen:!1})}})},updateScoreSettings:function(e){return t(function(t){var r=tu(tu({},t.scoreSettings),e);return ty(r),{scoreSettings:r}})},setSettingsTab:function(e){return t(function(t){return{settings:tu(tu({},t.settings),{},{activeTab:e})}})},openSettings:function(){return t(function(t){return{settings:tu(tu({},t.settings),{},{isOpen:!0})}})},closeSettings:function(){return t(function(t){return{settings:tu(tu({},t.settings),{},{isOpen:!1})}})},cyclePictogramMode:function(){return t(function(t){var e,r=t.settings.pictogramConfig;return tb(e=r.isEnabled?"svg"===r.mode?{isEnabled:!0,mode:"emoji"}:{isEnabled:!1,mode:"svg"}:{isEnabled:!0,mode:"svg"}),{settings:tu(tu({},t.settings),{},{pictogramConfig:e})}})}}}),tj=r(1773),tO=r(3114),tP=r(9679),tN="Willst du wirklich die Vergangenheit \xe4ndern? Dies wird alle nachfolgenden Eintr\xe4ge l\xf6schen!",tE=function(t){var e=t.message,r=t.onConfirm,n=t.onDismiss,o=t.show;tB().jumpToLatest;var i=tw().closeHistoryWarning,a=(0,d.useCallback)(function(){i(),r()},[r,i]),s=(0,d.useCallback)(function(){i(),n()},[n,i]);return(0,g.jsx)(tO.M,{children:o&&(0,g.jsxs)(tP.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-[9999] p-4 pointer-events-auto",children:[(0,g.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:s}),(0,g.jsxs)(tP.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white z-10",children:[(0,g.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[(0,g.jsx)(tj.gJy,{className:"w-12 h-12 text-yellow-600 mb-2"}),(0,g.jsx)("p",{className:"text-center mb-6",children:e})]}),(0,g.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,g.jsx)("button",{onClick:a,className:"flex-1 bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors text-lg font-semibold",children:"Ja"}),(0,g.jsx)("button",{onClick:s,className:"flex-1 bg-gray-600 text-white px-6 py-2 rounded-full hover:bg-gray-700 transition-colors text-lg font-semibold",children:"Abbrechen"})]})]})]})})};function tC(t){return(tC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tk(t){return function(t){if(Array.isArray(t))return tT(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return tT(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tT(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tT(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function tA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function tI(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tA(Object(r),!0).forEach(function(e){tL(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function tL(t,e,r){var n;return(n=function(t,e){if("object"!==tC(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==tC(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===tC(n)?n:String(n))in t)?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var tG={berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0},tD={1:"",2:"",3:"",4:""},tR={isNavigating:!1,lastNavigationTimestamp:null},tM=function(t,e){return{top:t.top+e.top,bottom:t.bottom+e.bottom,weisPoints:t}},tH=function(t){return{currentPlayer:t,startingPlayer:t,isGameStarted:!1,currentRound:1,weisPoints:{top:0,bottom:0},jassPoints:{top:0,bottom:0},scores:{top:0,bottom:0},striche:{top:tI({},tG),bottom:tI({},tG)},roundHistory:[],currentRoundWeis:[],isGameCompleted:!1,isRoundCompleted:!1,settings:tI(tI({},ti),{},{colors:[],colorMultipliers:[]}),playerNames:tD,currentHistoryIndex:-1,historyState:tR}},t_=function(t,e,r,n){var o={id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),timestamp:Date.now(),roundId:t.currentRound,weisPoints:tI({},t.weisPoints),jassPoints:tI({},t.jassPoints),scores:tI({},t.scores),weisActions:tk(t.currentRoundWeis),currentPlayer:t.currentPlayer,visualStriche:{top:e.getVisualStriche("top"),bottom:e.getVisualStriche("bottom")},previousRoundId:t.roundHistory.length>0?t.roundHistory[t.roundHistory.length-1].roundId:void 0,nextRoundId:void 0,roundState:{roundNumber:t.currentRound,nextPlayer:t.currentPlayer},striche:{top:tI({},t.striche.top),bottom:tI({},t.striche.bottom)}};return"weis"===r?tI(tI({},o),{},{actionType:"weis",isRoundFinalized:!1,isCompleted:!1}):tI(tI({},o),{},{actionType:"jass",isRoundFinalized:!0,isCompleted:!0,farbe:null==n?void 0:n.farbe,strichType:null==n?void 0:n.strichType})},tF=function(t){return Math.max(0,t)},tz=function(t,e){var r=t.currentHistoryIndex,n=t.roundHistory.slice(0,r+1);return{roundHistory:[].concat(tk(n),[e]),currentHistoryIndex:n.length,historyState:{isNavigating:!1,lastNavigationTimestamp:Date.now()}}},tW=function(t,e){return t.striche.top[e]>0?"top":t.striche.bottom[e]>0?"bottom":void 0},tB=(0,P.U)(function(t,e){return tI(tI({},tH(void 0)),{},{startGame:function(){var r=tr.getState(),n=!r.isJassStarted,o=e();n?(console.log("\uD83C\uDFAE Starting first game of Jass"),r.startJass({playerNames:o.playerNames,initialStartingPlayer:o.currentPlayer})):(console.log("\uD83C\uDFAE Starting next game"),t({currentPlayer:H(r.getCurrentGame()||null,o.currentPlayer)}),r.startGame()),t({isGameStarted:!0})},startRound:function(){var r=e(),n=U.getState();1===r.currentRound&&n.startGameTimer(),n.startRoundTimer(),t(function(){return{isRoundCompleted:!1,farbe:void 0,currentRoundWeis:[]}})},finalizeRound:function(r,n,o,i){var a=U.getState();t(function(t){var s,c={top:t.jassPoints.top+n,bottom:t.jassPoints.bottom+o},u=tI({},t.striche);if(i){var l=D[s=t.currentPlayer%2==("top"===i.team?0:1)?"matsch":"kontermatsch"];u[i.team]=tI(tI({},u[i.team]),{},tL({},s,u[i.team][s]+l)),console.log("\uD83C\uDFB2 Aktualisierte Striche:",{team:i.team,type:s,vorher:t.striche[i.team][s],nachher:u[i.team][s]})}var f=tM(t.weisPoints,c),d=M(t.currentPlayer),m=tI(tI({},t),{},{jassPoints:c,scores:f,striche:u,isRoundCompleted:!0,currentRound:t.currentRound+1,currentPlayer:d,currentRoundWeis:[],farbe:r}),p=t_(m,e(),"jass",{farbe:r,strichType:s});return tr.getState().updateCurrentGame({teams:{top:{jassPoints:c.top,weisPoints:t.weisPoints.top,striche:u.top,total:f.top,bergActive:t.striche.top.berg>0,bedankenActive:!1,isSigned:!1,playerStats:{1:{striche:0,points:0,weisPoints:0},2:{striche:0,points:0,weisPoints:0},3:{striche:0,points:0,weisPoints:0},4:{striche:0,points:0,weisPoints:0}}},bottom:{jassPoints:c.bottom,weisPoints:t.weisPoints.bottom,striche:u.bottom,total:f.bottom,bergActive:t.striche.bottom.berg>0,bedankenActive:!1,isSigned:!1,playerStats:{1:{striche:0,points:0,weisPoints:0},2:{striche:0,points:0,weisPoints:0},3:{striche:0,points:0,weisPoints:0},4:{striche:0,points:0,weisPoints:0}}}},roundHistory:[].concat(tk(t.roundHistory),[p]),currentRound:t.currentRound+1,currentPlayer:d}),a.resetRoundTimer(),a.startRoundTimer(),tI(tI({},m),{},{roundHistory:[].concat(tk(t.roundHistory),[p]),currentHistoryIndex:t.roundHistory.length})})},updateScore:function(e,r,n){t(function(t){var o=tI({},t.scores);return o[e]=tF(r),o["top"===e?"bottom":"top"]=tF(n),{scores:o}})},addStrich:function(e,r){t(function(t){var n=tI({},t.striche);n[e][r]+=D[r];var o=tr.getState(),i=o.getCurrentGame();return i&&o.updateCurrentGame({teams:tI(tI({},i.teams),{},tL({},e,tI(tI({},i.teams[e]),{},{striche:n[e]}))),roundHistory:i.roundHistory,currentRound:t.currentRound,currentPlayer:t.currentPlayer}),tI(tI({},t),{},{striche:n})})},addWeisPoints:function(r,n){t(function(t){var o=tI({},t.weisPoints);o[r]+=n;var i=tM(o,t.jassPoints),a={position:r,points:n},s=t_(tI(tI({},t),{},{weisPoints:o,scores:i,currentRoundWeis:[].concat(tk(t.currentRoundWeis),[a]),currentRound:t.currentRound}),e(),"weis"),c=tz(t,s);return tI(tI({},t),{},{weisPoints:o,scores:i,currentRoundWeis:[].concat(tk(t.currentRoundWeis),[a])},c)});var o=e();console.group("\uD83C\uDFB2 WEIS UPDATE:"),console.log("Team:",r),console.log("Points:",n),console.log("New State:",{weisPoints:o.weisPoints,currentRoundWeis:o.currentRoundWeis,scores:o.scores}),console.groupEnd()},undoLastWeis:function(){t(function(t){return{currentRoundWeis:t.currentRoundWeis.slice(0,-1)}})},finalizeGame:function(){t(function(){return{isGameCompleted:!0}})},resetGame:function(){var r=tr.getState();e(),t(function(t){var e;return tI(tI({},tH(t.currentPlayer)),{},{playerNames:(null===(e=r.currentSession)||void 0===e?void 0:e.playerNames)||t.playerNames,settings:t.settings})})},resetGamePoints:function(){t(function(){return{scores:{top:0,bottom:0}}})},setScore:function(e,r){t(function(t){var n=tI({},t.scores);return n[e]=tF(r),{scores:n}})},setPlayerNames:function(e){t(function(){return{playerNames:e}})},updateScoreByStrich:function(r,n){var o=e(),i=tw.getState().showHistoryWarning,a=function(){t(function(t){var o=tI({},t.scores);o[r]+=n;var i=t_(tI(tI({},t),{},{scores:o}),e(),"jass");return tI({scores:o},tz(t,i))})};if(o.currentHistoryIndex<o.roundHistory.length-1){i({message:tN,onConfirm:a,onCancel:function(){return e().jumpToLatest()}});return}a()},getVisualStriche:function(t){var r=tn(e().scores[t]),n=r.striche,o=r.restZahl;return{stricheCounts:{20:n["20"],50:n["50"],100:n["100"]},restZahl:o}},showHistoryWarning:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return e().jumpToLatest()},o=e();o.currentHistoryIndex<o.roundHistory.length-1?tw.getState().showHistoryWarning({message:t,onConfirm:r,onCancel:n}):r()},navigateHistory:function(r){var n=e(),o=Date.now();n.historyState.lastNavigationTimestamp&&o-n.historyState.lastNavigationTimestamp<300||t(function(t){var n="forward"===r?t.currentHistoryIndex+1:t.currentHistoryIndex-1;if(n<-1||n>t.roundHistory.length)return t;if(-1===n)return tI(tI({},tH(t.startingPlayer)),{},{playerNames:t.playerNames,settings:t.settings,roundHistory:t.roundHistory,currentHistoryIndex:-1,historyState:{isNavigating:!0,lastNavigationTimestamp:o}});var i=t.roundHistory[n],a=tI(tI({},t),{},{currentRound:i.roundState.roundNumber,currentPlayer:i.roundState.nextPlayer,weisPoints:tI({},i.weisPoints),jassPoints:tI({},i.jassPoints),scores:tI({},i.scores),striche:JSON.parse(JSON.stringify(i.striche)),currentRoundWeis:tk(i.weisActions),isRoundCompleted:i.isCompleted,farbe:"jass"===i.actionType?i.farbe:void 0,currentHistoryIndex:n,historyState:{isNavigating:!0,lastNavigationTimestamp:o}});if(n===t.roundHistory.length){var s=e();return tI(tI({},a),{},{currentRound:s.currentRound,isRoundCompleted:!1,farbe:void 0})}return a})},canNavigateForward:function(){var t=e();return t.currentHistoryIndex<t.roundHistory.length-1},canNavigateBackward:function(){return e().currentHistoryIndex>-1},jumpToLatest:function(){var r=e();if(0!==r.roundHistory.length){var n,o=r.roundHistory[r.roundHistory.length-1];t(tI(tI({},r),{},{weisPoints:o.weisPoints,jassPoints:o.jassPoints,scores:o.scores,currentPlayer:o.currentPlayer,currentRound:o.roundId,striche:{top:{berg:(n=o.visualStriche).top.stricheCounts.berg||0,sieg:n.top.stricheCounts.sieg||0,matsch:n.top.stricheCounts.matsch||0,schneider:n.top.stricheCounts.schneider||0,kontermatsch:n.top.stricheCounts.kontermatsch||0},bottom:{berg:n.bottom.stricheCounts.berg||0,sieg:n.bottom.stricheCounts.sieg||0,matsch:n.bottom.stricheCounts.matsch||0,schneider:n.bottom.stricheCounts.schneider||0,kontermatsch:n.bottom.stricheCounts.kontermatsch||0}},currentRoundWeis:o.weisActions,currentHistoryIndex:r.roundHistory.length-1,historyState:{isNavigating:!1,lastNavigationTimestamp:Date.now()}}))}},validateHistoryAction:function(){var t=e();return t.currentHistoryIndex===t.roundHistory.length-1},syncHistoryState:function(e){t(function(t){return tI(tI({},t),{},{roundHistory:[].concat(tk(t.roundHistory),[e]),currentHistoryIndex:t.roundHistory.length,historyState:{isNavigating:!1,lastNavigationTimestamp:Date.now()}})})},logGameHistory:function(){var t=e().roundHistory.filter(function(t){return t.isRoundFinalized}).map(function(t){return{roundId:t.roundId,farbe:"jass"===t.actionType?t.farbe:void 0,strichInfo:"jass"===t.actionType?t.strichInfo:void 0,timestamp:new Date(t.timestamp).toLocaleString("de-CH"),points:{top:t.jassPoints.top,bottom:t.jassPoints.bottom},weisPoints:{top:t.weisPoints.top,bottom:t.weisPoints.bottom},totalPoints:{top:t.scores.top,bottom:t.scores.bottom}}});return console.log("Spielverlauf:",t),t},updateWeisPoints:function(r,n){e(),t(function(t){var o=tI({},t.weisPoints);o[r]+=n;var i={top:t.jassPoints.top+o.top,bottom:t.jassPoints.bottom+o.bottom},a={position:r,points:n},s=t_(tI(tI({},t),{},{weisPoints:o,scores:i,currentRoundWeis:[].concat(tk(t.currentRoundWeis),[a])}),e(),"weis"),c=tz(t,s);return console.log("\uD83C\uDFB2 Weis-Update:",{position:r,points:n,newWeisPoints:o,newScores:i}),tI(tI({},t),{},{weisPoints:o,scores:i,currentRoundWeis:[].concat(tk(t.currentRoundWeis),[a])},c)})},restoreRoundState:function(e){t(function(t){return tI(tI({},t),{},{currentRound:e.roundState.roundNumber,currentPlayer:e.roundState.nextPlayer})})},isBergActive:function(t){return e().striche[t].berg>0},isSiegActive:function(t){return e().striche[t].sieg>0},addBerg:function(e){t(function(t){var r=tw.getState().scoreSettings;if(!(null!=r&&r.isBergEnabled))return t;var n=tW(t,"berg"),o=tI({},t.striche);return n===e?o[e].berg=0:n||(o[e].berg=1,o["top"===e?"bottom":"top"].berg=0),tI(tI({},t),{},{striche:o})})},addSieg:function(e){t(function(t){var r=tw.getState().scoreSettings,n=tW(t,"sieg"),o=null==r||!r.isBergEnabled||t.striche.top.berg>0||t.striche.bottom.berg>0;if(n===e)return tI(tI({},t),{},{striche:tI(tI({},t.striche),{},tL({},e,tI(tI({},t.striche[e]),{},{sieg:0,schneider:0})))});if(!n&&o){var i="top"===e?"bottom":"top",a=tI(tI({},t),{},{striche:tI(tI({},t.striche),{},tL(tL({},e,tI(tI({},t.striche[e]),{},{sieg:2})),i,tI(tI({},t.striche[i]),{},{sieg:0})))});return null!=r&&r.isSchneiderEnabled&&t.scores[i]<2500&&(a.striche[e].schneider=2),a}return t})},addSchneider:function(e){t(function(t){if(!(t.striche[e].sieg>0))return t;var r="top"===e?"bottom":"top",n=t.scores[r];return{striche:tI(tI({},t.striche),{},tL(tL({},e,tI(tI({},t.striche[e]),{},{schneider:n<2500?2:0})),r,tI(tI({},t.striche[r]),{},{schneider:0})))}})},addMatsch:function(e){t(function(t){var r=tw.getState(),n=t.currentPlayer%2==0,o=r.calculator.isFlipped,i=n&&"top"===e||!n&&"bottom"===e,a=i?"kontermatsch":"matsch",s=D[a];return console.log("\uD83C\uDFB2 KONTERMATSCH Entscheidung:",{currentPlayer:t.currentPlayer,isBottomTeamsTurn:n,calculatorPosition:o?"top":"bottom",clickedTeam:e,isKontermatsch:i,strichTyp:a,currentValue:t.striche[e][a]}),tI(tI({},t),{},{striche:tI(tI({},t.striche),{},tL({},e,tI(tI({},t.striche[e]),{},tL({},a,t.striche[e][a]+s))))})})},getTotalStriche:function(t){var r=e(),n=tw.getState().scoreSettings,o=r.striche[t],i=0;return null!=n&&n.isBergEnabled&&(i+=o.berg),i+=o.sieg,null!=n&&n.isSchneiderEnabled&&(i+=o.schneider),i+=o.matsch+o.kontermatsch},completeRound:function(){var e=U.getState();t(function(t){return tI(tI({},t),{},{isRoundCompleted:!0,currentRound:t.currentRound+1})}),e.resetRoundTimer()}})});function tU(t){return(tU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tJ(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function tK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function tq(t,e,r){var n;return(n=function(t,e){if("object"!==tU(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==tU(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===tU(n)?n:String(n))in t)?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}tB.subscribe(function(t){console.log("\uD83D\uDD04 GameStore State nach Update:",{currentPlayer:t.currentPlayer,startingPlayer:t.startingPlayer,currentRound:t.currentRound,isRoundCompleted:t.isRoundCompleted})});var tY=(0,v.ZP)("div")({position:"absolute",width:"75%",maxWidth:"320px",height:"80%",top:"10%",left:"50%",transform:"translateX(-50%)",pointerEvents:"none"}),tZ=(0,v.ZP)("div")(function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tK(Object(r),!0).forEach(function(e){tq(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tK(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({position:"absolute",width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-start",padding:"0 10px",boxSizing:"border-box",pointerEvents:"auto",cursor:"pointer"},t.customStyle)}),t$=(0,v.ZP)("span")(function(t){var e=t.position;return tq(tq(tq(tq(tq(tq({position:"absolute"},"top"===e?"left":"right","10px"),"top","50%"),"transform","top"===e?"translateY(-50%) rotate(180deg)":"translateY(-50%)"),"color","rgba(255, 255, 255, 0.8)"),"fontSize","16px"),"fontWeight","bold")}),tV=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-43,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0%",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0%",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0%",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"0%";return"bottom"===t?{"100er":{height:"20%",top:"calc(-3.5% + ".concat(n,")"),left:"-4%",width:"105%"},"50er":{height:"20%",top:"70%",left:"9%",width:"95%",transform:"rotate(".concat(e,"deg)"),transformOrigin:"top left"},"20er":{height:"20%",bottom:"calc(-4.5% + ".concat(i,")"),left:"2%",width:"90%"},restzahl:{height:"20%",top:"88%",right:"-2%",width:"20%"}}:{"20er":{height:"20%",top:"calc(-4.5% + ".concat(o,")"),right:"2%",width:"90%"},"50er":{height:"20%",bottom:"14%",left:"22%",width:"95%",transform:"rotate(".concat(e,"deg)"),transformOrigin:"bottom left"},"100er":{height:"20%",bottom:"calc(-3.5% + ".concat(r,")"),right:"-4%",width:"105%"},restzahl:{height:"20%",bottom:"88%",left:"-2%",width:"20%"}}},tX=(0,v.ZP)("div")(function(t){return{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",transform:t.isRotated?"rotateX(180deg) rotateY(180deg) rotateZ(180deg)":"none",transformOrigin:"center center"}}),tQ=function(t){if("restzahl"===t)return"restzahl";var e=parseInt(t);return 20===e||50===e||100===e?e:20},t0=function(t){if("restzahl"===t)return 1;var e=parseInt(t);return 20===e||50===e||100===e?e:20},t1=function(t){var e=t.position,r=t.onBlendEffect,n=t.top100erOffset,o=t.bottom100erOffset,i=t.top20erOffset,a=t.bottom20erOffset,s=(0,d.useRef)(0),c=(0,d.useRef)(),u=tB(),l=(u.updateScoreByStrich,u.addWeisPoints),f=u.currentHistoryIndex,m=u.roundHistory,p=u.showHistoryWarning,h=u.getVisualStriche,y=u.jumpToLatest,b=tw(),v=b.setGameInfoOpen,x=b.setLastDoubleClickPosition;b.closeHistoryWarning;var S=h(e),w=(0,d.useCallback)(function(t,n){var o=Date.now();if(o-s.current<200){c.current&&clearTimeout(c.current),v(!0),x(e);return}s.current=o;var i=function(){l(e,t0(n)),r(e)};if(f<m.length-1){p(tN,i,function(){return y()});return}c.current=setTimeout(i,200)},[l,r,e,f,m.length,p,y]);(0,d.useEffect)(function(){return function(){c.current&&clearTimeout(c.current)}},[]);var j=tV(e,-43,void 0===n?"2%":n,void 0===o?"2%":o,void 0===i?"2%":i,void 0===a?"2%":a);return(0,g.jsx)(tY,{children:(0,g.jsx)(tX,{isRotated:"top"===e,children:Object.entries(j).map(function(t){var r=function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{for(i=(r=r.call(t)).next;!(c=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,2)||function(t,e){if(t){if("string"==typeof t)return tJ(t,2);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tJ(t,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=r[0],o=r[1],i=tQ(n),a="restzahl"===i?S.restZahl:S.stricheCounts[i]||0;return(0,g.jsx)(tZ,{customStyle:o,"data-strich-box":"true",onClick:function(t){return w(t,n)},children:"restzahl"===i?(0,g.jsx)(t$,{position:e,children:S.restZahl}):(0,g.jsx)(O,{stricheCount:a,stricheCounts:S.stricheCounts,einheitWert:i,strichColor:"rgb(255, 255, 255)",animationDuration:100,isActive:!0,direction:"top"===e?"rtl":"ltr",edgeOffset:0,isXMode:50===i,xAngle:18,xAlignment:"top"===e?"right":"left",isDiagonal:!0,diagonalAngle:"top"===e?-43:43,diagonalStrichHeight:"116%",diagonalStrichWidth:"2px",diagonalStrichOffset:{vertical:"0%",horizontal:"0%"},diagonalStrichAngle:"top"===e?-25:25,topDiagonalStrichOffset:{vertical:"0%",horizontal:"0%"},bottomDiagonalStrichOffset:{vertical:"0%",horizontal:"0%"},topDiagonalStrichAngle:30,bottomDiagonalStrichAngle:30,position:e,diagonalStrichOffset100er:{vertical:"top"===e?"-18%":"3%",horizontal:"top"===e?"10%":"-5%"},diagonalStrichOffset20er:{vertical:"top"===e?"-20%":"3.5%",horizontal:"top"===e?"5.5%":"-1.5%"},diagonalStrichAngle100er:35,diagonalStrichAngle20er:35})},n)})})})};function t2(t){return(t2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function t5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function t4(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?t5(Object(r),!0).forEach(function(e){t3(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t5(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function t3(t,e,r){var n;return(n=function(t,e){if("object"!==t2(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==t2(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===t2(n)?n:String(n))in t)?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t6(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var t8=(0,d.forwardRef)(function(t,e){var r,n=t.position,o=t.height,i=t.zShapeConfig,a=t.padding,s=t.onSwipe,c=t.y,u=t.mainOpacity,l=t.getBrightness,f=t.onLongPress,p=t.score,h=t.triggerBlendEffect;t.isHistoryNavigationActive;var v=function(t){if(Array.isArray(t))return t}(r=(0,d.useState)(null))||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{for(i=(r=r.call(t)).next;!(c=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(r,2)||function(t,e){if(t){if("string"==typeof t)return t6(t,2);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t6(t,2)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),x=v[0],S=v[1],w=function(){S(setTimeout(function(){f()},400))},j=function(){x&&clearTimeout(x)};(0,d.useEffect)(function(){return function(){x&&clearTimeout(x)}},[x]),b({onSwipeLeft:function(){return s("left",n)},onSwipeRight:function(){return s("right",n)},onSwipeUp:function(){return s("up",n)},onSwipeDown:function(){return s("down",n)},element:n});var O=t3(t3(t3(t3(t3(t3({width:"100%",position:"absolute",left:0,right:0,overflow:"visible",height:"".concat(o,"px")},n,0),a,"env(safe-area-inset-top)"),"userSelect","none"),"WebkitUserSelect","none"),"WebkitTouchCallout","none"),"touchAction","none"),P=t3(t3({position:"absolute",width:"110%",left:"-1%"},"top"===n?"bottom":"top","".concat(1.5*i.innerSpacing,"px")),"height","calc(100% - ".concat(1.5*i.edgeSpacing+.8*i.innerSpacing,"px)"));return(0,g.jsxs)(m.q.div,{style:t4(t4({},O),{},{transform:c.to(function(t){return 0===t?"none":"translateY(".concat("top"===n?-t:t,"px)")})}),"data-swipe-area":n,onMouseDown:w,onMouseUp:j,onTouchStart:w,onTouchEnd:j,onContextMenu:function(t){return t.preventDefault()},children:[(0,g.jsx)("div",{style:P,children:(0,g.jsx)(y,{className:"w-full h-full text-chalk-red",position:n,isReversed:"top"===n})}),(0,g.jsx)(m.q.div,{style:t4(t4({},{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"white",pointerEvents:"none"}),{},{opacity:c.to(l)})}),(0,g.jsx)(m.q.div,{className:"absolute inset-0 flex items-center justify-center",style:{opacity:u},children:(0,g.jsx)("span",{className:"text-gray-300 text-[9rem] opacity-50 select-none",style:{transform:"top"===n?"rotate(180deg)":"none"},children:p})}),(0,g.jsx)(t1,{position:n,onBlendEffect:h})]})});function t7(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var t9=function(t){var e,r=t.initialPosition,n=t.maxOffset;t.position;var o=function(t){if(Array.isArray(t))return t}(e=(0,m.q_)(function(){return{y:r,mainOpacity:1,oppositeOpacity:1,config:{mass:1,tension:120,friction:26,clamp:!0,duration:250}}}))||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{for(i=(r=r.call(t)).next;!(c=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,2)||function(t,e){if(t){if("string"==typeof t)return t7(t,2);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t7(t,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],a=o[1];return{y:i.y,mainOpacity:i.mainOpacity,oppositeOpacity:i.oppositeOpacity,animateSwipe:function(t){"boolean"==typeof t?a.start({y:t?n:r,mainOpacity:1,oppositeOpacity:1}):a.start({mainOpacity:0,oppositeOpacity:0,config:{duration:125},onRest:function(){a.start({mainOpacity:1,oppositeOpacity:1,config:{duration:125}})}})},getBrightness:function(t){return"number"!=typeof t||isNaN(t)||"number"!=typeof n||0===n?0:Math.max(0,Math.min(t/n*.45,.45))}}},et=r(3280),ee=r(9883),er=function(t,e){if(!(t<.3)){var r=document.querySelector(".matsch-button");if(r)for(var n=r.getBoundingClientRect(),o=(n.left+n.width/2)/window.innerWidth,i=(n.top+n.height/2)/window.innerHeight,a=10+(t-.3)*30,s=function(t,r,n,a){(0,ee.Z)({particleCount:n,angle:e?(t+180)%360:t,spread:r,origin:{x:o,y:i},colors:["#FF0000","#FFA500","#FFFF00","#00FF00","#0000FF","#800080"],scalar:a,gravity:e?-1:1,ticks:300})},c=0;c<360;c+=45)s(c,55,Math.floor(.3*a),1.2),s(c,25,Math.floor(.4*a),.8),s(c,10,Math.floor(.3*a),.4)}},en=["Eicheln","Rosen","Schellen","Schilten"],eo={Misre:"\uD83E\uDD2E",Eicheln:"\uD83C\uDF33",Rosen:"\uD83C\uDF39",Schellen:"\uD83D\uDD14",Schilten:"\uD83D\uDEE1",Obe:"\uD83D\uDC47",Une:"\uD83D\uDC46","3x3":"3",Quer:"",Slalom:""},ei=function(t,e){if("emoji"===e)return eo[t]||t;var r={Misre:"misere",Eicheln:"eicheln",Rosen:"rosen",Schellen:"schellen",Schilten:"schilten",Obe:"obe",Une:"une","3x3":"dreimal",Quer:"quer",Slalom:"slalom"}[t];if(!r)throw Error("Ung\xfcltige Farbe: ".concat(t));return"/assets/pictograms/standardDE/".concat(r,".").concat(en.includes(t)?"png":"svg")};function ea(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return es(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return es(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var ec=function(t){var e,r,n=t.isOpen,o=t.onClose,i=t.initialValue,a=void 0===i?0:i,s=t.clickedPosition,c=tB(),u=c.finalizeRound,l=(c.settings,c.currentHistoryIndex),f=c.roundHistory,p=c.showHistoryWarning,h=c.jumpToLatest,y=c.validateHistoryAction,b=tw(),v=b.calculator,x=b.setCalculatorFlipped,S=b.farbeSettings,w=b.settings.pictogramConfig,j=ea((0,d.useState)((null==a?void 0:a.toString())||"0"),2),O=j[0],P=j[1],N=ea((0,d.useState)("0"),2),E=N[0],C=N[1],k=ea((0,d.useState)("0"),2),T=k[0],A=k[1],I=ea((0,d.useState)(1),2),L=I[0],G=I[1],D=ea((0,d.useState)(null),2),R=D[0],M=D[1],H=ea((0,d.useState)(new Set),2),_=H[0],F=H[1],z=ea((0,d.useState)(null),2),W=(z[0],z[1]),B=ea((0,d.useState)(!1),2),U=B[0],J=B[1],K=ea((0,d.useState)(!1),2),q=K[0],Y=K[1],Z=ea((0,d.useState)(0),2),$=Z[0],V=Z[1],X=ea((0,d.useState)(null),2),Q=X[0],tt=X[1],te=ea((0,d.useState)(0),2),tr=te[0],tn=te[1],ti=ea((0,d.useState)(!1),2),ta=ti[0],ts=ti[1],tc=(0,m.q_)({opacity:n?1:0,transform:"scale(".concat(n?1:.95,") rotate(").concat(v.isFlipped?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20}});(0,d.useEffect)(function(){n&&x(!1)},[n,x]),(0,d.useEffect)(function(){n&&s&&x("top"===s)},[n,s,x]),(0,d.useEffect)(function(){ts(!0)},[]);var tu=function(t,e){if("0"===t)C("0"),A("0");else if("257"===t)C("0"),A((257*e).toString());else{var r=parseInt(t,10);C((Math.max(157-r,0)*e).toString()),A((r*e).toString())}};(0,d.useEffect)(function(){tu(O,L)},[O,L]);var tl=function(){return!isNaN(parseInt(O,10))&&null!==R},tf=function(t){if(!U){var e=Date.now();e-tr<100||(tn(e),P(function(e){if("0"===e)return t.toString();var r=e+t.toString();return 157>=parseInt(r,10)?r:e}),F(function(e){return new Set(e).add(t)}),setTimeout(function(){F(function(e){var r=new Set(e);return r.delete(t),r})},100))}},td=function(t,e){M(t),G(e),W(null),tu(O,e)},tm=(0,d.useCallback)(function(){if(tl()&&R){var t=parseInt(T,10),e=parseInt(E,10),r={top:"top"===s?t:e,bottom:"bottom"===s?t:e};if(!y()){p(tN,function(){u(R,r.top,r.bottom,U?{team:s,type:"matsch"}:void 0),o()},function(){return h()});return}u(R,r.top,r.bottom,U?{team:s,type:"matsch"}:void 0),o()}},[tl,R,T,E,s,U,l,f.length,p,h,u,o,y]),tp=function(){x(!v.isFlipped)},th=function(t){null==t||t.stopPropagation(),P("257"),C("0"),A((257*L).toString()),J(!0),er($,v.isFlipped)},tg=(v.isFlipped,[1,2,3,4,5,6,7,8,9]),ty=(0,d.useMemo)(function(){return to.map(function(t,e){return{color:t.name,multiplier:S.multipliers[e]}}).filter(function(t){return t.multiplier>0}).sort(function(t,e){return t.multiplier-e.multiplier})},[S.multipliers]),tb=function(t,e,r){var n=to.find(function(e){return e.name===t});return e?"bg-orange-500":"emoji"===r&&null!=n&&n.emojiStyle?n.emojiStyle.backgroundColor:"bg-gray-600"};return(0,g.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300 prevent-interactions ".concat(n?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:o,onContextMenu:function(t){return t.preventDefault()},children:(0,g.jsxs)(m.q.div,{style:tc,className:"relative w-11/12 max-w-md",children:[(0,g.jsx)("button",{onClick:function(t){t.stopPropagation(),tp()},className:"absolute bottom-full mb-[-10px] left-1/2 transform -translate-x-1/2 \n            text-white hover:text-gray-300 transition-all duration-1000\n            w-24 h-24 flex items-center justify-center\n            rounded-full\n            ".concat(v.isFlipped?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,g.jsx)(et.bxQ,{className:"w-8 h-8"})}),(0,g.jsx)("button",{onClick:function(t){t.stopPropagation(),o()},className:"absolute right-2 top-2 p-2 text-gray-400 hover:text-white transition-colors z-10",children:(0,g.jsx)(et.q5L,{size:24})}),(0,g.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg transition-all duration-700 flex flex-col items-center",onClick:function(t){return t.stopPropagation()},children:[(0,g.jsx)("h2",{className:"text-white text-xl mb-4 text-center select-none",children:"Runde schreiben"}),(0,g.jsxs)("div",{className:"flex flex-col w-full space-y-4",children:[(0,g.jsx)("input",{type:"text",value:O,readOnly:!0,className:"w-full bg-gray-700 text-white text-6xl p-4 rounded select-none text-center"}),(0,g.jsxs)("div",{className:"flex justify-between items-stretch w-full space-x-2 h-10",children:[(0,g.jsxs)("div",{className:"w-1/3 bg-gray-700 text-white p-1 rounded select-none flex items-center justify-end relative",children:[(0,g.jsx)("div",{className:"text-xs absolute top-0 left-1",children:"Gegner:"}),(0,g.jsx)("div",{className:"text-xl pr-1",children:E})]}),(0,g.jsx)("button",{onClick:th,onMouseDown:function(){Y(!0),V(0),tt(setInterval(function(){V(function(t){return Math.min(t+1,20)})},100))},onMouseUp:function(){Y(!1),Q&&clearInterval(Q),th()},onMouseLeave:function(){Y(!1),Q&&clearInterval(Q)},onTouchStart:function(){Y(!0),V(0),tt(setInterval(function(){V(function(t){return Math.min(t+1,20)})},100))},onTouchEnd:function(){Y(!1),Q&&clearInterval(Q),th()},className:"w-1/3 p-1 rounded select-none transition-all duration-100 text-lg flex items-center justify-center matsch-button ".concat(U?"bg-orange-500 text-white":q?"bg-gray-600 text-white scale-95 opacity-80":"bg-gray-700 text-white hover:bg-orange-500 scale-100 opacity-100"),disabled:U,children:"Matsch"}),(0,g.jsxs)("div",{className:"w-1/3 bg-gray-700 text-white p-1 rounded select-none flex items-center justify-end relative",children:[(0,g.jsx)("div",{className:"text-xs absolute top-0 left-1",children:"Total:"}),(0,g.jsx)("div",{className:"text-xl pr-1",children:T})]})]})]}),(0,g.jsx)("div",{className:"mt-4"}),(0,g.jsx)("div",{className:(e=ty.length,r="grid grid-cols-5 gap-2 mb-4 w-full group ".concat(R?"has-active":""),e<=4?r.replace("grid-cols-5","grid-cols-4"):e<=6?r.replace("grid-cols-5","grid-cols-3"):e<=8?r.replace("grid-cols-5","grid-cols-4"):r),children:ty.map(function(t){var e=t.color,r=t.multiplier;return(0,g.jsx)("button",{onMouseDown:function(){return W(e)},onMouseUp:function(){return td(e,r)},onMouseLeave:function(){return W(null)},onTouchStart:function(){return W(e)},onTouchEnd:function(){return td(e,r)},className:"p-1 rounded transition-all duration-100 ".concat(R===e?"active":""," text-white select-none text-xs h-12 flex items-center justify-center ").concat(tb(e,R===e,w.mode)),"aria-label":"".concat(e),children:ta&&w.isEnabled?"emoji"===w.mode?(0,g.jsx)("span",{className:"text-2xl",children:ei(e,"emoji")}):(0,g.jsx)("img",{src:ei(e,"svg"),alt:e,className:"w-10 h-10 object-contain",onError:function(t){t.currentTarget.style.display="none";var r=t.currentTarget.parentElement;r&&(r.textContent=e)}}):e},e)})}),(0,g.jsxs)("div",{className:"grid grid-cols-3 gap-3 w-full",children:[tg.map(function(t){return(0,g.jsx)("button",{onClick:function(){return tf(t)},onTouchEnd:function(e){e.preventDefault(),tf(t)},className:"bg-gray-600 text-white p-4 rounded select-none text-2xl transition-all duration-100 ".concat(_.has(t)?"bg-gray-500 scale-95 opacity-80":""),children:t},t)}),(0,g.jsx)("button",{onClick:function(){P("0"),C("0"),G(1),M(null),J(!1)},className:"bg-red-600 text-white p-4 rounded select-none text-2xl transition-all duration-100",children:"C"}),(0,g.jsx)("button",{onClick:function(){return tf(0)},className:"bg-gray-600 text-white p-4 rounded select-none text-2xl transition-all duration-100",children:"0"}),(0,g.jsx)("button",{onClick:tm,disabled:!tl()||!R,className:"bg-green-600 text-white p-4 rounded select-none text-2xl transition-all duration-100\n                ".concat(tl()&&R?"":"opacity-50 cursor-not-allowed"),children:"OK"})]})]})]})})};function eu(t){return(eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function el(){el=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(e,r,n,i){var a,s,c=Object.create((r&&r.prototype instanceof g?r:g).prototype);return o(c,"_invoke",{value:(a=new E(i||[]),s=d,function(r,o){if(s===m)throw Error("Generator is already running");if(s===p){if("throw"===r)throw o;return{value:t,done:!0}}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var c=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),h;var a=f(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var s=a.arg;return s?s.done?(n[r.resultName]=s.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):s:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,h)}(i,a);if(c){if(c===h)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var u=f(e,n,a);if("normal"===u.type){if(s=a.done?p:"suspendedYield",u.arg===h)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=p,a.method="throw",a.arg=u.arg)}})}),c}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",m="executing",p="completed",h={};function g(){}function y(){}function b(){}var v={};u(v,a,function(){return this});var x=Object.getPrototypeOf,S=x&&x(x(C([])));S&&S!==r&&n.call(S,a)&&(v=S);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==eu(l)&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,a,s)},function(t){r("throw",t,a,s)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,s)})}s(c.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(eu(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(O.prototype),u(O.prototype,s,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),u(w,c,"Generator"),u(w,a,function(){return this}),u(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}function ef(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function ed(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ef(Object(r),!0).forEach(function(e){var n,o;n=e,o=r[e],(n=function(t){var e=function(t,e){if("object"!==eu(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==eu(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===eu(e)?e:String(e)}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ef(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function em(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){r(t);return}s.done?e(c):Promise.resolve(c).then(n,o)}function ep(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return eh(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eh(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eh(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var eg=function(){tB().startGame;var t,e,r=tw().setStartScreenState;tr(),U();var n=ep((0,d.useState)({1:"",2:"",3:"",4:""}),2),o=n[0],i=n[1],a=ep((0,d.useState)(I),2),s=a[0];a[1];var c=ep((0,d.useState)(1),2),u=c[0],l=c[1],f=(t=el().mark(function t(){var e,n;return el().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("\uD83C\uDFAE StartScreen.handleStart:",{startingPlayer:u,teamConfig:s,names:o}),G(s),console.log("\uD83D\uDCDD Ordered Names:",e={1:o[s.bottom.includes(1)?1:2],2:o[s.top.includes(2)?2:1],3:o[s.bottom.includes(3)?3:4],4:o[s.top.includes(4)?4:3]}),tB.setState({playerNames:e,currentPlayer:u,startingPlayer:u}),console.log("\uD83C\uDFB2 GameStore Updated:",tB.getState()),tr.getState().startJass({playerNames:e,initialStartingPlayer:u}),tB.setState(function(t){return ed(ed({},t),{},{isGameStarted:!0,currentRound:1,isGameCompleted:!1,isRoundCompleted:!1})}),(n=U.getState()).resetGameTimers(),n.startGameTimer(),n.startRoundTimer(),r("starting"),t.next=16,new Promise(function(t){return setTimeout(t,300)});case 16:r("complete");case 17:case"end":return t.stop()}},t)}),e=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){em(i,n,o,a,s,"next",t)}function s(t){em(i,n,o,a,s,"throw",t)}a(void 0)})},function(){return e.apply(this,arguments)});return(0,g.jsx)(tO.M,{children:(0,g.jsxs)(tP.E.div,{className:"fixed inset-0 flex flex-col items-center justify-center bg-gray-900 bg-opacity-90 z-50 p-4",children:[(0,g.jsxs)("div",{className:"bg-gray-800 bg-opacity-95 rounded-xl p-6 w-full max-w-xs space-y-6 shadow-lg text-center",children:[(0,g.jsx)("h2",{className:"text-2xl font-bold text-white text-center mb-4",children:"Spielernamen eingeben"}),(0,g.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Sitzreihenfolge:"}),(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsx)("input",{type:"text",placeholder:"Spieler 1 (Team 1)",value:o[1],onChange:function(t){return i(function(e){return ed(ed({},e),{},{1:t.target.value})})},className:"w-full p-2 ".concat(s.bottom.includes(1)?"bg-gray-500":"bg-gray-800"," \n                border ").concat(1===u?"border-yellow-500 ring-2 ring-yellow-500":"border-gray-600"," \n                rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 \n                focus:ring-green-500 focus:border-transparent")}),(0,g.jsx)("input",{type:"text",placeholder:"Spieler 2 (Team 2)",value:o[2],onChange:function(t){return i(function(e){return ed(ed({},e),{},{2:t.target.value})})},className:"w-full p-2 ".concat(s.top.includes(2)?"bg-gray-700":"bg-gray-800"," \n                border ").concat(2===u?"border-yellow-500 ring-2 ring-yellow-500":"border-gray-600"," \n                rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 \n                focus:ring-green-500 focus:border-transparent")}),(0,g.jsx)("input",{type:"text",placeholder:"Spieler 3 (Team 1)",value:o[3],onChange:function(t){return i(function(e){return ed(ed({},e),{},{3:t.target.value})})},className:"w-full p-2 ".concat(s.bottom.includes(3)?"bg-gray-500":"bg-gray-800"," \n                border ").concat(3===u?"border-yellow-500 ring-2 ring-yellow-500":"border-gray-600"," \n                rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 \n                focus:ring-green-500 focus:border-transparent")}),(0,g.jsx)("input",{type:"text",placeholder:"Spieler 4 (Team 2)",value:o[4],onChange:function(t){return i(function(e){return ed(ed({},e),{},{4:t.target.value})})},className:"w-full p-2 ".concat(s.top.includes(4)?"bg-gray-700":"bg-gray-800"," \n                border ").concat(4===u?"border-yellow-500 ring-2 ring-yellow-500":"border-gray-600"," \n                rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 \n                focus:ring-green-500 focus:border-transparent")})]}),(0,g.jsx)(tP.E.button,{onClick:function(t){l(function(t){return t%4+1})},className:"w-full p-2 bg-yellow-600 text-white rounded-xl  transition-colors border-b-4 border-yellow-900",whileTap:{scale:.95},animate:{opacity:1},transition:{duration:0},children:"Rosen 10 (Startspieler)"})]}),(0,g.jsx)(tP.E.button,{initial:{scale:.9},animate:{scale:1},whileTap:{scale:.95},onClick:f,className:"bg-green-600 text-white text-2xl font-bold py-6 px-12 rounded-xl shadow-lg hover:bg-green-700 transition-colors mt-6 border-b-4 border-green-900",children:"START"})]})})};function ey(t){return(ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function ev(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?eb(Object(r),!0).forEach(function(e){var n,o;n=e,o=r[e],(n=function(t){var e=function(t,e){if("object"!==ey(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ey(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ey(e)?e:String(e)}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eb(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var ex=function(t){var e=t.currentPlayer,r=t.currentRound,n=t.opacity,o=t.isOpen,i=t.isGameStarted,a=tB().playerNames,s=(0,m.q_)({from:{opacity:0},to:{opacity:o?0:n},config:{duration:150},delay:o?0:750,immediate:o});if(o)return null;var c=function(t,e){var r=tr.getState().currentGameId,n=a[e]||"Spieler ".concat(e);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("span",{className:"text-gray-500 text-xs",children:"Spiel: "}),(0,g.jsx)("span",{className:"text-gray-300 text-sm font-semibold",children:r}),(0,g.jsx)("span",{className:"text-gray-500 text-xs ml-2",children:" Runde: "}),(0,g.jsx)("span",{className:"text-gray-300 text-sm font-semibold",children:t}),(0,g.jsx)("span",{className:"text-gray-500 text-xs ml-2",children:" Spieler: "}),(0,g.jsx)("span",{className:"text-gray-300 text-sm font-semibold",children:n})]})};return(0,g.jsxs)(m.q.div,{className:"absolute inset-x-0 flex flex-col items-center justify-center pointer-events-none",style:ev(ev({},s),{},{top:"calc(50% - 4rem)",height:"3.5rem"}),children:[(0,g.jsx)("div",{className:"transform scale-y-[-1] scale-x-[-1] absolute right-[8%] top-[4.5rem]",children:i?c(r,e):"START"}),(0,g.jsx)("div",{className:"absolute left-[8%] bottom-0",children:i?c(r,e):"START"})]})},eS=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=(0,d.useRef)(0),n=(0,d.useRef)();return(0,d.useCallback)(function(o){if(o.preventDefault(),r.current+=1,n.current&&clearTimeout(n.current),2===r.current){t(o),r.current=0;return}n.current=setTimeout(function(){r.current=0},e)},[t,e])},ew=r(5603);function ej(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return eO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eO(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eO(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var eP=function(){var t=ej((0,d.useState)(!1),2),e=t[0],r=t[1],n=ej((0,d.useState)(""),2),o=n[0],i=n[1],a=ej((0,d.useState)(!1),2),s=a[0],c=a[1];return(0,d.useEffect)(function(){if(!(0,ew.Ee)()){r(!1);return}"true"===localStorage.getItem("hasShownIntro")?c(!0):(i("Willkommen zu Jassguru"),r(!0))},[]),{showMessage:e,message:o,dismissMessage:function(){r(!1),c(!0),localStorage.setItem("hasShownIntro","true")},hasShownIntro:s}},eN=function(t){var e=t.onDismiss,r=t.showTitle,n=t.message;return t.show?(0,g.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-[9999] p-4 animate-fade-in pointer-events-auto",children:(0,g.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white",children:[(0,g.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[(0,g.jsx)(tj.DAO,{className:"w-12 h-12 text-yellow-600 mb-2"}),(void 0===r||r)&&(0,g.jsx)("h2",{className:"text-xl font-bold text-center",children:n})]}),(0,g.jsxs)("ul",{className:"list-disc pl-5 mb-6 space-y-2",children:[(0,g.jsx)("li",{children:"Swipe nach unten/oben f\xfcr das Men\xfc. Dort kannst du die Einstellungen vornehmen"}),(0,g.jsx)("li",{children:"Mit dem gr\xfcnen Knopf im Men\xfc \xf6ffnest du die Resultattafel und startest ein neues Spiel"}),(0,g.jsx)("li",{children:"Halte die Seite des z\xe4hlenden Spielers lange gedr\xfcckt, um die Punkte einzutragen"}),(0,g.jsx)("li",{children:"Doppelklicke auf deine Seite f\xfcr Spiel-Informationen, Berg und Bedanken"}),(0,g.jsx)("li",{children:"Schreibe Weise durch Klicken auf die Z-Linie"}),(0,g.jsx)("li",{children:"Navigiere durch die Spiel-Historie durch links/rechts Swipen und korrigiere Ergebnisse"})]}),(0,g.jsx)("button",{onClick:e,className:"bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors w-full text-lg font-semibold",children:"Verstanden"})]})}):null},eE=function(t){var e=t.onConfirm,r=t.onDismiss,n=t.show;return(0,g.jsx)(tO.M,{children:n&&(0,g.jsxs)(tP.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-[9999] p-4 pointer-events-auto",children:[(0,g.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:r}),(0,g.jsxs)(tP.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white z-10",children:[(0,g.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[(0,g.jsx)(tj.gJy,{className:"w-12 h-12 text-yellow-600 mb-2"}),(0,g.jsx)("p",{className:"text-center mb-6",children:"M\xf6chten Sie wirklich das Spiel zur\xfccksetzen? Alle Daten werden gel\xf6scht."})]}),(0,g.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,g.jsx)("button",{onClick:e,className:"flex-1 bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors text-lg font-semibold",children:"Ja"}),(0,g.jsx)("button",{onClick:r,className:"flex-1 bg-gray-600 text-white px-6 py-2 rounded-full hover:bg-gray-700 transition-colors text-lg font-semibold",children:"Abbrechen"})]})]})]})})};function eC(t){return(eC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ek(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function eT(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ek(Object(r),!0).forEach(function(e){eA(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function eA(t,e,r){var n;return(n=function(t,e){if("object"!==eC(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==eC(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===eC(n)?n:String(n))in t)?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eI(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return eL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eL(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eL(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var eG=[0,1,2,3,4,5,6,7,8],eD=function(t){var e=t.multiplier,r=t.onMultiplierClick;return(0,g.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 rounded-lg text-lg font-bold transition-all duration-150\n      ".concat(0===e?"bg-gray-600/50 text-gray-400 hover:bg-gray-700/50":"bg-orange-500 text-white hover:bg-orange-600 active:scale-95 active:opacity-80"),children:0===e?"-":"".concat(e,"x")})},eR=function(t){var e=t.farbe,r=t.mode,n=ei(e,r);return(0,g.jsx)("div",{className:"flex items-center justify-center w-8 h-8",children:"emoji"===r?(0,g.jsx)("span",{className:"text-2xl",children:n}):(0,g.jsx)("img",{src:n,alt:e,className:"w-6 h-6 object-contain"})})},eM=function(){var t,e,r,n,o,i,a=tw(),s=a.settings,c=a.farbeSettings,u=a.scoreSettings,l=a.updateFarbeSettings,f=a.updateScoreSettings,p=a.closeSettings,h=a.setSettingsTab,y=a.cyclePictogramMode,b=eI((0,d.useState)(c.multipliers),2),v=b[0],x=b[1],S=eI((0,d.useState)({siegScore:null!==(e=null==u?void 0:u.siegScore)&&void 0!==e?e:5e3,bergScore:null!==(r=null==u?void 0:u.bergScore)&&void 0!==r?r:2500,schneiderScore:null!==(n=null==u?void 0:u.schneiderScore)&&void 0!==n?n:2500,isBergEnabled:null===(o=null==u?void 0:u.isBergEnabled)||void 0===o||o,isSchneiderEnabled:null===(i=null==u?void 0:u.isSchneiderEnabled)||void 0===i||i}),2),w=S[0],j=S[1];(0,d.useEffect)(function(){u&&j(u)},[u]);var O=function(t){x(function(e){var r=e[t],n=(eG.indexOf(r)+1)%eG.length;return e.map(function(e,r){return r===t?eG[n]:e})})},P=function(t,e){j(function(r){if("boolean"==typeof e){var n=eT(eT({},r),{},eA({},t,e));return f(n),n}var o=e;if(("bergScore"===t||"schneiderScore"===t)&&(o=Math.min(e,Math.floor(r.siegScore/2))),"siegScore"===t){var i=Math.floor(e/2);return eT(eT({},r),{},{siegScore:e,bergScore:i,schneiderScore:i})}var a=eT(eT({},r),{},eA({},t,o));return f(a),a})},N=eI((0,d.useState)(!1),2),E=N[0],C=N[1],k=(0,m.q_)({opacity:s.isOpen?1:0,transform:"scale(".concat(s.isOpen?1:.95,") rotate(").concat(E?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20}}),T=function(){h("farben"===s.activeTab?"scores":"farben")};return(0,g.jsx)(tO.M,{children:s.isOpen&&(0,g.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",onClick:function(t){t.target===t.currentTarget&&p()},children:(0,g.jsx)(m.q.div,{style:k,className:"w-full max-w-lg p-4",onClick:function(t){return t.stopPropagation()},children:(0,g.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 relative",children:[(0,g.jsx)("button",{onClick:function(){return C(!E)},className:"absolute bottom-full mb-[-10px] left-1/2 transform -translate-x-1/2 \n                  text-white hover:text-gray-300 transition-all duration-1000\n                  w-24 h-24 flex items-center justify-center\n                  rounded-full\n                  ".concat(E?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,g.jsx)(et.bxQ,{className:"w-8 h-8"})}),(0,g.jsx)("button",{onClick:p,className:"absolute right-2 top-2 p-2 text-gray-400 hover:text-white transition-colors",children:(0,g.jsx)(et.q5L,{size:24})}),(0,g.jsx)("h2",{className:"text-2xl font-bold text-white text-center mb-6",children:"farben"===s.activeTab?"Farben Einstellungen":"Punkte Einstellungen"}),"farben"===s.activeTab?(0,g.jsxs)("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-3 rounded-lg",children:[(0,g.jsx)("span",{className:"text-white text-lg",children:"Piktogramme"}),(0,g.jsx)("button",{onClick:y,className:"px-4 py-2 rounded-lg text-lg font-bold transition-all duration-150\n            ".concat(s.pictogramConfig.isEnabled?"bg-green-500 text-white hover:bg-green-600":"bg-gray-600/50 text-gray-400 hover:bg-gray-700/50"),children:s.pictogramConfig.isEnabled?"svg"===s.pictogramConfig.mode?"Standard":"Emojis":"Nein"})]}),to.map(function(t,e){return(0,g.jsxs)("div",{className:"flex items-center bg-gray-700/50 p-3 rounded-lg",children:[(0,g.jsx)("span",{className:"text-white text-lg w-10",children:t.name}),(0,g.jsx)("div",{className:"flex-1 flex justify-center items-center",children:s.pictogramConfig.isEnabled&&(0,g.jsx)(eR,{farbe:t.name,mode:s.pictogramConfig.mode})}),(0,g.jsx)(eD,{multiplier:v[e],onMultiplierClick:function(){return O(e)}})]},t.id)})]}):(t=function(t){return 0===t?"":t.toString()},(0,g.jsx)("div",{className:"space-y-6 max-h-[60vh] overflow-y-auto pr-2",children:(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-3 rounded-lg",children:[(0,g.jsx)("span",{className:"text-white text-lg",children:"Sieg-Punkte"}),(0,g.jsx)("input",{type:"number",value:t(w.siegScore),placeholder:"5000",onChange:function(t){return P("siegScore",Math.max(0,parseInt(t.target.value)||0))},onFocus:function(t){return t.target.select()},className:"w-24 px-3 py-2 bg-gray-600 text-white rounded-lg text-right focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",min:"0",style:{WebkitAppearance:"none",MozAppearance:"textfield"}})]}),(0,g.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-3 rounded-lg",children:[(0,g.jsx)("span",{className:"text-white text-lg",children:"Berg aktiviert"}),(0,g.jsx)("button",{onClick:function(){return P("isBergEnabled",!w.isBergEnabled)},className:"px-4 py-2 rounded-lg text-lg font-bold transition-all duration-150\n                ".concat(w.isBergEnabled?"bg-green-500 text-white hover:bg-green-600":"bg-gray-600/50 text-gray-400 hover:bg-gray-700/50"),children:w.isBergEnabled?"Ja":"Nein"})]}),w.isBergEnabled&&(0,g.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-3 rounded-lg",children:[(0,g.jsx)("span",{className:"text-white text-lg",children:"Berg-Punkte"}),(0,g.jsx)("input",{type:"number",value:t(w.bergScore),placeholder:"2500",onChange:function(t){return P("bergScore",Math.max(0,parseInt(t.target.value)||0))},onFocus:function(t){return t.target.select()},className:"w-24 px-3 py-2 bg-gray-600 text-white rounded-lg text-right focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",min:"0",max:Math.floor(w.siegScore/2),style:{WebkitAppearance:"none",MozAppearance:"textfield"}})]}),(0,g.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-3 rounded-lg",children:[(0,g.jsx)("span",{className:"text-white text-lg",children:"Schneider aktiviert"}),(0,g.jsx)("button",{onClick:function(){return P("isSchneiderEnabled",!w.isSchneiderEnabled)},className:"px-4 py-2 rounded-lg text-lg font-bold transition-all duration-150\n                ".concat(w.isSchneiderEnabled?"bg-green-500 text-white hover:bg-green-600":"bg-gray-600/50 text-gray-400 hover:bg-gray-700/50"),children:w.isSchneiderEnabled?"Ja":"Nein"})]}),w.isSchneiderEnabled&&(0,g.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-3 rounded-lg",children:[(0,g.jsx)("span",{className:"text-white text-lg",children:"Schneider-Punkte"}),(0,g.jsx)("input",{type:"number",value:t(w.schneiderScore),placeholder:"2500",onChange:function(t){return P("schneiderScore",Math.max(0,parseInt(t.target.value)||0))},onFocus:function(t){return t.target.select()},className:"w-24 px-3 py-2 bg-gray-600 text-white rounded-lg text-right focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",min:"0",style:{WebkitAppearance:"none",MozAppearance:"textfield"}})]})]})})),(0,g.jsxs)("div",{className:"mt-8 flex justify-center items-center space-x-6",children:[(0,g.jsx)("button",{onClick:T,className:"p-3 text-gray-400 hover:text-white transition-colors\n                    bg-gray-700/30 rounded-lg hover:bg-gray-700/50",children:(0,g.jsx)(et.YFh,{size:32})}),(0,g.jsx)("button",{onClick:function(){l({multipliers:v}),f(w),p()},className:"py-3 px-8 bg-yellow-600 text-white rounded-lg font-medium text-lg hover:bg-yellow-700 transition-all duration-150 active:scale-95",children:"Speichern"}),(0,g.jsx)("button",{onClick:T,className:"p-3 text-gray-400 hover:text-white transition-colors\n                    bg-gray-700/30 rounded-lg hover:bg-gray-700/50",children:(0,g.jsx)(et.Tfp,{size:32})})]})]})})})})};function eH(t){return(eH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e_(){e_=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(e,r,n,i){var a,s,c=Object.create((r&&r.prototype instanceof g?r:g).prototype);return o(c,"_invoke",{value:(a=new E(i||[]),s=d,function(r,o){if(s===m)throw Error("Generator is already running");if(s===p){if("throw"===r)throw o;return{value:t,done:!0}}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var c=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),h;var a=f(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var s=a.arg;return s?s.done?(n[r.resultName]=s.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):s:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,h)}(i,a);if(c){if(c===h)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var u=f(e,n,a);if("normal"===u.type){if(s=a.done?p:"suspendedYield",u.arg===h)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=p,a.method="throw",a.arg=u.arg)}})}),c}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",m="executing",p="completed",h={};function g(){}function y(){}function b(){}var v={};u(v,a,function(){return this});var x=Object.getPrototypeOf,S=x&&x(x(C([])));S&&S!==r&&n.call(S,a)&&(v=S);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==eH(l)&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,a,s)},function(t){r("throw",t,a,s)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,s)})}s(c.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(eH(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(O.prototype),u(O.prototype,s,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),u(w,c,"Generator"),u(w,a,function(){return this}),u(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}function eF(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){r(t);return}s.done?e(c):Promise.resolve(c).then(n,o)}function ez(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return eW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eW(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eW(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var eB=function(t){var e,r=t.isOpen,n=t.onClose,o=t.swipePosition;tB().resetGame;var i=tw(),a=i.openResultatKreidetafel,s=i.openFarbeSettings,c=ez((0,d.useState)(null),2),u=c[0],l=c[1],f=ez((0,d.useState)(!1),2),m=f[0],p=f[1],h=ez((0,d.useState)(!1),2),y=h[0],b=h[1],v={hidden:{opacity:0,y:0},visible:{opacity:1,y:0}},x=function(t){l(t),setTimeout(function(){return l(null)},150)},S=(0,d.useCallback)((e=e_().mark(function t(){var e,r,o,i;return e_().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return b(!1),t.next=3,n();case 3:e=tB.getState(),r=tr.getState(),o=tw.getState(),i=U.getState(),r.resetJass(),e.resetGame(),o.resetAll(),i.resetAllTimers(),setTimeout(function(){o.setStartScreenState("initial")},300);case 12:case"end":return t.stop()}},t)}),function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(t){eF(i,n,o,a,s,"next",t)}function s(t){eF(i,n,o,a,s,"throw",t)}a(void 0)})}),[n]),w=(0,d.useCallback)(function(){a(o),setTimeout(function(){n()},100)},[a,o,n]),j=(0,d.useCallback)(function(){s(),setTimeout(function(){n()},100)},[s,n]),O=[{icon:tj.AMf,onClick:function(){x("trash"),b(!0)},color:"bg-red-500",id:"trash"},{icon:tj.DAO,onClick:function(){return p(!0)},color:"bg-blue-500",id:"info"},{icon:tj.p4t,onClick:j,color:"bg-yellow-500",id:"farbe"},{icon:tj.pwr,onClick:w,color:"bg-green-500",id:"resultat"}],P="top"===o?[].concat(O).reverse():O;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(tP.E.div,{className:"absolute inset-x-0 top-1/2 transform -translate-y-1/2 flex justify-center items-center h-16 z-10 ".concat(r?"opacity-100":"opacity-0 pointer-events-none"," transition-opacity duration-300"),variants:{hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.05}}},initial:"hidden",animate:r?"visible":"hidden",children:[(0,g.jsx)("div",{className:"flex justify-center space-x-10",children:P.map(function(t){var e=t.icon,r=t.onClick,n=t.color,i=t.id;return(0,g.jsx)(tP.E.button,{onClick:r,className:"".concat("w-12 h-12 p-2 rounded-xl shadow-md transition-transform hover:scale-110"," ").concat(n," text-white"),variants:v,onMouseDown:function(){return x(i)},onTouchStart:function(){return x(i)},children:(0,g.jsx)(e,{className:"w-full h-full ".concat(u===i?"opacity-70":""),style:{transform:"top"===o?"rotate(180deg)":"none"}})},i)})}),m&&(0,g.jsx)(eN,{onDismiss:function(){return p(!1)},showTitle:!1,show:!0,message:"Willkommen zu Jassguru"})]}),(0,g.jsx)(eM,{}),(0,g.jsx)(eE,{show:y,onConfirm:S,onDismiss:function(){return b(!1)}})]})},eU=r(8407),eJ=r(5480);function eK(t){return function(t){if(Array.isArray(t))return eq(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return eq(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eq(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eq(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function eY(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var eZ={baseStrich:{length:38,width:3,color:"#FFFFFF",opacity:1},diagonalStrich:{length:54,width:3.5,angle:-45,offset:{x:0,y:10}},container:{spacing:10,groupSpacing:12,scale:1,stackSpacing:0}},e$=eJ.ZP.div(u||(u=eY(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  \n  /* Basis-Styles */\n  min-height: ",";\n  \n  /* Container-spezifische Positionierung */\n  ","\n"])),function(t){return"horizontal"===t.type?"16px":"50px"},function(t){return"horizontal"===t.type?"\n    transform: rotate(-90deg);\n    transform-origin: left center;\n    margin: 1px 0px;\n    padding-left: 0px; // Horizontale Gruppe kann nach rechts verschoben werden\n  ":"\n    margin: -14px 0 -6px -30px; // Negativer margin-left f\xfcr vertikale Gruppe\n  "}),eV=(0,eJ.ZP)(m.q.div)(l||(l=eY(["\n  position: absolute;\n  background-color: ",";\n  opacity: ",";\n  transition: all 0.2s ease;\n\n  ","\n"])),eZ.baseStrich.color,eZ.baseStrich.opacity,function(t){return(t.type,t.isDiagonal)?"\n        width: ".concat(eZ.diagonalStrich.length,"px;\n        height: ").concat(eZ.diagonalStrich.width,"px;\n        transform: rotate(").concat(eZ.diagonalStrich.angle,"deg);\n        transform-origin: left center;\n        z-index: 2;\n      "):"\n      width: ".concat(eZ.baseStrich.width,"px;\n      height: ").concat(eZ.baseStrich.length,"px;\n    ")}),eX=(0,eJ.ZP)(m.q.div)(f||(f=eY(["\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  margin-right: ",";\n"])),function(t){return"horizontal"===t.type?"8px":"12px"}),eQ=function(t){return"horizontal"===t?{left:"".concat(-.2*eZ.container.spacing,"px"),top:"18px",transform:"rotate(-50deg)"}:{left:"".concat(3*eZ.container.spacing-32,"px"),top:"18px",transform:"rotate(-45deg)"}},e0=function(t){var e=t.type,r=t.count,n=t.position;t.style;var o=(0,m.q_)({from:{progress:0},to:{progress:r},config:{tension:400,friction:15}});return(0,g.jsx)(e$,{type:e,children:function(){for(var t=[],i=Math.floor(r/5),a=r%5,s=function(r){t.push((0,g.jsxs)(eX,{type:e,children:[eK([,,,,]).map(function(t,i){return(0,g.jsx)(eV,{type:e,position:n,style:{opacity:o.progress.to(function(t){return t>5*r+i?1:0}),transform:o.progress.to(function(t){return t>5*r+i?"scale(1)":"scale(0)"}),left:"".concat(i*eZ.container.spacing,"px")}},"strich-".concat(r,"-").concat(i))}),(0,g.jsx)(eV,{type:"diagonal",position:n,isDiagonal:!0,style:{opacity:o.progress.to(function(t){return t>5*r+4?1:0}),transform:o.progress.to(function(t){return t>5*r+4?eQ(e).transform:"scale(0)"}),left:eQ(e).left,top:eQ(e).top}})]},"group-".concat(r)))},c=0;c<i;c++)s(c);return a>0&&t.push((0,g.jsx)(eX,{type:e,children:eK(Array(a)).map(function(t,r){return(0,g.jsx)(eV,{type:e,position:n,style:{opacity:o.progress.to(function(t){return t>5*i+r?1:0}),transform:o.progress.to(function(t){return t>5*i+r?"scale(1)":"scale(0)"}),left:"".concat(r*eZ.container.spacing,"px")}},"rest-".concat(r))})},"remainder")),t}()})},e1=function(t){var e=t.spielNummer,r=t.topTeam,n=t.bottomTeam,o=t.showJassPoints,i=t.gameId,a=tr(function(t){return t.currentGameId}),s=tr(function(t){return t.getCurrentGame()}),c=tB(function(t){return t.striche}),u=tB(function(t){return t.weisPoints}),l=tB(function(t){return t.jassPoints});if(i>a)return null;var f=i===a,d=f?{striche:c.top,jassPoints:l.top+u.top,total:null==s?void 0:s.teams.top.total}:r,m=f?{striche:c.bottom,jassPoints:l.bottom+u.bottom,total:null==s?void 0:s.teams.bottom.total}:n,p=R(d.striche),h=R(m.striche);return(0,g.jsxs)("div",{className:"grid grid-cols-[0.5fr_5fr_5fr] gap-4 items-center py-2 last:border-b-0 border-b border-gray-700",children:[(0,g.jsx)("div",{className:"text-gray-400 text-center pl-2",children:e}),(0,g.jsx)("div",{className:"flex justify-center -ml-[-22px]",children:o?(0,g.jsx)("div",{className:"text-xl text-white text-center w-[90px]",children:m.jassPoints||0}):(0,g.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,g.jsx)(e0,{type:"horizontal",count:h.horizontal,position:"bottom"}),(0,g.jsx)(e0,{type:"vertikal",count:h.vertikal,position:"bottom"})]})}),(0,g.jsx)("div",{className:"flex justify-center -ml-[-10px]",children:o?(0,g.jsx)("div",{className:"text-xl text-white text-center w-[100px]",children:d.jassPoints||0}):(0,g.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,g.jsx)(e0,{type:"horizontal",count:p.horizontal,position:"top"}),(0,g.jsx)(e0,{type:"vertikal",count:p.vertikal,position:"top"})]})})]})},e2=function(t){t.teams;var e=t.games,r=t.currentGameId;t.onSwipe;var n=tB();return(0,g.jsx)("div",{className:"flex flex-col w-full space-y-4",children:e.map(function(t,e){return(0,g.jsx)(e1,{gameId:t.id,spielNummer:e+1,topTeam:{striche:t.id===r?n.striche.top:t.teams.top.striche},bottomTeam:{striche:t.id===r?n.striche.bottom:t.teams.bottom.striche},showJassPoints:!1},"game-".concat(t.id))})})},e5=function(t){var e=t.teams,r=t.games,n=t.currentGameId;tB(function(t){return t.scores});var o=tB(function(t){return t.weisPoints}),i=tB(function(t){return t.jassPoints});return(0,g.jsx)("div",{className:"flex flex-col w-full",children:r.map(function(t,r){return(0,g.jsx)(e1,{gameId:t.id,spielNummer:r+1,topTeam:{striche:t.id===n?e.top.striche:t.teams.top.striche,jassPoints:t.id===n?i.top+o.top:t.teams.top.jassPoints+(t.teams.top.weisPoints||0)},bottomTeam:{striche:t.id===n?e.bottom.striche:t.teams.bottom.striche,jassPoints:t.id===n?i.bottom+o.bottom:t.teams.bottom.jassPoints+(t.teams.bottom.weisPoints||0)},showJassPoints:!0},t.id)})})};console.log("STATISTIC_MODULES wird geladen");var e4=[{id:"striche",title:"Strichergebnis",component:e2,calculateData:function(t){return{top:t.teams.top.total,bottom:t.teams.bottom.total}}},{id:"jasspunkte",title:"Punkte",component:e5,calculateData:function(t){return{top:t.teams.top.jassPoints,bottom:t.teams.bottom.jassPoints}}}];function e3(t){return(e3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function e8(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?e6(Object(r),!0).forEach(function(e){var n,o;n=e,o=r[e],(n=function(t){var e=function(t,e){if("object"!==e3(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==e3(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===e3(e)?e:String(e)}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e6(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function e7(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return e9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e9(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e9(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}console.log("STATISTIC_MODULES:",e4);var rt=function(t){var e=t.name,r=t.isStarter,n=(0,d.useRef)(null),o=e7((0,d.useState)(e),2),i=o[0],a=o[1];return(0,d.useEffect)(function(){var t=function(){var t=n.current;if(t){var o=document.createElement("div");o.style.visibility="hidden",o.style.position="absolute",o.style.whiteSpace="nowrap",o.className=t.className,o.textContent=e+(r?" ":""),document.body.appendChild(o);var i=o.offsetWidth,s=1.25*t.offsetWidth;if(document.body.removeChild(o),i>s){for(var c=0,u=e.length;c<u;){var l=Math.floor((c+u+1)/2);o.textContent=e.slice(0,l)+(r?"":""),document.body.appendChild(o);var f=o.offsetWidth;document.body.removeChild(o),f<=s?c=l:u=l-1}a(e.slice(0,c))}else a(e)}};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}},[e,r]),(0,g.jsx)("div",{ref:n,className:"text-center text-gray-400 px-1",children:(0,g.jsxs)("span",{className:"inline-block",children:[i,r&&(0,g.jsx)("span",{className:"ml-1",children:""})]})})},re=function(){var t,e,r,n,o=e7(d.useState(null),2),i=o[0],a=o[1],s=e7(d.useState(null),2),c=s[0],u=s[1],l=e7(d.useState(null),2),f=l[0],p=l[1],h=tw(function(t){return t.resultatKreidetafel.isOpen}),y=tw(function(t){return t.resultatKreidetafel.swipePosition}),b=tw(function(t){return t.resultatKreidetafel.currentStatistic}),v=tw(function(t){return t.closeResultatKreidetafel}),x=tB(function(t){return t.playerNames}),S=tB(function(t){var e,r;return null!==(e=null===(r=t.scores)||void 0===r?void 0:r.top)&&void 0!==e?e:0}),w=tB(function(t){var e,r;return null!==(e=null===(r=t.scores)||void 0===r?void 0:r.bottom)&&void 0!==e?e:0}),j=tB(function(t){return t.weisPoints}),O="top"===y,P=(0,eU.ZP)(new Date,"d.M.yyyy"),N=e4.find(function(t){return t.id===b}),E=tr(function(t){return t.canNavigateBack()}),C=tr(function(t){return t.canNavigateForward()}),k=tB(function(t){return t.striche}),T=(0,d.useMemo)(function(){return k.top.sieg>0||k.bottom.sieg>0},[k]),A=(0,d.useCallback)(function(){var t=tr.getState(),e=tB.getState();if(t.canNavigateBack()){t.navigateToPreviousGame();var r=t.getCurrentGame();r&&(e.resetGame(),tB.setState(function(t){return e8(e8({},t),{},{isGameStarted:!0,currentRound:r.currentRound||1,currentPlayer:r.currentPlayer,scores:{top:(r.teams.top.jassPoints||0)+(r.teams.top.weisPoints||0),bottom:(r.teams.bottom.jassPoints||0)+(r.teams.bottom.weisPoints||0)},weisPoints:{top:r.teams.top.weisPoints,bottom:r.teams.bottom.weisPoints},striche:{top:e8({},r.teams.top.striche),bottom:e8({},r.teams.bottom.striche)},roundHistory:r.roundHistory||[],isGameCompleted:!1,isRoundCompleted:!1})}))}},[]),I=(0,d.useCallback)(function(){var t=tr.getState(),e=tB.getState();if(t.canNavigateForward()){t.navigateToNextGame();var r=t.getCurrentGame();r&&(e.resetGame(),tB.setState(function(t){return e8(e8({},t),{},{isGameStarted:!0,currentRound:r.currentRound||1,currentPlayer:r.currentPlayer,scores:{top:(r.teams.top.jassPoints||0)+(r.teams.top.weisPoints||0),bottom:(r.teams.bottom.jassPoints||0)+(r.teams.bottom.weisPoints||0)},weisPoints:{top:r.teams.top.weisPoints,bottom:r.teams.bottom.weisPoints},striche:{top:e8({},r.teams.top.striche),bottom:e8({},r.teams.bottom.striche)},roundHistory:r.roundHistory||[],isGameCompleted:!1,isRoundCompleted:!1})}))}else{if(!T){tw.getState().showHistoryWarning({message:"Bitte erst bedanken, bevor ein neues Spiel gestartet wird.",onConfirm:function(){},onCancel:function(){}});return}t.finalizeGame(),t.startGame(),e.resetGame(),tB.setState(function(t){return e8(e8({},t),{},{isGameStarted:!0,currentRound:1,isGameCompleted:!1,isRoundCompleted:!1})})}},[T]),L=tr(function(t){return t.teams}),G=tr(function(t){return t.games}),D=tr(function(t){return t.currentGameId}),R=(0,d.useMemo)(function(){var t=G.filter(function(t){return t.id<=D}).filter(function(t){return t.id<D}).reduce(function(t,e){return{striche:{top:t.striche.top+Object.values(e.teams.top.striche).reduce(function(t,e){return t+e},0),bottom:t.striche.bottom+Object.values(e.teams.bottom.striche).reduce(function(t,e){return t+e},0)},punkte:{top:t.punkte.top+e.teams.top.total,bottom:t.punkte.bottom+e.teams.bottom.total}}},{striche:{top:0,bottom:0},punkte:{top:0,bottom:0}});return{striche:{top:t.striche.top+Object.values(k.top).reduce(function(t,e){return t+e},0),bottom:t.striche.bottom+Object.values(k.bottom).reduce(function(t,e){return t+e},0)},punkte:{top:t.punkte.top+S,bottom:t.punkte.bottom+w}}},[D,G,k,S,w,j]),M=d.useCallback(function(t){var e=e4.findIndex(function(t){return t.id===b}),r="right"===t?(e+1)%e4.length:(e-1+e4.length)%e4.length;tw.setState(function(t){return{resultatKreidetafel:e8(e8({},t.resultatKreidetafel),{},{currentStatistic:e4[r].id})}})},[b]),H=(0,m.q_)({opacity:h?1:0,transform:"scale(".concat(h?1:.95,") rotate(").concat(O?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20}});return(tB(function(t){return t.getTotalStriche("top")}),tB(function(t){return t.getTotalStriche("bottom")}),h)?(0,g.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50",onClick:function(t){t.target===t.currentTarget&&v()},onTouchStart:function(t){a(t.targetTouches[0].clientX),p(null)},onTouchMove:function(t){if(u(t.targetTouches[0].clientX),i&&t.targetTouches[0].clientX){var e=i-t.targetTouches[0].clientX;Math.abs(e)>20&&p(e>0?"left":"right")}},onTouchEnd:function(){if(i&&c){var t=i-c,e=t>50;(e||t<-50)&&M(e?"right":"left"),a(null),u(null),p(null)}},children:(0,g.jsxs)(m.q.div,{style:H,className:"relative w-11/12 max-w-md bg-gray-800 bg-opacity-95 rounded-xl p-6 shadow-lg select-none\n          ".concat("left"===f?"-translate-x-4":"","\n          ").concat("right"===f?"translate-x-4":""),onClick:function(t){return t.stopPropagation()},children:[(0,g.jsxs)("div",{className:"text-center mb-4",children:[(0,g.jsx)("h2",{className:"text-2xl font-bold text-white",children:(null==N?void 0:N.title)||"Jassergebnis"}),(0,g.jsx)("p",{className:"text-gray-400",children:P})]}),(0,g.jsx)("button",{onClick:function(){return tw.setState(function(t){return{resultatKreidetafel:e8(e8({},t.resultatKreidetafel),{},{swipePosition:O?"bottom":"top"})}})},className:"absolute bottom-full mb-[-10px] left-1/2 transform -translate-x-1/2 \n            text-white hover:text-gray-300 transition-all duration-1000\n            w-24 h-24 flex items-center justify-center\n            rounded-full\n            ".concat(O?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,g.jsx)(et.bxQ,{className:"w-8 h-8"})}),(0,g.jsx)("button",{onClick:v,className:"absolute right-2 top-2 p-2 text-gray-400 hover:text-white",children:(0,g.jsx)(et.q5L,{size:24})}),(0,g.jsxs)("div",{className:"grid grid-cols-[1fr_4fr_4fr] gap-4 mb-2",children:[(0,g.jsx)("div",{}),(0,g.jsx)("div",{className:"text-center text-white",children:"Team 1"}),(0,g.jsx)("div",{className:"text-center text-white",children:"Team 2"})]}),(0,g.jsxs)("div",{className:"grid grid-cols-[1fr_4fr_4fr] gap-4 mb-4",children:[(0,g.jsx)("div",{}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,g.jsx)(rt,{name:x[1],isStarter:(null===(t=G[0])||void 0===t?void 0:t.initialStartingPlayer)===1}),(0,g.jsx)(rt,{name:x[3],isStarter:(null===(e=G[0])||void 0===e?void 0:e.initialStartingPlayer)===3})]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,g.jsx)(rt,{name:x[2],isStarter:(null===(r=G[0])||void 0===r?void 0:r.initialStartingPlayer)===2}),(0,g.jsx)(rt,{name:x[4],isStarter:(null===(n=G[0])||void 0===n?void 0:n.initialStartingPlayer)===4})]})]}),(0,g.jsx)("div",{className:"border-t border-b border-gray-700",children:(0,g.jsx)("div",{className:"max-h-[350px] overflow-y-auto",children:(0,g.jsx)("div",{className:"py-2",children:"striche"===b?(0,g.jsx)(e2,{teams:L,games:G,currentGameId:D,onSwipe:M}):(0,g.jsx)(e5,{teams:L,games:G,currentGameId:D,onSwipe:M})})})}),(0,g.jsxs)("div",{className:"grid grid-cols-[0.5fr_5fr_5fr] gap-4 mt-4",children:[(0,g.jsx)("div",{className:"text-gray-400 text-center pr-4",children:"Total:"}),(0,g.jsx)("div",{className:"flex justify-center -ml-[36px]",children:(0,g.jsx)("div",{className:"text-2xl font-bold text-white w-[100px] text-center",children:"striche"===b?R.striche.bottom:R.punkte.bottom})}),(0,g.jsx)("div",{className:"flex justify-center -ml-[12px]",children:(0,g.jsx)("div",{className:"text-2xl font-bold text-white w-[100px] text-center",children:"striche"===b?R.striche.top:R.punkte.top})})]}),(0,g.jsx)("div",{className:"flex justify-center my-6",children:(0,g.jsx)("div",{className:"flex justify-center items-center space-x-2 bg-gray-700/50 px-1.5 py-1 rounded-full",children:e4.map(function(t){return(0,g.jsx)("div",{className:"w-2 h-2 rounded-full transition-all duration-200 ".concat(b===t.id?"bg-white/80 shadow-sm":"bg-gray-500/50")},t.id)})})}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,g.jsx)("button",{onClick:A,disabled:!E,className:"\n              py-3 px-4 text-white rounded-lg font-medium text-lg\n              transition-all duration-150\n              ".concat(E?"bg-gray-600/80":"bg-gray-500/50 cursor-not-allowed","\n              hover:bg-gray-700/80\n            "),children:"Zur\xfcck"}),(0,g.jsx)("button",{onClick:I,className:"\n              py-3 px-4 text-white rounded-lg font-medium text-lg\n              transition-all duration-150\n              bg-green-600/80 hover:bg-green-700/80\n            ",children:C?"N\xe4chstes Spiel":"Neues Spiel"})]})]})}):null},rr=function(t){var e=tB(),r=e.navigateHistory,n=e.canNavigateForward,o=e.canNavigateBackward,i=e.currentHistoryIndex,a=e.validateHistoryAction;tw().showHistoryWarning;var s=(0,d.useRef)(Date.now());return(0,d.useCallback)(function(t){a()&&r(t)},[r,a]),{handleSwipe:(0,d.useCallback)(function(e){var i=Date.now();if(!(i-s.current<300)){s.current=i;var a="top"===t,c=a&&"left"===e||!a&&"right"===e;(c?n():o())&&r(c?"forward":"backward")}},[t,r,n,o]),isInPast:i>-1,canNavigateForward:n,canNavigateBackward:o}},rn=function(t){var e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=Math.floor(t/1e3),n=Math.floor(r/60),o=Math.floor(n/60),i=n%60,a=r%60;return o>0?e?"".concat(o,":").concat(i.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")):"".concat(o,":").concat(i.toString().padStart(2,"0")):e?"".concat(n.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")):"0:".concat(n.toString().padStart(2,"0"))};function ro(t){return function(t){if(Array.isArray(t))return ra(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ri(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ri(t,e){if(t){if("string"==typeof t)return ra(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ra(t,e)}}function ra(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var rs=Array.from(new Set(to.map(function(t){return t.multiplier}))).filter(function(t){return t>1}).sort(function(t,e){return e-t}),rc=(0,P.U)(function(t,e){return{currentMultiplier:Math.max.apply(Math,ro(rs.filter(function(t){return t>1}))),setMultiplier:function(e){return t({currentMultiplier:e})},getDividedPoints:function(t){return Math.floor(t/e().currentMultiplier)},getRemainingPoints:function(t,e){var r,n,o,i=e[t],a=tw.getState().scoreSettings,s=null!==(r=null==a?void 0:a.bergScore)&&void 0!==r?r:2500,c=null!==(n=null==a?void 0:a.siegScore)&&void 0!==n?n:5e3,u=null!==(o=null==a?void 0:a.schneiderScore)&&void 0!==o?o:2500;return!(null!=a&&a.isBergEnabled)||i>=s?{title:"SIEG",remaining:c-i}:e["top"===t?"bottom":"top"]>=s?!(null!=a&&a.isSchneiderEnabled)||i>=u?{title:"SIEG",remaining:c-i}:{title:"SCHNEIDER",remaining:u-i}:{title:"BERG",remaining:s-i}}}}),ru=function(t){var e,r=t.mainTitle,n=t.subTitle,o=t.points,i=t.className,a=t.numberSize,s=void 0===a?"text-xl":a,c=rc(),u=c.currentMultiplier,l=c.setMultiplier,f=c.getDividedPoints,m=tw(function(t){return t.farbeSettings}),p=function(t){if(Array.isArray(t))return t}(e=(0,d.useState)(!1))||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{for(i=(r=r.call(t)).next;!(c=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,2)||ri(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=p[0],y=p[1];return(0,d.useEffect)(function(){l(Math.min(Math.max.apply(Math,ro(m.multipliers.filter(function(t){return t>1}))),8))},[m.multipliers,l]),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-400",children:r}),(0,g.jsxs)("div",{className:"grid grid-cols-3 gap-2 mt-0 ".concat(void 0===i?"":i),children:[(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)("span",{className:"text-gray-400 text-xs",children:n}),(0,g.jsx)("div",{className:"".concat(s," font-bold mt-0"),children:o})]}),(0,g.jsxs)("button",{onClick:function(){var t=rs.indexOf(u),e=t===rs.length-1?0:t+1;l(rs[e])},onMouseDown:function(){return y(!0)},onMouseUp:function(){return y(!1)},onMouseLeave:function(){return y(!1)},onTouchStart:function(){return y(!0)},onTouchEnd:function(){return y(!1)},className:"bg-orange-500 hover:bg-orange-600 text-white rounded-lg px-2 py-3 self-center mx-auto h-12 w-14 mt-4 transition-all duration-100 ".concat(h?"bg-orange-700 scale-95 opacity-80":"scale-100 opacity-100"),children:[u,"x"]}),(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsxs)("span",{className:"text-gray-400 text-xs",children:[u,"-fach"]}),(0,g.jsx)("div",{className:"".concat(s," font-bold mt-0"),children:f(o)})]})]})]})},rl=function(t){console.log("\uD83C\uDFD4 Berg-Effekt!",t)},rf=function(t){console.log("\uD83C\uDF86 Bedanken-Effekt!",t)};function rd(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var rm=function(t){var e,r=t.type,n=t.team,o=t.condition,i=void 0===o||o,a=function(t){if(Array.isArray(t))return t}(e=(0,d.useState)(!1))||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{for(i=(r=r.call(t)).next;!(c=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,2)||function(t,e){if(t){if("string"==typeof t)return rd(t,2);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rd(t,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=a[0],c=a[1],u=tB(),l=u.isBergActive,f=u.isSiegActive,m=!!n&&("berg"===r?l(n):f(n)),p=(0,d.useCallback)(function(){n&&i&&c(!0)},[n,i]),h=(0,d.useCallback)(function(){if(n&&i){c(!1);var t=tB.getState(),e=t.addBerg,o=t.addSieg;"berg"===r?(e(n),rl({position:n,chargeAmount:s?1.5:1})):"sieg"===r&&(o(n),rf({position:n,chargeAmount:s?2:1}))}},[n,i,r,s]);return{isButtonActive:m,isPressed:s,handlers:{onMouseDown:p,onMouseUp:h,onMouseLeave:function(){return c(!1)},onTouchStart:p,onTouchEnd:function(t){t.preventDefault(),h()}}}};function rp(t){return(rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function rg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rh(Object(r),!0).forEach(function(e){var n,o;n=e,o=r[e],(n=function(t){var e=function(t,e){if("object"!==rp(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==rp(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===rp(e)?e:String(e)}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rh(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var ry=function(t){var e=t.handlers,r=t.isButtonActive,n=t.isPressed,o=t.showDepth,i=t.color,a=t.disabled,s=void 0!==a&&a,c=t.children;return(0,g.jsx)("button",rg(rg({},e),{},{disabled:!!s,className:"\n      py-4 text-white rounded-xl font-bold\n      transition-all duration-150\n      ".concat(r?"bg-".concat(i,"-600"):n?"bg-gray-700":"bg-gray-600","\n      ").concat(o?"border-b-4 border-t border-l border-r":"","\n      ").concat(o?s?"border-gray-500":"border-".concat(i,"-900"):"","\n      ").concat(n?"translate-y-1 shadow-inner opacity-80":s?"shadow-gray-500":"shadow-lg","\n    "),children:c}))};function rb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return rv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rv(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rv(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var rx=function(t){var e=t.isOpen,r=t.onClose,n=tB(),o=n.currentRound,i=n.currentPlayer,a=n.playerNames,s=n.isBergActive,c=n.isSiegActive,u=n.scores,l=tr().currentGameId,f=rb((0,d.useState)(!1),2),p=f[0],h=f[1],y=rb((0,d.useState)(!1),2),b=y[0],v=y[1],x=rb((0,d.useState)(""),2),S=x[0],w=x[1],j=rb((0,d.useState)(""),2),O=j[0],P=j[1],N=rb((0,d.useState)(""),2),E=N[0],C=N[1],k=tw(),T=k.isPaused,A=k.pauseGame,I=k.resumeGame,L=k.lastDoubleClickPosition,G=k.calculator.isFlipped,D=k.setCalculatorFlipped,R=k.scoreSettings,M=U(),H=M.gameStartTime,_=M.roundStartTime,F=M.jassStartTime,z=rc(),W=z.currentMultiplier,B=z.getDividedPoints,J=z.getRemainingPoints,K=G?"top":"bottom",q=rm({type:"berg",team:K,condition:!0}),Y=rm({type:"sieg",team:K,condition:!0}),Z=function(){T&&I(),r()},$=function(){A()},V=function(){I()};(0,d.useEffect)(function(){var t=function(){w(H?rn(Date.now()-H,!1):"0:00"),P(_?rn(Date.now()-_,!0):"0:00"),C(F?rn(Date.now()-F,!1):"0:00")};if(t(),e&&!T){var r=setInterval(t,1e3);return function(){return clearInterval(r)}}},[e,T,H,_,F]);var X=(0,m.q_)({opacity:e?1:0,transform:"scale(".concat(e?1:.95,") rotate(").concat(G?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20}});return(0,d.useEffect)(function(){e&&L&&D("top"===L)},[e,L]),(0,g.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 ".concat(e?"":"pointer-events-none"),onClick:function(t){T||t.target.closest('[data-strich-box="true"]')||t.target!==t.currentTarget||Z()},children:(0,g.jsxs)(m.q.div,{style:X,className:"relative w-11/12 max-w-md bg-gray-800 bg-opacity-95 rounded-xl p-6 shadow-lg select-none",onClick:function(t){return t.stopPropagation()},children:[(0,g.jsx)("h2",{className:"text-2xl font-bold text-white text-center mb-6",children:"Spielstand"}),(0,g.jsx)("button",{onClick:function(t){t.stopPropagation(),D(!G)},className:"absolute bottom-full mb-[-10px] left-1/2 transform -translate-x-1/2 \n            text-white hover:text-gray-300 transition-all duration-1000\n            w-24 h-24 flex items-center justify-center\n            rounded-full\n            ".concat(G?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,g.jsx)(et.bxQ,{className:"w-8 h-8"})}),(0,g.jsx)("button",{onClick:Z,className:"absolute right-2 top-2 p-2 transition-colors\n            ".concat(T?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-white"),disabled:T,children:(0,g.jsx)(et.q5L,{size:24})}),(0,g.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,g.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-white",children:[(0,g.jsxs)("div",{className:"text-center pl-5",children:[(0,g.jsx)("span",{className:"text-gray-400 text-xs",children:"Spiel"}),(0,g.jsx)("div",{className:"text-xl font-bold",children:l})]}),(0,g.jsxs)("div",{className:"text-center -ml-10 pl-0",children:[(0,g.jsx)("span",{className:"text-gray-400 text-xs",children:"Runde"}),(0,g.jsx)("div",{className:"text-xl font-bold",children:o})]}),(0,g.jsxs)("div",{className:"text-center -ml-10 pl-0",children:[(0,g.jsx)("span",{className:"text-gray-400 text-xs",children:"Spieldauer"}),(0,g.jsx)("div",{className:"text-xl font-bold",children:S})]}),(0,g.jsxs)("div",{className:"text-center -ml-8 pl-0",children:[(0,g.jsx)("span",{className:"text-gray-400 text-xs",children:"Jassdauer"}),(0,g.jsx)("div",{className:"text-xl font-bold",children:E})]})]}),(0,g.jsxs)("div",{className:"text-center text-white mt-1",children:[(0,g.jsx)("span",{className:"text-gray-400",children:"Spieler"}),(0,g.jsx)("div",{className:"text-3xl font-bold p-2 bg-gray-700 bg-opacity-50 rounded-xl mt-1",children:a[i]||"Spieler ".concat(i)})]}),(0,g.jsxs)("div",{className:"text-center text-white mt-1",children:[(0,g.jsx)("span",{className:"text-gray-400",children:"Zeit Runde"}),(0,g.jsx)("div",{className:"text-3xl font-bold p-2 bg-gray-700 bg-opacity-50 rounded-xl mt-1",children:O})]}),(0,g.jsx)("div",{className:"text-center text-white mt-3",children:(0,g.jsx)(ru,{mainTitle:"Punkte bis",subTitle:J(G?"top":"bottom",u).title,points:J(G?"top":"bottom",u).remaining,numberSize:"text-3xl"})}),(0,g.jsx)("div",{className:"text-center text-white mt-1",children:(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-400",children:"Gegner"}),(0,g.jsxs)("div",{className:"grid grid-cols-3 gap-2 -mt-10",children:[(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)("span",{className:"text-gray-400 text-xs",children:J(G?"bottom":"top",u).title}),(0,g.jsx)("div",{className:"text-xl font-bold mt-0",children:J(G?"bottom":"top",u).remaining})]}),(0,g.jsx)("div",{className:"invisible"}),(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsxs)("span",{className:"text-gray-400 text-xs",children:[W,"-fach"]}),(0,g.jsx)("div",{className:"text-xl font-bold mt-0",children:B(J(G?"bottom":"top",u).remaining)})]})]})]})})]}),(0,g.jsxs)("div",{className:"space-y-4 max-w-md mx-auto mt-10",children:[(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,g.jsx)(ry,{handlers:q.handlers,isButtonActive:q.isButtonActive,isPressed:q.isPressed,showDepth:b,color:"yellow",disabled:T||c("top")||c("bottom"),children:"BERG"}),(0,g.jsx)(ry,{handlers:Y.handlers,isButtonActive:Y.isButtonActive&&(null==R||!R.isBergEnabled||s("top")||s("bottom")),isPressed:Y.isPressed,showDepth:b,color:"yellow",disabled:T,children:"SIEG"})]}),(0,g.jsx)("button",{onMouseDown:function(){return h(!0)},onMouseUp:function(){h(!1),T?(V(),v(!1)):($(),v(!0))},onMouseLeave:function(){return h(!1)},onTouchStart:function(){return h(!0)},onTouchEnd:function(t){t.preventDefault(),h(!1),T?(V(),v(!1)):($(),v(!0))},className:"\n              w-full py-2 text-white rounded-xl font-bold\n              transition-all duration-150\n              ".concat(b?"border-b-4 border-t border-l border-r":"","\n              ").concat(T?"bg-green-600 hover:bg-green-700 border-green-900":"bg-red-600 hover:bg-red-700 border-red-900","\n              ").concat(p?"translate-y-1 shadow-inner opacity-80":b?"translate-y-1 shadow-inner":"shadow-lg","\n            "),children:T?"WEITER":"PAUSE"})]})]})})};function rS(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return rw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rw(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rw(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var rj=function(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://")};function rO(t){var e=(0,d.useRef)();return(0,d.useEffect)(function(){e.current=t},[t]),e.current}var rP=function(t){var e=t.middleLineThickness,r=void 0===e?60:e,n=t.zShapeConfig,o=rS((0,d.useState)(!1),2),i=o[0],a=o[1],s=rS((0,d.useState)(!1),2),c=s[0],u=s[1],l=rS((0,d.useState)(null),2),f=l[0],p=l[1],y=tB(),b=y.isGameStarted,v=y.isGameCompleted,x=y.scores,S=x.top,w=x.bottom,j=y.currentPlayer,O=y.currentRound,P=y.resetGame,N=y.updateScoreByStrich,E=tr().isJassStarted,C=tw(),k=C.menu.isOpen,T=C.setMenuOpen,A=C.historyWarning,I=C.isGameInfoOpen,L=C.setGameInfoOpen,G=C.setLastDoubleClickPosition,D=h(),R=eP(),M=R.showMessage,H=R.message,_=R.dismissMessage,F=R.hasShownIntro,z=(0,ew.oQ)(F),W=z.browserMessage,B=z.dismissMessage,U=(0,d.useMemo)(function(){return!E&&!b&&!k&&!M&&!W.show},[E,b,k,M,W.show]);(0,d.useEffect)(function(){a(!0),P()},[P]),(0,d.useEffect)(function(){u(!1)},[]);var J=(0,d.useMemo)(function(){if(!i)return{topContainerHeight:0,bottomContainerHeight:0,middleLinePosition:0};var t=rj()?parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--safe-area-top")||"0"):0,e=D-t-(rj()?parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--safe-area-bottom")||"0"):0),r=Math.floor(e/2),n=Math.floor(e/2);return{topContainerHeight:n,bottomContainerHeight:n,middleLinePosition:r+t}},[D,r,i]),K=J.topContainerHeight,q=J.bottomContainerHeight,Y=J.middleLinePosition,Z=t9({initialPosition:0,maxOffset:.07*D,position:"top"}),$=Z.y,V=Z.mainOpacity,X=(Z.oppositeOpacity,Z.animateSwipe),Q=Z.getBrightness,tt=t9({initialPosition:0,maxOffset:.07*D,position:"bottom"}),te=tt.y,tn=tt.mainOpacity,to=(tt.oppositeOpacity,tt.animateSwipe),ti=tt.getBrightness,ta=(0,d.useCallback)(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"left";("top"===t?X:to)(e);var r="top"===t?Q:ti;r(1.2),setTimeout(function(){r(1)},300)},[X,to,Q,ti]),ts=rr("top"),tc=rr("bottom"),tu=(0,d.useCallback)(function(t,e){if("left"===t||"right"===t){("top"===e?ts:tc).handleSwipe(t),ta(e,t);return}if("up"===t||"down"===t){var r="top"===e&&"up"===t||"bottom"===e&&"down"===t,n="top"===e&&"down"===t||"bottom"===e&&"up"===t;r?(T(!0),X(!0),to(!0)):n&&(T(!1),X(!1),to(!1))}},[ts,tc,X,to,T,ta]),tl=(0,d.useCallback)(function(t){k||(u(!0),p(t))},[k]),tf=(0,d.useCallback)(function(){u(!1),p(null)},[]),td=eS(function(t){k||(G(t.clientY<Y?"top":"bottom"),L(!0))});(0,d.useEffect)(function(){if(i){var t=setTimeout(function(){var t=window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px"))},0),e=setTimeout(function(){var t=window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px"))},100);return function(){clearTimeout(t),clearTimeout(e)}}},[i]),(0,d.useEffect)(function(){var t=function(){};return window.addEventListener("scroll",t,{passive:!1}),function(){window.removeEventListener("scroll",t)}},[]);var tm=rO(S),tp=rO(w);(0,d.useEffect)(function(){void 0!==tm&&S!==tm&&ta("top",S>tm?"left":"right")},[S,tm,ta]),(0,d.useEffect)(function(){void 0!==tp&&w!==tp&&ta("bottom",w>tp?"left":"right")},[w,tp,ta]);var th=(0,d.useCallback)(function(){T(!1),p(null),X(!1),to(!1)},[T,X,to]);(0,d.useCallback)(function(t,e){N(e,t)},[N]);var tg=(0,d.useCallback)(function(t){console.log("Blend effect for position:",t)},[]);return(0,g.jsxs)("div",{className:"relative w-full h-full overflow-hidden bg-chalk-black prevent-interactions",onClick:td,onContextMenu:function(t){return t.preventDefault()},children:[U&&(0,g.jsx)(eg,{}),M&&(0,g.jsx)(eN,{show:M,message:H,onDismiss:_}),!M&&W.show&&(0,g.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4 animate-fade-in",children:(0,g.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white",children:[(0,g.jsx)("p",{className:"text-lg mb-8 text-center",children:W.message}),(0,g.jsx)("button",{onClick:B,className:"bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors w-full text-lg font-semibold",children:"Verstanden"})]})}),!M&&!W.show&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(t8,{position:"top",height:K,zShapeConfig:n,padding:"paddingTop",onSwipe:tu,y:$,mainOpacity:V,getBrightness:Q,onLongPress:function(){return tl("top")},score:S,triggerBlendEffect:tg,isHistoryNavigationActive:ts.isInPast}),(0,g.jsx)(m.q.div,{style:{position:"absolute",left:"5%",width:"90%",top:Y-r/2,height:"".concat(r/2,"px"),transform:$.to(function(t){return"translateY(".concat(-t,"px)")})},className:"bg-chalk-red"}),(0,g.jsx)(m.q.div,{style:{position:"absolute",left:"5%",width:"90%",top:Y,height:"".concat(r/2,"px"),transform:te.to(function(t){return"translateY(".concat(t,"px)")})},className:"bg-chalk-red"}),(0,g.jsx)(ex,{currentPlayer:j,currentRound:O,opacity:V.get(),isOpen:k,isGameStarted:!v,gameStartTime:null,roundStartTime:null}),(0,g.jsx)(t8,{position:"bottom",height:q,zShapeConfig:n,padding:"paddingBottom",onSwipe:tu,y:te,mainOpacity:tn,getBrightness:ti,onLongPress:function(){return tl("bottom")},score:w,triggerBlendEffect:tg,isHistoryNavigationActive:tc.isInPast}),c&&(0,g.jsx)(ec,{isOpen:c,onClose:tf,onCancel:tf,initialValue:0,clickedPosition:f}),(0,g.jsx)(eB,{isOpen:k,onClose:th,swipePosition:f||"bottom"}),(0,g.jsx)(re,{})]}),(0,g.jsx)(tE,{show:A.show,message:A.message,onConfirm:A.onConfirm,onDismiss:A.onCancel}),(0,g.jsx)(rx,{isOpen:I,onClose:function(){return L(!1)}})]})},rN=function(){return(0,g.jsx)("div",{className:"w-screen h-screen relative z-10",children:(0,g.jsx)(rP,{middleLineThickness:3,zShapeConfig:{innerSpacing:50,sideSpacing:0,edgeSpacing:70}})})}},8312:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(7150)}])}},function(t){t.O(0,[130,740,888,774,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);