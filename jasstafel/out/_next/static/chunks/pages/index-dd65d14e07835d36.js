(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4160:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return K}});var r=n(7294),o=n(32);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var c=function(){var t,e=function(t){if(Array.isArray(t))return t}(t=(0,r.useState)(0))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,c,a=[],s=!0,u=!1;try{for(i=(n=n.call(t)).next;!(s=(r=i.call(n)).done)&&(a.push(r.value),2!==a.length);s=!0);}catch(t){u=!0,o=t}finally{try{if(!s&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw o}}return a}}(t,2)||function(t,e){if(t){if("string"==typeof t)return i(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=e[0],o=e[1];return(0,r.useEffect)(function(){var t=function(){o(window.innerHeight)};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}},[]),n},a=n(796),s=n(5893);function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var l=(0,a.ZP)("div")(function(t){var e=t.isVertical,n=t.isDiagonal,r=t.length,o=t.thickness,i=t.color,c=t.margin;return{width:e?o:r,height:e?r:o,backgroundColor:i,margin:"0 ".concat(c,"px"),transform:n?"rotate(45deg)":e?"none":"rotate(90deg)"}}),f=function(t){var e=t.wert,n=t.einheitWert,o=t.isVertical,i=t.strichLength,c=t.strichThickness,a=t.strichColor,f=t.strichMargin,d=t.isReversed,p=void 0!==d&&d,m=Math.floor(e/n);return(0,s.jsx)("div",{style:{display:"flex",flexDirection:o?"column":"row",alignItems:"center",transform:p?"scaleX(-1)":"none"},children:function(){var t,e=[],o=m;if(100===n||20===n)for(;o>0;)o>=5?(e.push((0,s.jsxs)(r.Fragment,{children:[((function(t){if(Array.isArray(t))return u(t)})(t=[,,,,])||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(t,e){return(0,s.jsx)(l,{isVertical:!0,isDiagonal:!1,length:i,thickness:c,color:a,margin:f},"vertical-".concat(e))}),(0,s.jsx)(l,{isVertical:!1,isDiagonal:!0,length:1.4*i,thickness:c,color:a,margin:f})]},"group-".concat(o))),o-=5):(e.push((0,s.jsx)(l,{isVertical:!0,isDiagonal:!1,length:i,thickness:c,color:a,margin:f},"single-".concat(o))),o--);else if(50===n)for(;o>0;)o>=2?(e.push((0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(l,{isVertical:!1,isDiagonal:!0,length:1.4*i,thickness:c,color:a,margin:f}),(0,s.jsx)(l,{isVertical:!1,isDiagonal:!0,length:1.4*i,thickness:c,color:a,margin:f,style:{transform:"rotate(-45deg)"}})]},"x-".concat(o))),o-=2):(e.push((0,s.jsx)(l,{isVertical:!1,isDiagonal:!0,length:1.4*i,thickness:c,color:a,margin:f},"single-".concat(o))),o--);return p?e.reverse():e}()})},d=function(t){var e=t.className,n=t.diagonalStrokeWidth,r=(t.width,t.margin,t.score),o=t.isReversed,i=void 0!==o&&o,c=100*Math.floor(r/100),a=20*Math.floor(r%50/20),u=r%20;return(0,s.jsxs)("svg",{className:e,viewBox:"0 0 120 100",preserveAspectRatio:"xMidYMid meet",children:[(0,s.jsx)("path",{d:"M0 0 L110 0",stroke:"currentColor",strokeWidth:"1",fill:"none"}),(0,s.jsx)("path",{d:"M0 100 L110 0",stroke:"currentColor",strokeWidth:void 0===n?.5:n,fill:"none"}),(0,s.jsx)("path",{d:"M0 100 L110 100",stroke:"currentColor",strokeWidth:"1",fill:"none"}),(0,s.jsx)("foreignObject",{x:"0",y:i?80:0,width:"110",height:"20",children:(0,s.jsx)(f,{wert:i?a:c,einheitWert:i?20:100,isVertical:!1,strichLength:10,strichThickness:1,strichColor:"white",strichMargin:2,isReversed:i})}),(0,s.jsx)("foreignObject",{x:"55",y:"50",width:"55",height:"50",transform:"rotate(-45 55 50)",children:(0,s.jsx)(f,{wert:50*Math.floor(r%100/50),einheitWert:50,isVertical:!0,strichLength:10,strichThickness:1,strichColor:"white",strichMargin:2,isReversed:i})}),(0,s.jsx)("foreignObject",{x:"0",y:i?0:80,width:"110",height:"20",children:(0,s.jsx)(f,{wert:i?c:a,einheitWert:i?100:20,isVertical:!1,strichLength:10,strichThickness:1,strichColor:"white",strichMargin:2,isReversed:i})}),u>0&&(0,s.jsxs)(s.Fragment,{children:[!i&&(0,s.jsx)("text",{x:"105",y:"95",fill:"white",fontSize:"6",textAnchor:"end",children:u}),i&&(0,s.jsx)("text",{x:"0",y:"5",fill:"white",fontSize:"6",textAnchor:"start",transform:"scale(-1, -1)",style:{transformOrigin:"5px 5px"},children:u})]})]})},p=function(t){var e=t.onSwipeUp,n=t.onSwipeDown,o=t.onSwipeLeft,i=t.onSwipeRight,c=t.threshold,a=void 0===c?50:c,s=t.element;(0,r.useEffect)(function(){var t=null,r=null,c=function(e){e.target.closest('[data-swipe-area="'.concat(s,'"]'))&&(t=e.touches[0].clientX,r=e.touches[0].clientY)},u=function(c){if(null!==t&&null!==r){var s=c.touches[0].clientX,u=c.touches[0].clientY,l=t-s,f=r-u;Math.abs(l)>Math.abs(f)?Math.abs(l)>a&&(l>0&&o?o():l<0&&i&&i(),t=null,r=null):Math.abs(f)>a&&(f>0&&e?e():f<0&&n&&n(),t=null,r=null)}};return document.addEventListener("touchstart",c),document.addEventListener("touchmove",u),function(){document.removeEventListener("touchstart",c),document.removeEventListener("touchmove",u)}},[e,n,o,i,a,s])};function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach(function(e){g(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function g(t,e,n){var r;return(r=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===m(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,c,a=[],s=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);s=!0);}catch(t){u=!0,o=t}finally{try{if(!s&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var S=(0,r.forwardRef)(function(t,e){var n=t.position,i=t.height,c=t.zShapeConfig,a=t.padding,u=t.onSwipe,l=(t.isOpen,t.y),f=t.mainOpacity,m=(t.oppositeOpacity,t.getBrightness),y=t.onLongPress,v=t.score,S=b((0,r.useState)(null),2),x=S[0],w=S[1],j=b((0,r.useState)(0),2);j[0],j[1];var O=function(){w(setTimeout(function(){y()},500))},M=function(){x&&clearTimeout(x)};(0,r.useEffect)(function(){return function(){x&&clearTimeout(x)}},[x]),p({onSwipeLeft:function(){console.log("Swipe Left detected"),u("left",n)},onSwipeRight:function(){console.log("Swipe Right detected"),u("right",n)},onSwipeUp:function(){console.log("Swipe Up detected"),u("up",n)},onSwipeDown:function(){console.log("Swipe Down detected"),u("down",n)},element:n});var R=g(g(g(g(g(g({width:"100%",position:"absolute",left:0,right:0,overflow:"visible",height:"".concat(i,"px")},n,0),a,"env(safe-area-inset-top)"),"userSelect","none"),"WebkitUserSelect","none"),"WebkitTouchCallout","none"),"touchAction","none"),C=g(g({position:"absolute",width:"110%",left:"-1.5%"},"top"===n?"bottom":"top","".concat(c.innerSpacing,"px")),"height","calc(100% - ".concat(c.edgeSpacing+c.innerSpacing,"px)"));return(0,s.jsxs)(o.q.div,{style:h(h({},R),{},{transform:l.to(function(t){return"translateY(".concat("top"===n?-t:t,"px)")})}),"data-swipe-area":n,onMouseDown:O,onMouseUp:M,onTouchStart:O,onTouchEnd:M,onContextMenu:function(t){return t.preventDefault()},children:[(0,s.jsx)("div",{style:C,children:(0,s.jsx)(d,{className:"w-full h-full text-chalk-red",diagonalStrokeWidth:.6,score:v,isReversed:"top"===n})}),(0,s.jsx)(o.q.div,{style:h(h({},{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"white",pointerEvents:"none"}),{},{opacity:l.to(m)})}),(0,s.jsx)(o.q.div,{className:"absolute inset-0 flex items-center justify-center",style:{opacity:f},children:(0,s.jsx)("span",{className:"text-gray-300 text-[9rem] opacity-50 select-none",style:{transform:"top"===n?"rotate(180deg)":"none"},children:v})})]})});function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var w=function(t){var e,n=t.initialPosition,r=t.maxOffset;t.position;var i=function(t){if(Array.isArray(t))return t}(e=(0,o.q_)(function(){return{y:n,mainOpacity:1,oppositeOpacity:1,config:{mass:1,tension:120,friction:26,clamp:!0,duration:250}}}))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,c,a=[],s=!0,u=!1;try{for(i=(n=n.call(t)).next;!(s=(r=i.call(n)).done)&&(a.push(r.value),2!==a.length);s=!0);}catch(t){u=!0,o=t}finally{try{if(!s&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw o}}return a}}(e,2)||function(t,e){if(t){if("string"==typeof t)return x(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(t,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=i[0],a=i[1];return{y:c.y,mainOpacity:c.mainOpacity,oppositeOpacity:c.oppositeOpacity,animateSwipe:function(t){"boolean"==typeof t?a.start({y:t?r:n,mainOpacity:1,oppositeOpacity:1}):a.start({mainOpacity:0,oppositeOpacity:0,config:{duration:125},onRest:function(){a.start({mainOpacity:1,oppositeOpacity:1,config:{duration:125}})}})},getBrightness:function(t){return"number"!=typeof t||isNaN(t)||"number"!=typeof r||0===r?0:Math.max(0,Math.min(t/r*.45,.45))}}},j=n(1993),O={siegScore:5e3,bergScore:2500,maxRoundScore:157,maxScore:157,colors:["Mis\xe8re","Sch\xe4lle","Schilte","Rosen","Guschti","Obenabe","Unenufe","Eichle","Qu\xe4r","Slalom"],colorMultipliers:[1,2,3,4,4,5,6,7,7,7]};function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t){return function(t){if(Array.isArray(t))return C(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return C(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach(function(e){N(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function N(t,e,n){var r;return(r=function(t,e){if("object"!==M(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==M(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===M(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A=(0,j.U)(function(t){return{topScore:0,bottomScore:0,topRounds:0,bottomRounds:0,settings:O,scoreHistory:[],currentHistoryIndex:-1,currentPlayer:1,currentRound:1,setTopScore:function(e){return t({topScore:e})},setBottomScore:function(e){return t({bottomScore:e})},incrementTopRound:function(){return t(function(t){return{topRounds:t.topRounds+1}})},incrementBottomRound:function(){return t(function(t){return{bottomRounds:t.bottomRounds+1}})},updateSettings:function(e){return t(function(t){return void 0!==e.siegScore&&(e.siegScore<=0||e.siegScore>1e4)||void 0!==e.bergScore&&void 0!==e.siegScore&&(e.bergScore<=0||e.bergScore>=e.siegScore)||void 0!==e.maxRoundScore&&(e.maxRoundScore<=0||e.maxRoundScore>1e3)||void 0!==e.colors&&10!==e.colors.length||void 0!==e.colorMultipliers&&(10!==e.colorMultipliers.length||e.colorMultipliers.some(function(t){return t<1||t>8}))?(console.error("Ung\xfcltige Spieleinstellungen"),t):{settings:P(P({},t.settings),e)}})},resetGame:function(){return t({topScore:0,bottomScore:0,topRounds:0,bottomRounds:0,settings:O,scoreHistory:[],currentHistoryIndex:-1})},updateScore:function(e,n,r){return t(function(t){var o,i,c=(o=t["".concat(e,"Score")]+n,t.settings.maxScore,Math.max(0,o)),a="top"===e?"bottom":"top",s=(i=t["".concat(a,"Score")]+r,t.settings.maxScore,Math.max(0,i)),u=N(N(N(N(N(N({},"".concat(e,"Score"),c),"".concat(a,"Score"),s),"currentPlayer",t.currentPlayer%4+1),"currentRound",t.currentRound+1),"topRounds","top"===e?t.topRounds+1:t.topRounds),"bottomRounds","bottom"===e?t.bottomRounds+1:t.bottomRounds),l=[].concat(R(t.scoreHistory.slice(0,t.currentHistoryIndex+1)),[{topScore:u.topScore,bottomScore:u.bottomScore,topRounds:u.topRounds,bottomRounds:u.bottomRounds}]);return(c>=t.settings.bergScore||s>=t.settings.bergScore)&&console.log("BERG erreicht!"),(c>=t.settings.siegScore||s>=t.settings.siegScore)&&console.log("SIEG erreicht!"),P(P({},u),{},{scoreHistory:l,currentHistoryIndex:l.length-1})})},addToHistory:function(){return t(function(t){var e=[].concat(R(t.scoreHistory),[{topScore:t.topScore,bottomScore:t.bottomScore,topRounds:t.topRounds,bottomRounds:t.bottomRounds}]);return console.log("Neue Historie hinzugef\xfcgt:",e),{scoreHistory:e,currentHistoryIndex:e.length-1}})},navigateHistory:function(e){return t(function(t){var n="forward"===e?Math.min(t.currentHistoryIndex+1,t.scoreHistory.length-1):Math.max(t.currentHistoryIndex-1,0);if(console.log("Navigiere in der Historie: ".concat(e,", Aktueller Index: ").concat(t.currentHistoryIndex,", Neuer Index: ").concat(n)),n!==t.currentHistoryIndex&&t.scoreHistory.length>0){var r=t.scoreHistory[n];if(r)return console.log("Historie-Eintrag gefunden:",r),P(P({},t),{},{topScore:r.topScore,bottomScore:r.bottomScore,currentRound:n+1,currentPlayer:n%4+1,currentHistoryIndex:n})}return console.log("Keine \xc4nderung in der Historie"),t})},incrementCurrentPlayer:function(){return t(function(t){return{currentPlayer:t.currentPlayer%4+1}})},incrementCurrentRound:function(){return t(function(t){return{currentRound:t.currentRound+1}})}}}),I=n(3280),E=n(9883);function H(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,c,a=[],s=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);s=!0);}catch(t){u=!0,o=t}finally{try{if(!s&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var D=function(t){var e=t.isOpen,n=t.onClose,o=t.onSubmit,i=t.initialValue,c=void 0===i?0:i;t.onCancel;var a=H((0,r.useState)("0"),2),u=a[0],l=a[1],f=H((0,r.useState)("0"),2),d=f[0],p=f[1],m=H((0,r.useState)(1),2),y=m[0],h=m[1],g=H((0,r.useState)(null),2),b=g[0],v=g[1],S=H((0,r.useState)(!1),2),x=S[0],w=S[1],j=A(function(t){return t.settings}),O=H((0,r.useState)(new Set),2),M=O[0],R=O[1],C=H((0,r.useState)(!1),2),k=C[0],P=C[1],N=H((0,r.useState)(null),2),T=N[0],D=N[1],L=H((0,r.useState)("0"),2),U=L[0],F=L[1],V=H((0,r.useState)(!1),2),W=V[0],z=V[1],_=H((0,r.useState)(!1),2),B=_[0],q=_[1],K=H((0,r.useState)(0),2),$=K[0],Y=K[1],G=H((0,r.useState)(null),2),X=G[0],Q=G[1];(0,r.useRef)("0");var Z=H((0,r.useState)(0),2),J=Z[0],tt=Z[1];(0,r.useEffect)(function(){e?(l(c.toString()),p("0"),F(c.toString()),v(null),h(1),z(!1)):P(!1)},[e,c]),(0,r.useEffect)(function(){if("0"===u)p("0"),F("0");else if("257"===u)p("0"),F((257*y).toString());else{var t=157-parseInt(u,10);p(t>0?t.toString():"0"),F((parseInt(u,10)*y).toString())}},[u,y]);var te=function(t){var e=Date.now();e-J<100||(tt(e),l(function(e){var n=ti("0"===e?t.toString():e+t.toString());return"0"===n&&p("157"),n}),R(function(e){return new Set(e).add(t)}),setTimeout(function(){R(function(e){var n=new Set(e);return n.delete(t),n})},100))},tn=function(t,e){if(v(t),h(e),D(null),"0"!==u){var n=parseInt(u,10);F((n*e).toString()),p((Math.max(157-n,0)*e).toString())}else p("0"),F("0")},tr=function(){l("0"),p("0"),h(1),v(null),z(!1)},to=function(){w(!x)},ti=function(t){var e=parseInt(t,10);return isNaN(e)?"0":Math.min(e,157).toString()},tc=function(t){if(!(t<3)){var e=document.querySelector(".matsch-button");if(e)for(var n=e.getBoundingClientRect(),r=(n.left+n.width/2)/window.innerWidth,o=(n.top+n.height/2)/window.innerHeight,i=10+(t-3)*30,c=function(t,e,n,i){(0,E.Z)({particleCount:n,angle:t,spread:e,origin:{x:r,y:o},colors:["#FF0000","#FFA500","#FFFF00","#00FF00","#0000FF","#800080"],scalar:i,gravity:1,ticks:300})},a=0;a<360;a+=45)c(a,55,Math.floor(.3*i),1.2),c(a,25,Math.floor(.4*i),.8),c(a,10,Math.floor(.3*i),.4)}},ta=function(){l("257"),p("0"),F((257*y).toString()),z(!0),setTimeout(function(){tc($),z(!1)},300)};return(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300 ".concat(e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:n,children:(0,s.jsxs)("div",{className:"relative w-11/12 max-w-md",children:[(0,s.jsxs)("button",{onClick:function(t){t.stopPropagation(),to()},className:"absolute ".concat(x?"top-full mt-6":"bottom-full mb-6"," left-1/2 transform -translate-x-1/2 text-white hover:text-gray-300 transition-all duration-1000"),"aria-label":"Umdrehen",children:[(0,s.jsx)(I.bxQ,{className:"w-8 h-8 ".concat(x?"rotate-180 opacity-0":"opacity-100"," transition-all duration-1000")}),(0,s.jsx)(I.bxQ,{className:"w-8 h-8 absolute top-0 left-0 ".concat(x?"rotate-0 opacity-100":"rotate-180 opacity-0"," transition-all duration-1000")})]}),(0,s.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg transition-all duration-700 flex flex-col items-center ".concat(k?"opacity-0 scale-95":"opacity-100 scale-100"),style:{transform:"".concat(x?"rotate(180deg)":"rotate(0deg)")},onClick:function(t){return t.stopPropagation()},children:[(0,s.jsx)("h2",{className:"text-white text-xl mb-4 text-center select-none","aria-label":"Runde schreiben",children:"Runde schreiben"}),(0,s.jsxs)("div",{className:"flex flex-col w-full space-y-4",children:[(0,s.jsx)("input",{type:"text",value:u,readOnly:!0,className:"w-full bg-gray-700 text-white text-6xl p-4 rounded select-none text-center","aria-label":"Aktueller Wert"}),(0,s.jsxs)("div",{className:"flex justify-between items-stretch w-full space-x-2 h-10",children:[(0,s.jsxs)("div",{className:"w-1/3 bg-gray-700 text-white p-1 rounded select-none flex items-center justify-end relative",children:[(0,s.jsx)("div",{className:"text-xs absolute top-0 left-1",children:"Gegner:"}),(0,s.jsx)("div",{className:"text-xl pr-1",children:d})]}),(0,s.jsx)("button",{onMouseDown:function(){q(!0),Y(0),Q(setInterval(function(){Y(function(t){return Math.min(t+1,20)})},100))},onMouseUp:function(){q(!1),X&&clearInterval(X),ta()},onMouseLeave:function(){q(!1),X&&clearInterval(X)},onTouchStart:function(){q(!0),Y(0),Q(setInterval(function(){Y(function(t){return Math.min(t+1,20)})},100))},onTouchEnd:function(){q(!1),X&&clearInterval(X),ta()},className:"w-1/3 p-1 rounded select-none transition-all duration-100 text-lg flex items-center justify-center matsch-button ".concat(W?"bg-orange-500 text-white":B?"bg-gray-600 text-white scale-95 opacity-80":"bg-gray-700 text-white hover:bg-orange-500 scale-100 opacity-100"),children:"Matsch"}),(0,s.jsxs)("div",{className:"w-1/3 bg-gray-700 text-white p-1 rounded select-none flex items-center justify-end relative",children:[(0,s.jsx)("div",{className:"text-xs absolute top-0 left-1",children:"Total:"}),(0,s.jsx)("div",{className:"text-xl pr-1",children:U})]})]})]}),(0,s.jsx)("div",{className:"mt-4"}),(0,s.jsx)("div",{className:"grid grid-cols-5 gap-2 mb-4 w-full",children:j.colors.map(function(t,e){return(0,s.jsx)("button",{onMouseDown:function(){return D(t)},onMouseUp:function(){return tn(t,j.colorMultipliers[e])},onMouseLeave:function(){return D(null)},onTouchStart:function(){return D(t)},onTouchEnd:function(){return tn(t,j.colorMultipliers[e])},className:"p-1 rounded transition-all duration-100 ".concat(b===t?"bg-orange-500":T===t?"bg-gray-500 scale-95":"bg-gray-600 scale-100"," text-white select-none text-xs h-12 flex items-center justify-center"),"aria-label":"".concat(t),children:t},t)})}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3 w-full",children:[[1,2,3,4,5,6,7,8,9].map(function(t){return(0,s.jsx)("button",{onClick:function(){return te(t)},onTouchEnd:function(e){e.preventDefault(),te(t)},className:"bg-gray-600 text-white p-4 rounded select-none text-2xl transition-all duration-100 ".concat(M.has(t)?"bg-gray-500 scale-95 opacity-80":"scale-100 opacity-100"),children:t},t)}),(0,s.jsx)("button",{onClick:tr,onMouseDown:function(){return R(function(t){return new Set(t).add("C")})},onMouseUp:function(){return R(function(t){var e=new Set(t);return e.delete("C"),e})},onMouseLeave:function(){return R(function(t){var e=new Set(t);return e.delete("C"),e})},onTouchStart:function(){return R(function(t){return new Set(t).add("C")})},onTouchEnd:function(){R(function(t){var e=new Set(t);return e.delete("C"),e}),tr()},className:"bg-red-600 text-white p-4 rounded select-none text-2xl transition-all duration-100 ".concat(M.has("C")?"bg-red-500 scale-95 opacity-80":"scale-100 opacity-100"),children:"C"}),(0,s.jsx)("button",{onClick:function(){return te(0)},onMouseDown:function(){return R(function(t){return new Set(t).add(0)})},onMouseUp:function(){return R(function(t){var e=new Set(t);return e.delete(0),e})},onMouseLeave:function(){return R(function(t){var e=new Set(t);return e.delete(0),e})},className:"bg-gray-600 text-white p-4 rounded select-none text-2xl transition-all duration-100 ".concat(M.has(0)?"bg-gray-500 scale-95 opacity-80":"scale-100 opacity-100"),children:"0"}),(0,s.jsx)("button",{onClick:function(){var t=parseInt(U,10),e=parseInt(d,10);P(!0),setTimeout(function(){o(t,e),P(!1)},300)},onMouseDown:function(){return R(function(t){return new Set(t).add("OK")})},onMouseUp:function(){return R(function(t){var e=new Set(t);return e.delete("OK"),e})},onMouseLeave:function(){return R(function(t){var e=new Set(t);return e.delete("OK"),e})},className:"bg-green-600 text-white p-4 rounded select-none text-2xl transition-all duration-100 ".concat(M.has("OK")?"bg-green-500 scale-95 opacity-80":"scale-100 opacity-100"),children:"OK"})]})]})]})})},L=n(2920),U=function(t){var e=t.currentPlayer,n=t.currentRound,r=t.opacity;return(0,s.jsxs)("div",{className:"absolute inset-x-0 flex flex-col items-center justify-center pointer-events-none",style:{opacity:r,top:"calc(50% - 1.5rem)",height:"3rem"},children:[(0,s.jsxs)("div",{className:"text-gray-500 text-xs transform scale-y-[-1] scale-x-[-1] mb-1",children:["Runde: ",n]}),(0,s.jsxs)("div",{className:"text-gray-500 text-xs mt-1",children:["Spieler: ",e]})]})};function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==F(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==F(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===F(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,c,a=[],s=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);s=!0);}catch(t){u=!0,o=t}finally{try{if(!s&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var B=function(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://")},q=function(t){var e=t.middleLineThickness,n=void 0===e?6:e,i=t.zShapeConfig,a=c(),u=z((0,r.useState)(!1),2),l=u[0],f=u[1],d=z((0,r.useState)(!1),2),p=d[0],m=d[1],y=z((0,r.useState)(!1),2),h=y[0],g=y[1],b=z((0,r.useState)(null),2),v=b[0],x=b[1],j=A(),O=j.topScore,M=j.bottomScore,R=(j.topRounds,j.bottomRounds,j.navigateHistory),C=j.currentHistoryIndex,k=j.updateScore,P=(j.scoreHistory,j.currentPlayer),N=j.currentRound;(0,r.useEffect)(function(){f(!0)},[]),(0,r.useEffect)(function(){console.log("Aktuelle Werte:",{topScore:O,bottomScore:M,currentHistoryIndex:C,currentPlayer:P,currentRound:N})},[O,M,C,P,N]),(0,r.useEffect)(function(){console.log("Aktualisierte Werte nach Zustands\xe4nderung:",{topScore:O,bottomScore:M,currentHistoryIndex:C,currentPlayer:P,currentRound:N})},[O,M,C,P,N]);var I=(0,r.useMemo)(function(){if(!l)return{topContainerHeight:0,bottomContainerHeight:0,middleLinePosition:0};var t=B()?parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--safe-area-top")||"0"):0,e=a-t-(B()?parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--safe-area-bottom")||"0"):0),n=Math.floor(e/2);return{topContainerHeight:n,bottomContainerHeight:n,middleLinePosition:Math.floor(e/2)+t}},[a,n,l]),E=I.topContainerHeight,H=I.bottomContainerHeight,T=I.middleLinePosition,F=w({initialPosition:0,maxOffset:.07*a,position:"top"}),V=F.y,_=F.mainOpacity,q=F.oppositeOpacity,K=F.animateSwipe,$=F.getBrightness,Y=w({initialPosition:0,maxOffset:.07*a,position:"bottom"}),G=Y.y,X=Y.mainOpacity,Q=Y.oppositeOpacity,Z=Y.animateSwipe,J=Y.getBrightness,tt=(0,r.useRef)(null),te=(0,r.useRef)(null),tn=(0,r.useCallback)(function(t,e){if("left"===t||"right"===t){var n="top"===e?"left"===t?"forward":"backward":"left"===t?"backward":"forward";console.log("Navigiere in der Historie: ".concat(n)),R(n),K(t),Z(t)}else{var r="top"===e&&"up"===t||"bottom"===e&&"down"===t,o="top"===e&&"down"===t||"bottom"===e&&"up"===t;r?(m(!0),K(!0),Z(!0)):o&&(m(!1),K(!1),Z(!1))}},[R,K,Z]),tr=a>0?.07*a:0,to={position:"absolute",height:"".concat(n/1.5,"px"),backgroundColor:"#FF0000"},ti=(0,r.useCallback)(function(t){g(!0),x(t)},[]),tc=(0,r.useCallback)(function(){g(!1),x(null)},[]),ta=(0,r.useCallback)(function(t,e){v&&(k(v,t,e),g(!1),x(null))},[v,k]),ts=(0,L.R)(),tu=ts.orientationMessage,tl=ts.dismissMessage;return(0,r.useCallback)(function(t,e){var n="top"===e?"left"===t?"forward":"backward":"left"===t?"backward":"forward";console.log("Horizontaler Swipe erkannt: ".concat(t," auf ").concat(e," Container")),console.log("Navigiere in der Historie: ".concat(n)),R(n),"top"===e?K(t):Z(t)},[R,K,Z]),(0,s.jsxs)("div",{className:"w-full h-full bg-black relative select-none touch-action-none",style:{height:"".concat(a,"px")},children:[(0,s.jsx)(S,{ref:tt,position:"top",height:E,zShapeConfig:i,padding:"paddingTop",onSwipe:tn,isOpen:p,y:V,mainOpacity:_,oppositeOpacity:q,getBrightness:$,onLongPress:function(){return ti("top")},score:O},"top-".concat(C)),(0,s.jsx)(o.q.div,{style:W(W({},to),{},{left:V.to(function(t){return"".concat(5-t/tr*5,"%")}),width:V.to(function(t){return"".concat(90+t/tr*10,"%")}),top:T-n/2,transform:V.to(function(t){return"translateY(".concat(-t,"px)")})}),className:"bg-chalk-red"}),(0,s.jsx)(o.q.div,{style:W(W({},to),{},{left:G.to(function(t){return"".concat(5-t/tr*5,"%")}),width:G.to(function(t){return"".concat(90+t/tr*10,"%")}),top:T,transform:G.to(function(t){return"translateY(".concat(t,"px)")})}),className:"bg-chalk-red"}),(0,s.jsx)(S,{ref:te,position:"bottom",height:H,zShapeConfig:i,padding:"paddingBottom",onSwipe:tn,isOpen:p,y:G,mainOpacity:X,oppositeOpacity:Q,getBrightness:J,onLongPress:function(){return ti("bottom")},score:M},"bottom-".concat(C)),h&&(0,s.jsx)(D,{isOpen:h,onClose:tc,onSubmit:ta,onCancel:tc,initialValue:0}),!h&&(0,s.jsx)(U,{currentPlayer:P,currentRound:N,opacity:p?0:1}),tu.show&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-sm w-full",children:[(0,s.jsx)("p",{className:"text-lg mb-4",children:tu.message}),(0,s.jsx)("button",{onClick:tl,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors",children:"OK"})]})})]})},K=function(){return(0,s.jsx)("div",{className:"w-screen h-screen relative z-10",children:(0,s.jsx)(q,{middleLineThickness:3,zShapeConfig:{innerSpacing:50,sideSpacing:0,edgeSpacing:70}})})}},8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4160)}])}},function(t){t.O(0,[130,652,888,774,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);