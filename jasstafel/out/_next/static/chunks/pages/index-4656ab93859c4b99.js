(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{1554:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return E}});var r=n(7294),o=n(9679),i=n(3114),a=n(630),s=n(968),c=n(1773),l=n(8605),u=n(5893);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===f(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var h=function(t){var e=t.onClick,n=t.className,r=t.children,o=(0,l.m)(e);return(0,u.jsx)("button",m(m({},o.handlers),{},{className:"\n        min-w-[140px] h-12 px-6 rounded-full text-white font-semibold\n        transition-colors duration-100 flex items-center justify-center\n        ".concat(o.buttonClasses,"\n        ").concat(void 0===n?"":n,"\n      "),children:r}))},p=function(t){var e=t.onNext,n=t.showBackButton,r=void 0===n||n,o=t.isFirstStep,i=void 0!==o&&o,s=t.isLastStep,l=void 0!==s&&s,f=(0,a.X)(),d=f.previousStep,m=f.nextStep;return(0,u.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[r&&!i&&(0,u.jsxs)(h,{onClick:d,className:"bg-gray-600 hover:bg-gray-700 active:bg-gray-600",children:[(0,u.jsx)(c.x_l,{className:"mr-2"}),"Zur\xfcck"]}),(0,u.jsxs)(h,{onClick:function(){l&&e?e():m()},className:"bg-yellow-600 hover:bg-yellow-700 active:bg-yellow-600 \n          ".concat(!r||i?"ml-auto":""),children:[l?"Fertig":"Weiter",!l&&(0,u.jsx)(c.Z1Y,{className:"ml-2"})]})]})},g=n(4319),y=n(1418);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===b(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function x(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var j=function(t){var e=t.target,n=x(r.useState(null),2),i=n[0],a=n[1],s=r.useRef(0);return(r.useEffect(function(){var t=function(){if(e){var t=document.querySelector(e);if(t){var r=t.getBoundingClientRect();r.width>0&&r.height>0?(a(r),s.current=0):n()}else n()}},n=function(){s.current<10?(s.current+=1,setTimeout(t,100)):console.error("Failed to find target element: ".concat(e))};t();var r=function(){return t()};return window.addEventListener("nextButtonReady",r),function(){window.removeEventListener("nextButtonReady",r)}},[e]),i&&0!==i.width&&0!==i.height)?(0,u.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute",style:{top:i.top,left:i.left,width:i.width,height:i.height,border:"2px solid rgba(255, 255, 255, 0.8)",borderRadius:"8px",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)",zIndex:1e3,pointerEvents:"none"}}):null},N=function(t){var e={position:"fixed",transform:""},n=function(t){return"".concat(.1*t,"vh")},r=function(t){return"".concat(.1*t,"vw")};switch(t.vertical){case"top":e.top="20vh";break;case"center":e.top="50vh",e.transform="translateY(-50%)";break;case"bottom":e.bottom="20vh"}switch(t.horizontal){case"left":e.left="20%";break;case"center":e.left="50%",e.transform?e.transform+=" translateX(-50%)":e.transform="translateX(-50%)";break;case"right":e.right="20%"}return t.offset&&("number"==typeof t.offset.y&&("bottom"===t.vertical?e.bottom="calc(20vh + ".concat(n(t.offset.y),")"):e.top="calc(".concat("center"===t.vertical?"50vh":"20vh"," + ").concat(n(t.offset.y),")")),"number"==typeof t.offset.x&&("right"===t.horizontal?e.right="calc(20% + ".concat(r(t.offset.x),")"):e.left="calc(".concat("center"===t.horizontal?"50%":"20%"," + ").concat(r(t.offset.x),")"))),e.transform||delete e.transform,e},E=(0,r.memo)(function(t){t.onCloseMenu;var e=(0,a.X)(),n=e.isActive,c=e.getCurrentStep,l=e.nextStep,f=(e.previousStep,e.endTutorial),d=e.isHelpMode,m=e.exitHelpStep,h=e.markCategoryAsCompleted;(0,g.HB)(function(t){return t.closeSettings});var b=x((0,r.useState)(!0),2),v=b[0],w=b[1],E=x((0,r.useState)(!1),2),O=E[0],T=E[1],P=c();(0,y.i)("splitContainer",w),(0,y.i)("calculator",w),(0,y.i)("gameInfo",w),(0,y.i)("settings",w);var k=(0,r.useCallback)(function(){null!=P&&P.onExit&&P.onExit(),m()},[P,m]),C=(0,r.useCallback)(function(){var t=g.HB.getState();t.splitContainer.isOpen=!1,t.menu.isOpen=!1,t.closeAllOverlays(),t.setMenuOpen(!1),a.X.getState().setTutorialUIBlocking({calculatorClose:!1,gameInfoClose:!1,settingsClose:!1,resultatKreidetafelClose:!1}),null!=P&&P.category&&h(P.category),f(O)},[null==P?void 0:P.category,f,h,O]),A=(0,r.useCallback)(function(){I()},[]);if((0,r.useEffect)(function(){if((null==P?void 0:P.target)==="save-settings"){var t;null===(t=document.getElementById("save-settings"))||void 0===t||t.addEventListener("click",A)}return function(){var t;null===(t=document.getElementById("save-settings"))||void 0===t||t.removeEventListener("click",A)}},[P,A]),(0,r.useEffect)(function(){var t=!P||P.id!==s.RX.CALCULATOR_OPEN&&P.id!==s.RX.GAME_INFO;return a.X.getState().setTutorialUIBlocking({calculatorClose:t,gameInfoClose:t,settingsClose:!0,resultatKreidetafelClose:!0}),function(){a.X.getState().setTutorialUIBlocking({calculatorClose:!1,gameInfoClose:!1,settingsClose:!1,resultatKreidetafelClose:!1})}},[null==P?void 0:P.id]),(0,r.useEffect)(function(){if((null==P?void 0:P.id)===s.RX.CALCULATOR_OPEN){var t=function(t){w(!1)};return document.addEventListener("calculatorOpen",t),function(){document.removeEventListener("calculatorOpen",t),w(!0)}}if((null==P?void 0:P.id)===s.RX.GAME_INFO){var e=function(){w(!1)};return document.addEventListener("gameInfoOpen",e),function(){document.removeEventListener("gameInfoOpen",e),w(!0)}}if((null==P?void 0:P.id)===s.RX.RESULTAT_INFO){var n=function(){w(!1)};return document.addEventListener("resultatKreidetafelOpen",n),function(){document.removeEventListener("resultatKreidetafelOpen",n),w(!0)}}},[null==P?void 0:P.id]),(0,r.useEffect)(function(){if((null==P?void 0:P.id)===s.RX.JASS_SETTINGS){var t=function(){w(!1)};return document.addEventListener("settingsOpen",t),function(){document.removeEventListener("settingsOpen",t),w(!0)}}},[null==P?void 0:P.id]),!n||!P)return null;var I=function(){var t=c();(null==t?void 0:t.id)===s.RX.SETTINGS_NAVIGATE_STROKES&&l()};return(0,u.jsxs)(i.M,{children:[(0,u.jsxs)(o.E.div,{className:"fixed inset-0 z-50",style:{pointerEvents:"none"},children:[P.target&&(0,u.jsx)(j,{target:P.target}),P.id===s.RX.SETTINGS&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"fixed left-0 right-0 top-0 bg-transparent",style:{height:"calc(50% - 40px)",pointerEvents:"auto",zIndex:1002}}),(0,u.jsx)("div",{className:"fixed left-0 right-0 bg-transparent",style:{top:"calc(50% + 40px)",bottom:0,pointerEvents:"auto",zIndex:1002}})]})]},"tutorial-overlay-backdrop"),v&&(0,u.jsxs)(o.E.div,{className:"bg-gray-800 rounded-lg shadow-lg flex flex-col items-center text-center w-10/12 max-w-md fixed\n            ".concat(P.title?"p-6":"py-4 px-6"),style:S(S({},N(P.overlayPosition)),{},{zIndex:1001,pointerEvents:"auto"}),children:[P.title&&(0,u.jsx)("h2",{className:"text-2xl font-bold mb-4 text-white",children:P.title}),P.icon&&(0,u.jsx)(P.icon,{className:"w-12 h-12 text-yellow-600 mb-4"}),P.image&&(0,u.jsx)("img",{src:P.image,alt:"",className:"w-64 h-64 mb-6 rounded-lg object-cover"}),(0,u.jsx)("p",{className:"text-white text-lg max-w-[90%] ".concat(P.title?"":"my-2"),children:P.content})]},"tutorial-overlay-content"),!P||P.hideNavigation?null:(0,u.jsx)(o.E.div,{className:"fixed left-1/2 transform -translate-x-1/2 z-[1001]",style:{bottom:"4vh"},children:(0,u.jsxs)("div",{className:"flex flex-col items-center w-full max-w-md px-8 mb-8 mx-auto",children:[(0,u.jsx)("div",{className:"w-full flex items-center ".concat((null==P?void 0:P.id)===s.RX.WELCOME?"justify-center":"justify-between"," gap-4 mb-4"),children:d&&P.category!==s.cz.TIPS?(0,u.jsx)("button",{onClick:k,className:"bg-yellow-600 hover:bg-yellow-700 text-white font-bold  py-3 px-8 rounded-full w-[180px] mx-auto block active:bg-yellow-600",children:"Verstanden"}):(0,u.jsx)(p,{showBackButton:!P.hideBackButton,isFirstStep:P.id===s.RX.WELCOME||P.id===s.RX.TIPS_WELCOME,isLastStep:P.id===s.RX.BASIC_COMPLETE||P.id===s.RX.TIPS_IPHONE_WAKE,onNext:P.id===s.RX.BASIC_COMPLETE||P.id===s.RX.TIPS_IPHONE_WAKE?C:void 0})}),!d&&(P.category===s.cz.BASIC||P.id===s.RX.BASIC_COMPLETE||P.id===s.RX.TIPS_IPHONE_WAKE)&&(0,u.jsxs)("div",{className:"flex items-center justify-center gap-2 text-white mt-2",children:[(0,u.jsx)("input",{type:"checkbox",id:"neverShowAgain",checked:O,onChange:function(t){return T(t.target.checked)},className:"w-4 h-4 rounded border-gray-300 text-yellow-600 focus:ring-yellow-500"}),(0,u.jsx)("label",{htmlFor:"neverShowAgain",className:"text-sm whitespace-nowrap",children:"Tutorial nicht mehr anzeigen"})]})]})},"tutorial-overlay-navigation")]},"tutorial-overlay")})},7266:function(t,e,n){"use strict";n.d(e,{MZ:function(){return i},vK:function(){return o}});var r={backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"},o=[{id:"mis\xe8re",name:"Mis\xe8re",multiplier:1,order:1,emojiStyle:{backgroundColor:"bg-[#f87171] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#f87171]"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"eicheln",name:"Eicheln",multiplier:7,order:7,emojiStyle:{backgroundColor:"bg-[#65a30d] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#65a30d]"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"rosen",name:"Rosen",multiplier:4,order:3,emojiStyle:{backgroundColor:"bg-[#fde047] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#fde047]"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"schellen",name:"Schellen",multiplier:2,order:4,emojiStyle:{backgroundColor:"bg-[#fbbf24] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#fbbf24]"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"schilten",name:"Schilten",multiplier:3,order:5,emojiStyle:{backgroundColor:"bg-[#64748b] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#6b7280]"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"obe",name:"Obe",multiplier:5,order:6,emojiStyle:{backgroundColor:"bg-[#0891b2] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#0284c7]"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"une",name:"Une",multiplier:6,order:7,emojiStyle:{backgroundColor:"bg-[#0369a1] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#854d0e]"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"dreimal",name:"3x3",multiplier:4,order:8,emojiStyle:{backgroundColor:"bg-[#f0abfc] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#f0abfc]"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"quer",name:"Quer",multiplier:7,order:9,emojiStyle:{backgroundColor:"bg-[#f87171] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#0891b2]"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"slalom",name:"Slalom",multiplier:7,order:10,emojiStyle:{backgroundColor:"bg-white group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-white"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}}];o.map(function(t){return t.multiplier});var i=function(t){return!t.values||t.values.every(function(t){return t>=0&&t<=8})}},9337:function(t,e,n){"use strict";n.d(e,{Pj:function(){return a},qL:function(){return s},wB:function(){return i}});var r,o=((r={}).JASSGROUP="JASSGROUP",r),i={schneider:2,kontermatsch:2};o.JASSGROUP;var a={berg:1,sieg:2,matsch:1,schneider:i.schneider,kontermatsch:i.kontermatsch},s=function(t){return!!((void 0===t.schneider||[1,2].includes(t.schneider))&&(void 0===t.kontermatsch||[1,2].includes(t.kontermatsch)))}},430:function(t,e,n){"use strict";n.d(e,{FA:function(){return r},J3:function(){return i},M:function(){return o},VM:function(){return s}});var r=157,o=257,i=[{id:"sieg",name:"Sieg",defaultValue:5e3,maxValue:1e4,order:1},{id:"berg",name:"Berg",defaultValue:2500,maxValue:5e3,order:2},{id:"schneider",name:"Schneider",defaultValue:2500,maxValue:5e3,order:3}];i[0].defaultValue,i[1].defaultValue,i[2].defaultValue;var a=function(t){var e=i.find(function(e){return e.id===t});if(!e)throw Error("Ung\xfcltiger Score-Mode: ".concat(t));return e},s=function(t,e){var n=a(t);if(e<0)return!1;if("sieg"===t)return e<=n.maxValue;var r=Math.floor(a("sieg").defaultValue/2);return e<=Math.min(n.maxValue,r)}},8605:function(t,e,n){"use strict";n.d(e,{m:function(){return i}});var r=n(7294);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var i=function(t){var e,n=function(t){if(Array.isArray(t))return t}(e=(0,r.useState)(!1))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{for(i=(n=n.call(t)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,2)||function(t,e){if(t){if("string"==typeof t)return o(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=n[0],a=n[1],s=function(t){null==t||t.preventDefault(),a(!0)},c=function(e){null==e||e.preventDefault(),a(!1),t()};return{isPressedDown:i,handlers:{onMouseDown:s,onMouseUp:c,onMouseLeave:function(){return a(!1)},onTouchStart:s,onTouchEnd:c},buttonClasses:"\n      transition-all duration-100\n      ".concat(i?"scale-95 opacity-80":"scale-100 opacity-100","\n    ")}}},1418:function(t,e,n){"use strict";n.d(e,{i:function(){return u}});var r,o=n(630),i=n(968);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n){var r;return(r=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===a(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=(s(s(s(s(s(s(s(s(s(s(r={},i.RX.SETTINGS,"settings"),i.RX.SETTINGS_INTRO,"settings"),i.RX.SETTINGS_CARDS,"settings"),i.RX.SETTINGS_PICTOGRAMS,"settings"),i.RX.SETTINGS_MULTIPLIER,"settings"),i.RX.SETTINGS_CONFIGURE,"settings"),i.RX.SETTINGS_NAVIGATE,"settings"),i.RX.CALCULATOR,"calculator"),i.RX.GAME_INFO,"gameInfo"),i.RX.NEW_GAME,"splitContainer"),s(r,i.RX.RESULTAT_INFO,"splitContainer")),l=n(7294),u=function(t,e){var n=(0,o.X)(),r=n.isActive,a=n.getCurrentStep,s=n.registerEvent,u=a();return((0,l.useEffect)(function(){if(u&&e&&"calculator"===t&&u.id===i.RX.CALCULATOR_OPEN){var n=function(){return e(!1)};return document.addEventListener("calculatorOpen",n),s("calculatorOpen"),function(){document.removeEventListener("calculatorOpen",n),e(!0)}}},[t,null==u?void 0:u.id,e]),null!=u&&u.id&&("calculator"===t&&["CALCULATOR_OPEN","CALCULATOR_INPUT"].includes(u.id)||"gameInfo"===t&&u.id===i.RX.GAME_INFO))?{preventClose:!0}:{preventClose:!!(r&&u&&c[u.id]===t)}}},2932:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r5}});var r,o,i,a,s,c,l,u,f,d,m,h,p,g,y,b,v,S,x,w=n(7294),j=n(32);function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var E=function(){var t,e=function(t){if(Array.isArray(t))return t}(t=(0,w.useState)(function(){return window.innerHeight}))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{for(i=(n=n.call(t)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,2)||function(t,e){if(t){if("string"==typeof t)return N(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(t,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=e[0],r=e[1];return(0,w.useEffect)(function(){var t=function(){var t=window.innerHeight;r(t),document.documentElement.style.setProperty("--vh","".concat(t,"px"))};t();var e=setTimeout(t,100);return window.addEventListener("resize",t),window.addEventListener("orientationchange",t),function(){clearTimeout(e),window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[]),n},O=n(5893),T=function(t){var e=t.className,n=t.outerStrokeWidth,r=void 0===n?2:n,o=t.diagonalStrokeWidth,i=t.position,a=t.onShapeRendered,s=(0,w.useRef)(null);(0,w.useEffect)(function(){if(s.current&&a){var t=s.current.getBoundingClientRect();a({width:t.width,height:t.height,left:t.left,top:t.top})}},[a]);var c=Math.sqrt(2);return(0,O.jsx)("svg",{ref:s,className:e,viewBox:"0 0 120 100",preserveAspectRatio:"xMidYMid meet",children:(0,O.jsxs)("g",{transform:"top"===i?"translate(0, 0)":"none",children:[(0,O.jsx)("path",{d:"M0 0 L110 0",stroke:"currentColor",strokeWidth:r,fill:"none"}),(0,O.jsx)("path",{d:"M0 100 L110 0",stroke:"currentColor",strokeWidth:(void 0===o?.75:o)*c,fill:"none"}),(0,O.jsx)("path",{d:"M0 100 L110 100",stroke:"currentColor",strokeWidth:r,fill:"none"})]})})},P=function(t){var e=t.onSwipeUp,n=t.onSwipeDown,r=t.onSwipeLeft,o=t.onSwipeRight,i=t.threshold,a=void 0===i?50:i,s=t.element;(0,w.useEffect)(function(){var t=null,i=null,c=function(e){e.target.closest('[data-swipe-area="'.concat(s,'"]'))&&(t=e.touches[0].clientX,i=e.touches[0].clientY)},l=function(s){if(null!==t&&null!==i){var c=s.touches[0].clientX,l=s.touches[0].clientY,u=t-c,f=i-l;Math.abs(u)>Math.abs(f)?Math.abs(u)>a&&(u>0&&r?r():u<0&&o&&o(),t=null,i=null):Math.abs(f)>a&&(f>0&&e?e():f<0&&n&&n(),t=null,i=null)}};return document.addEventListener("touchstart",c),document.addEventListener("touchmove",l),function(){document.removeEventListener("touchstart",c),document.removeEventListener("touchmove",l)}},[e,n,r,o,a,s])},k=n(796);function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==C(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===C(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}(0,k.ZP)("div")({position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start"}),(0,k.ZP)(j.q.div,{shouldForwardProp:function(t){return"isVertical"!==t&&"color"!==t}})(function(t){var e=t.isVertical;return{position:"absolute",backgroundColor:t.color,width:"2px",height:e?"100%":"2px",transformOrigin:"top left"}});var L=(0,k.ZP)("div")(function(t){return{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",transform:t.isRotated?"rotate(180deg)":"rotate(0)",transformOrigin:"center center"}}),R=function(t){var e=t.stricheCount,n=(t.stricheCounts,t.einheitWert),r=t.strichColor,o=t.animationDuration,i=(t.isActive,t.direction),a=t.edgeOffset,s=t.strichSpacing,c=void 0===s?10:s,l=t.einheitSpacing,u=void 0===l?50:l,f=t.position,d=t.isRotated,m=t.xSize,h=void 0===m?20:m,p=t.isXMode,g=void 0!==p&&p,y=t.xAngle,b=void 0===y?15:y,v=(t.xAlignment,t.isDiagonal,t.diagonalAngle,t.diagonalStrichHeight),S=void 0===v?"100%":v,x=t.diagonalStrichWidth,N=void 0===x?"2px":x,E=(t.diagonalStrichOffset,t.diagonalStrichAngle),T=void 0===E?0:E,P=t.topDiagonalStrichOffset,k=t.bottomDiagonalStrichOffset,C=t.topDiagonalStrichAngle,A=void 0===C?0:C,R=t.bottomDiagonalStrichAngle,D=void 0===R?0:R,G=t.diagonalStrichOffset100er,M=t.diagonalStrichOffset20er,_=t.diagonalStrichAngle100er,z=t.diagonalStrichAngle20er,H=t.xSpacing,B=void 0===H?10:H,F=t.xOffset100erTop,K=void 0===F?63:F,W=t.xOffset100erBottom,U=void 0===W?40:W;t.offset;var J=Math.floor(e/5),X=e%5,V=e>0;(0,j.q_)({from:{scaleY:0},to:{scaleY:V?1:0},config:I(I({},j.vc.stiff),{},{duration:void 0===o?1e3:o})});var Z=(0,w.useCallback)(function(t,e,o){var s=Math.floor(t/5),l=t%5,d=s*(u+4*c),m=l*c;if(4===l){var h,p,g=3*c;100===n&&G?(h=G,p=_||T):20===n&&M?(h=M,p=z||T):(h="top"===f?P:k,p="top"===f?A:D);var y=I(I({position:"absolute",height:S,width:N},"top"===f?{right:"calc(".concat(a+d+g,"px + ").concat(h.horizontal," ").concat(100===n?"- 0px":"",")"),top:"calc(0px + ".concat(h.vertical,")")}:{left:"calc(".concat(a+d,"px + ").concat(h.horizontal,")"),bottom:"calc(0px + ".concat(h.vertical,")")}),{},{transform:"rotate(".concat(p,"deg)"),transformOrigin:"bottom left",backgroundColor:r});return(0,O.jsx)("div",{style:y},"strich-".concat(t))}if(o){if("ltr"===i){var b,v="bottom"===f&&0===n?0:5;b={left:"".concat(a+d+m+v,"px")}}else b={right:"".concat(a+d+m,"px")};var x=I({position:"absolute",height:"100%",width:"2px"},b);return(0,O.jsx)("div",{style:I(I({},x),{},{backgroundColor:r})},"strich-".concat(t))}return null},[r,i,a,S,N,T,c,u,f,P,k,A,D,n,G,M,_,z]),Y=(0,w.useCallback)(function(t){return(0,O.jsxs)(w.Fragment,{children:[[0,1,2,3].map(function(e){return Z(5*t+e,!1,!0)}),Z(5*t+4,!1,!1)," "]},"einheit-".concat(t))},[Z]),q=(0,w.useMemo)(function(){return Array.from({length:J}).map(function(t,e){return Y(e)})},[J,Y]),$=(0,w.useMemo)(function(){return Array.from({length:X}).map(function(t,e){return Z(5*J+e,!1,e<4)})},[X,J,Z]),Q=(0,w.useMemo)(function(){if(V){var t=e-1;return Z(t,!0,t%5<4)}return null},[V,e,Z]),tt=(0,w.useCallback)(function(){return Array.from({length:Math.ceil(e/2)}).map(function(t,e){return"".concat(35*e,"px")})},[e]),te=(0,w.useCallback)(function(){return tt().map(function(t,n){var o=2*n+2<=e,i=2*n+1===e,a={position:"absolute",width:"0%",height:"104%",top:"50%",transform:"translateY(-50%)"};return"top"===f?a.right="calc(".concat(t," + 40px)"):a.left="calc(".concat(t," + 20px)"),(0,O.jsxs)("div",{style:a,children:[(0,O.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:r,transform:"rotate(".concat(b,"deg)"),transformOrigin:"center",opacity:o||i?1:0}}),(0,O.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:r,transform:"rotate(-".concat(b,"deg)"),transformOrigin:"center",opacity:o?1:0}})]},"x-".concat(n))})},[tt,e,b,r,f]),tn=(0,w.useCallback)(function(){var t=Math.floor(e/10);return t>0?(0,O.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:Array.from({length:t}).map(function(t,e){return(0,O.jsxs)("div",{style:I(I({position:"absolute"},"top"===f?{right:"".concat(23+e*(h+15),"px")}:{left:"".concat(23+e*(h+15),"px")}),{},{top:"50%",transform:"translateY(-50%)",width:"".concat(h,"px"),height:"107%"}),children:[(0,O.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:r,transform:"rotate(".concat(b,"deg)"),transformOrigin:"center"}}),(0,O.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:r,transform:"rotate(-".concat(b,"deg)"),transformOrigin:"center"}})]},"hundred-x-".concat(e))})}):null},[e,r,h,b,f]),tr=(0,w.useMemo)(function(){if(g)return te();if(100===n){var t=Math.floor(e/10),r=e-10*t,o=t*(h+B),i=null!=K?K:63,a=null!=U?U:40;return(0,O.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[tn(),r>0&&(0,O.jsx)("div",{style:I(I({position:"absolute"},"top"===f?{right:t>0?"calc(".concat(o,"px + ").concat(i,"px)"):"calc(".concat(25,"px + 16px)")}:{left:t>0?"calc(".concat(o,"px + ").concat(a,"px)"):"calc(".concat(25,"px - 8px)")}),{},{top:0,bottom:0,width:"".concat(r*c,"px")}),children:Array.from({length:r}).map(function(t,e){return Z(e,!1,!0)})})]})}if(20!==n)return(0,O.jsxs)(O.Fragment,{children:[q,$,Q]});var s=Math.floor(e/5),l=e%5,d=s*(u+4*c)+l*c;return(0,O.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:(0,O.jsxs)("div",{style:I(I({position:"absolute"},"top"===f?{right:"25px"}:{left:"0px"}),{},{top:0,bottom:0,width:"".concat(d,"px")}),children:[Array.from({length:s}).map(function(t,e){return Y(e)}),Array.from({length:l}).map(function(t,e){return Z(5*s+e,!1,e<4)})]})})},[e,n,g,te,tn,h,B,f,c,Z,q,$,Q,u,Y]);return(0,w.useEffect)(function(){},[e]),(0,O.jsx)(L,{isRotated:void 0!==d&&d,children:tr})},D=n(1993);function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(){M=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(e,n,r,i){var a,s,c=Object.create((n&&n.prototype instanceof g?n:g).prototype);return o(c,"_invoke",{value:(a=new T(i||[]),s=d,function(n,o){if(s===m)throw Error("Generator is already running");if(s===h){if("throw"===n)throw o;return{value:t,done:!0}}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=function e(n,r){var o=r.method,i=n.iterator[o];if(i===t)return r.delegate=null,"throw"===o&&n.iterator.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+o+"' method")),p;var a=f(i,n.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var s=a.arg;return s?s.done?(r[n.resultName]=s.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,p)}(i,a);if(c){if(c===p)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var l=f(e,r,a);if("normal"===l.type){if(s=a.done?h:"suspendedYield",l.arg===p)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(s=h,a.method="throw",a.arg=l.arg)}})}),c}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",m="executing",h="completed",p={};function g(){}function y(){}function b(){}var v={};l(v,a,function(){return this});var S=Object.getPrototypeOf,x=S&&S(S(P([])));x&&x!==n&&r.call(x,a)&&(v=x);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function N(t,e){var n;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==G(u)&&r.call(u,"__await")?e.resolve(u.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):e.resolve(u).then(function(t){l.value=t,a(l)},function(t){return n("throw",t,a,s)})}s(c.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}})}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw TypeError(G(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(N.prototype),l(N.prototype,s,function(){return this}),e.AsyncIterator=N,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new N(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),l(w,c,"Generator"),l(w,a,function(){return this}),l(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function _(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){n(t);return}s.done?e(c):Promise.resolve(c).then(r,o)}function z(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){_(i,r,o,a,s,"next",t)}function s(t){_(i,r,o,a,s,"throw",t)}a(void 0)})}}function H(t){var e=function(t,e){if("object"!==G(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==G(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===G(e)?e:String(e)}var B=new(s=function t(){var e,n;(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,t),n="jass_sessions",(e=H(e="STORAGE_KEY"))in this?Object.defineProperty(this,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[e]=n},c=[{key:"getStorageKey",value:function(t){return"".concat(this.STORAGE_KEY,"_").concat(t)}},{key:"saveSession",value:(o=z(M().mark(function t(e){var n,r;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=this.getStorageKey(e.id),t.next=4,localStorage.setItem(n,JSON.stringify(e));case 4:return t.next=6,this.listSessions();case 6:if((r=t.sent).find(function(t){return t.id===e.id})){t.next=11;break}return r.push(e),t.next=11,localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r));case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(0),console.error("Fehler beim Speichern der Session:",t.t0),t.t0;case 17:case"end":return t.stop()}},t,this,[[0,13]])})),function(t){return o.apply(this,arguments)})},{key:"loadSession",value:(i=z(M().mark(function t(e){var n;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=localStorage.getItem(this.getStorageKey(e))){t.next=3;break}throw Error("Session ".concat(e," nicht gefunden"));case 3:return t.abrupt("return",JSON.parse(n));case 4:case"end":return t.stop()}},t,this)})),function(t){return i.apply(this,arguments)})},{key:"listSessions",value:(a=z(M().mark(function t(){var e;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=localStorage.getItem(this.STORAGE_KEY),t.abrupt("return",e?JSON.parse(e):[]);case 5:return t.prev=5,t.t0=t.catch(0),console.error("Fehler beim Laden der Sessions:",t.t0),t.abrupt("return",[]);case 9:case"end":return t.stop()}},t,this,[[0,5]])})),function(){return a.apply(this,arguments)})}],function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H(r.key),r)}}(s.prototype,c),Object.defineProperty(s,"prototype",{writable:!1}),s),F={top:[2,4],bottom:[1,3]},K=F,W=function(t){K=t},U=function(t){return{horizontal:(t.matsch||0)+(t.kontermatsch||0),vertikal:(t.berg||0)+(t.sieg||0)+(t.schneider||0)}},J=function(t){var e=t%4+1;return e>=1&&e<=4?e:1},X=function(t,e){if(!t)return e;var n=t.teams.top.striche.sieg>0?"top":t.teams.bottom.striche.sieg>0?"bottom":null;if(!n)return e;var r=K["top"===n?"bottom":"top"],o=t.currentPlayer;if(r.includes(o))return o;for(var i=J(o);!r.includes(i);)i=J(i);return i},V={low:300,medium:1e3,high:2e3,super:3e3,extreme:5e3};function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t){return function(t){if(Array.isArray(t))return q(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return q(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==Z(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Z(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Z(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var tt=function(t){return Math.max(0,t)},te=(0,D.U)(function(t,e){return{jassStartTime:null,gameStartTime:null,roundStartTime:null,history:{jass:[],games:[],rounds:[]},isPaused:!1,pauseStartTime:null,totalPausedTime:0,lastJassDuration:0,gameTimers:new Map,activeGameId:null,startJassTimer:function(){t(function(t){return Q(Q({},t),{},{jassStartTime:Date.now(),history:Q(Q({},t.history),{},{jass:[].concat(Y(t.history.jass),[{startTime:Date.now()}])})})})},startGameTimer:function(){t(function(t){return Q(Q({},t),{},{gameStartTime:Date.now(),history:Q(Q({},t.history),{},{games:[].concat(Y(t.history.games),[{startTime:Date.now()}])})})})},startRoundTimer:function(){var e=Date.now();t(function(t){return Q(Q({},t),{},{roundStartTime:e,history:Q(Q({},t.history),{},{rounds:[].concat(Y(t.history.rounds),[{startTime:e}])})})})},completeRound:function(){var e=Date.now();t(function(t){var n=Y(t.history.rounds),r=n[n.length-1];return r&&(r.endTime=e,r.duration=e-r.startTime),Q(Q({},t),{},{roundStartTime:null,history:Q(Q({},t.history),{},{rounds:n})})})},completeGame:function(){var e=Date.now();t(function(t){var n=Y(t.history.games),r=n[n.length-1];return r&&(r.endTime=e,r.duration=e-r.startTime),Q(Q({},t),{},{gameStartTime:null,roundStartTime:null,history:Q(Q({},t.history),{},{games:n})})})},completeJass:function(){var n=Date.now(),r=e(),o=r.jassStartTime?n-r.jassStartTime:0;t(function(t){return Q(Q({},t),{},{lastJassDuration:o,jassStartTime:null,gameStartTime:null,roundStartTime:null,history:Q(Q({},t.history),{},{jass:t.history.jass.slice(0,-1)})})})},getAnalytics:function(){var t=e(),n=e().getCurrentTime(),r=t.gameStartTime?tt(n-t.gameStartTime):0;return{totalJassTime:t.jassStartTime?tt(n-t.jassStartTime):t.lastJassDuration,currentGameDuration:r}},resetRoundTimer:function(){t(function(t){return Q(Q({},t),{},{roundStartTime:null})})},resetGameTimers:function(){t(function(t){return Q(Q({},t),{},{gameStartTime:null,roundStartTime:null})})},resetAllTimers:function(){t(function(t){return Q(Q({},t),{},{jassStartTime:null,gameStartTime:null,roundStartTime:null,history:{jass:[],games:[],rounds:[]}})})},pauseTimer:function(){t(function(t){return Q(Q({},t),{},{isPaused:!0,pauseStartTime:Date.now()})})},resumeTimer:function(){t(function(t){var e=t.pauseStartTime?Date.now()-t.pauseStartTime:0;return Q(Q({},t),{},{isPaused:!1,pauseStartTime:null,totalPausedTime:t.totalPausedTime+e})})},getCurrentTime:function(){var t=e(),n=Date.now();return t.isPaused&&t.pauseStartTime?t.pauseStartTime-t.totalPausedTime:n-t.totalPausedTime},prepareJassEnd:function(){var t=Date.now(),n=e();return n.jassStartTime?t-n.jassStartTime:0},finalizeJassEnd:function(){t(function(t){return Q(Q({},t),{},{jassStartTime:null,gameStartTime:null,roundStartTime:null,history:Q(Q({},t.history),{},{jass:t.history.jass.slice(0,-1)})})})},getElapsedTimes:function(){var t=e(),n=Date.now(),r=t.totalPausedTime+(t.isPaused&&t.pauseStartTime?n-t.pauseStartTime:0);return{jass:t.jassStartTime?n-t.jassStartTime-r:0,game:t.gameStartTime?n-t.gameStartTime-r:0,round:t.roundStartTime?n-t.roundStartTime-r:0}},getTotalPausedTime:function(){var t=e();return t.totalPausedTime+(t.isPaused&&t.pauseStartTime?Date.now()-t.pauseStartTime:0)},restoreTimerSnapshot:function(n){var r=Date.now();e(),t(function(t){var e={jassStartTime:r-n.elapsedJassTime-n.totalPausedTime,gameStartTime:r-n.elapsedGameTime-n.totalPausedTime,roundStartTime:r-n.elapsedRoundTime-n.totalPausedTime,totalPausedTime:n.totalPausedTime,isPaused:!1,pauseStartTime:null},o=new Map(t.gameTimers);if(t.activeGameId){var i=o.get(t.activeGameId);i&&(i.startTime=r,i.isActive=!0,i.pausedTime=n.totalPausedTime)}return Q(Q(Q({},t),e),{},{gameTimers:o})})},activateGameTimer:function(n){e();var r=Date.now();t(function(t){var e=new Map(t.gameTimers),o=null!==t.activeGameId?e.get(t.activeGameId):null;null!=o&&o.isActive&&(o.totalDuration+=r-o.startTime-o.pausedTime,o.isActive=!1);var i=e.get(n);i||(i={startTime:r,totalDuration:0,pausedTime:0,isActive:!1}),i.startTime=r,i.isActive=!0,i.pausedTime=0,e.set(n,i);var a=t.jassStartTime;return Q(Q({},t),{},{gameTimers:e,activeGameId:n,gameStartTime:r,roundStartTime:r,jassStartTime:a,isPaused:!1,pauseStartTime:null})})},getGameDuration:function(t){var n=e().gameTimers.get(t);if(!n)return 0;if(!n.isActive)return n.totalDuration;var r=Date.now();return n.totalDuration+(r-n.startTime-n.pausedTime)},reactivateGameTimer:function(n){e();var r=Date.now();t(function(t){var e,o=new Map(t.gameTimers),i=null!==(e=o.get(n))&&void 0!==e?e:{startTime:r,totalDuration:0,pausedTime:0,isActive:!1};i.startTime=r,i.isActive=!0,i.pausedTime=0,o.set(n,i);var a=t.jassStartTime;return Q(Q({},t),{},{gameTimers:o,activeGameId:n,gameStartTime:r,roundStartTime:r,isPaused:!1,pauseStartTime:null,jassStartTime:a})})}}}),tn=function(t,e){return t.reduce(function(t,n){var r,o,i,a,s,c,l,u,f,d;return{berg:t.berg+(null!==(r=null===(o=n.teams[e].striche)||void 0===o?void 0:o.berg)&&void 0!==r?r:0),sieg:t.sieg+(null!==(i=null===(a=n.teams[e].striche)||void 0===a?void 0:a.sieg)&&void 0!==i?i:0),matsch:t.matsch+(null!==(s=null===(c=n.teams[e].striche)||void 0===c?void 0:c.matsch)&&void 0!==s?s:0),schneider:t.schneider+(null!==(l=null===(u=n.teams[e].striche)||void 0===u?void 0:u.schneider)&&void 0!==l?l:0),kontermatsch:t.kontermatsch+(null!==(f=null===(d=n.teams[e].striche)||void 0===d?void 0:d.kontermatsch)&&void 0!==f?f:0)}},{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0})},tr=function(t){return t.berg+t.sieg+t.schneider};function to(t){return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ti(t){return function(t){if(Array.isArray(t))return ta(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ta(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ta(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ta(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ts(){ts=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(e,n,r,i){var a,s,c=Object.create((n&&n.prototype instanceof g?n:g).prototype);return o(c,"_invoke",{value:(a=new T(i||[]),s=d,function(n,o){if(s===m)throw Error("Generator is already running");if(s===h){if("throw"===n)throw o;return{value:t,done:!0}}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=function e(n,r){var o=r.method,i=n.iterator[o];if(i===t)return r.delegate=null,"throw"===o&&n.iterator.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+o+"' method")),p;var a=f(i,n.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var s=a.arg;return s?s.done?(r[n.resultName]=s.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,p)}(i,a);if(c){if(c===p)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var l=f(e,r,a);if("normal"===l.type){if(s=a.done?h:"suspendedYield",l.arg===p)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(s=h,a.method="throw",a.arg=l.arg)}})}),c}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",m="executing",h="completed",p={};function g(){}function y(){}function b(){}var v={};l(v,a,function(){return this});var S=Object.getPrototypeOf,x=S&&S(S(P([])));x&&x!==n&&r.call(x,a)&&(v=x);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function N(t,e){var n;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==to(u)&&r.call(u,"__await")?e.resolve(u.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):e.resolve(u).then(function(t){l.value=t,a(l)},function(t){return n("throw",t,a,s)})}s(c.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}})}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw TypeError(to(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(N.prototype),l(N.prototype,s,function(){return this}),e.AsyncIterator=N,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new N(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),l(w,c,"Generator"),l(w,a,function(){return this}),l(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function tc(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){n(t);return}s.done?e(c):Promise.resolve(c).then(r,o)}function tl(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){tc(i,r,o,a,s,"next",t)}function s(t){tc(i,r,o,a,s,"throw",t)}a(void 0)})}}function tu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function tf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tu(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==to(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==to(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===to(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var td=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";return console.log("\uD83D\uDCDD Creating Game Entry:",{id:t,startingPlayer:e,sessionId:n}),{id:t,timestamp:Date.now(),teams:{top:tm(),bottom:tm()},sessionId:n,currentRound:1,startingPlayer:e,initialStartingPlayer:e,currentPlayer:e,roundHistory:[],currentHistoryIndex:-1,historyState:{isNavigating:!1,lastNavigationTimestamp:Date.now()},isGameStarted:!1,isRoundCompleted:!1,isGameCompleted:!1}},tm=function(){return{bergActive:!1,bedankenActive:!1,isSigned:!1,striche:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0},total:0,jassPoints:0,weisPoints:0,playerStats:{1:{striche:0,points:0,weisPoints:0},2:{striche:0,points:0,weisPoints:0},3:{striche:0,points:0,weisPoints:0},4:{striche:0,points:0,weisPoints:0}}}},th={isJassStarted:!1,currentSession:{id:"initial",gruppeId:"default",startedAt:Date.now(),playerNames:{1:"",2:"",3:"",4:""},games:[],metadata:{}},currentRound:1,currentGameId:1,isJassCompleted:!1,teams:{top:tm(),bottom:tm()},games:[],currentGameCache:null},tp=(0,D.U)()(function(t,e){var n,r;return tf(tf({},th),{},{saveSession:(n=tl(ts().mark(function t(){var n,r,o,i,a,s,c;return ts().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=e(),i=tH.getState(),a=tn(o.games,"top"),s=tn(o.games,"bottom"),c={id:"session_".concat(Date.now()),gruppeId:"default",startedAt:(null===(n=o.games[0])||void 0===n?void 0:n.timestamp)||Date.now(),endedAt:Date.now(),playerNames:i.playerNames,games:o.games.map(function(t){return t.id}),metadata:{location:"Standard Location",notes:""},statistics:{gamesPlayed:o.games.length,totalDuration:Date.now()-((null===(r=o.games[0])||void 0===r?void 0:r.timestamp)||Date.now()),scores:{top:o.teams.top.total,bottom:o.teams.bottom.total},weisCount:o.games.reduce(function(t,e){return t+(e.teams.top.weisPoints+e.teams.bottom.weisPoints)},0),stricheCount:{berg:a.berg+s.berg,sieg:a.sieg+s.sieg,matsch:a.matsch+s.matsch,schneider:a.schneider+s.schneider,kontermatsch:a.kontermatsch+s.kontermatsch}}},t.prev=5,t.next=8,B.saveSession(c);case 8:return t.abrupt("return",c.id);case 11:throw t.prev=11,t.t0=t.catch(5),console.error("Fehler beim Speichern der Session:",t.t0),t.t0;case 15:case"end":return t.stop()}},t,null,[[5,11]])})),function(){return n.apply(this,arguments)}),loadSession:(r=tl(ts().mark(function t(e){return ts().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.loadSession(e);case 3:t.sent,t.next=10;break;case 6:throw t.prev=6,t.t0=t.catch(0),console.error("Fehler beim Laden der Session:",t.t0),t.t0;case 10:case"end":return t.stop()}},t,null,[[0,6]])})),function(t){return r.apply(this,arguments)}),startJass:function(e){var n=td(1,e.initialStartingPlayer,"default");console.log("\uD83C\uDCCF First Game Created:",n),t({currentGameId:1,games:[n],currentSession:{id:"jass_".concat(Date.now()),gruppeId:"default",startedAt:Date.now(),playerNames:e.playerNames,games:[1],metadata:{location:"Standard Location",notes:""},statistics:{gamesPlayed:1,totalDuration:0,scores:{top:0,bottom:0},weisCount:0,stricheCount:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0}}}}),t({isJassStarted:!0}),te.getState().startJassTimer()},finalizeGame:function(){var n,r,o=e(),i=tH.getState(),a=o.games.find(function(t){return t.id===o.currentGameId});if(a){var s=te.getState(),c=s.getGameDuration(o.currentGameId),l=tf(tf({},a),{},{teams:{top:tf(tf({},a.teams.top),{},{jassPoints:i.scores.top,total:i.scores.top,striche:tf({},i.striche.top)}),bottom:tf(tf({},a.teams.bottom),{},{jassPoints:i.scores.bottom,total:i.scores.bottom,striche:tf({},i.striche.bottom)})},roundHistory:i.roundHistory,currentRound:i.currentRound,currentPlayer:i.currentPlayer,currentHistoryIndex:i.currentHistoryIndex,historyState:i.historyState,isGameStarted:i.isGameStarted,isRoundCompleted:i.isRoundCompleted,isGameCompleted:!0,metadata:{duration:c,completedAt:Date.now(),roundStats:null!==(n=null===(r=a.metadata)||void 0===r?void 0:r.roundStats)&&void 0!==n?n:{weisCount:0,colorStats:{}}}});t(function(t){return{games:t.games.map(function(t){return t.id===a.id?l:t})}}),s.completeGame()}},resetJass:function(){t(th)},undoNewGame:function(){var n=e();if(!(n.games.length<=1)){var r=n.games.slice(0,-1),o=r[r.length-1];if(o){var i=tH.getState();i.resetGamePoints(),i.setScore("top",o.teams.top.jassPoints),i.setScore("bottom",o.teams.bottom.jassPoints);var a=n.games[n.games.length-1],s=tf({},n.teams);s.top=tf(tf({},s.top),{},{jassPoints:s.top.jassPoints-a.teams.top.jassPoints,total:s.top.total-a.teams.top.jassPoints}),s.bottom=tf(tf({},s.bottom),{},{jassPoints:s.bottom.jassPoints-a.teams.bottom.jassPoints,total:s.bottom.total-a.teams.bottom.jassPoints}),t({games:r,currentGameId:o.id,teams:s})}}},navigateToGame:function(n){var r,o=e(),i=o.games.find(function(t){return t.id===n});if(i){var a=n===o.games.length,s=((null===(r=i.roundHistory)||void 0===r?void 0:r.length)||0)-1,c=te.getState();c.activateGameTimer(n),c.startGameTimer(),c.startRoundTimer(),t(function(t){return tf(tf({},t),{},{currentGameId:n,teams:i.teams})}),tH.setState(function(t){return tf(tf({},t),{},{isGameStarted:!0,isRoundCompleted:!1,isGameCompleted:!1,currentRound:i.currentRound||1,currentPlayer:i.currentPlayer,scores:{top:i.teams.top.jassPoints,bottom:i.teams.bottom.jassPoints},weisPoints:{top:i.teams.top.weisPoints||0,bottom:i.teams.bottom.weisPoints||0},striche:{top:tf({},i.teams.top.striche),bottom:tf({},i.teams.bottom.striche)},roundHistory:i.roundHistory||[],currentHistoryIndex:a?s:-1,historyState:{isNavigating:!a,lastNavigationTimestamp:Date.now()}})}),console.log("\uD83C\uDFAE Game Navigation Complete:",{gameId:n,timersStarted:!0,gameStarted:!0,roundStarted:!0})}},navigateToPreviousGame:function(){var t=e();return t.currentGameId>1&&(e().navigateToGame(t.currentGameId-1),!0)},navigateToNextGame:function(){var t=e();if(t.currentGameId<t.games.length){console.log(" Navigating to next game:",{from:t.currentGameId,to:t.currentGameId+1});var n=te.getState();return t.currentGameId,e().navigateToGame(t.currentGameId+1),n.startGameTimer(),n.startRoundTimer(),!0}return!1},canNavigateBack:function(){return e().currentGameId>1},canNavigateForward:function(){var t=e();return t.currentGameId<t.games.length},calculateTotalPoints:function(){var t=e();return{top:t.teams.top.total,bottom:t.teams.bottom.total}},calculateTotalJassPoints:function(){var t=e();return{top:t.teams.top.jassPoints,bottom:t.teams.bottom.jassPoints}},getGameHistory:function(){return e().games},getCurrentGame:function(){var t=e();return t.games.find(function(e){return e.id===t.currentGameId})},getVisibleGames:function(){var t=e();return t.games.filter(function(e){return e.id<=t.currentGameId})},getState:function(){return e()},setState:function(e){return t(e)},subscribe:function(t){return tp.subscribe(t)},updateWeisPoints:function(e,n){t(function(t){var r=tf({},t.teams);return r[e].weisPoints+=n,r[e].total+=n,{teams:r}})},updateCurrentGame:function(e){t(function(t){var n=t.games.find(function(e){return e.id===t.currentGameId});if(!n)return t;var r=e.teams?{top:tf(tf({},n.teams.top),e.teams.top),bottom:tf(tf({},n.teams.bottom),e.teams.bottom)}:n.teams,o=tf(tf(tf({},n),e),{},{teams:r});return tf(tf({},t),{},{games:t.games.map(function(t){return t.id===o.id?o:t})})})},getTotalsUpToGame:function(t){return e().games.filter(function(e){return e.id<=t}).reduce(function(t,e){return{striche:{top:{berg:t.striche.top.berg+e.teams.top.striche.berg,sieg:t.striche.top.sieg+e.teams.top.striche.sieg,matsch:t.striche.top.matsch+e.teams.top.striche.matsch,schneider:t.striche.top.schneider+e.teams.top.striche.schneider,kontermatsch:t.striche.top.kontermatsch+e.teams.top.striche.kontermatsch},bottom:{berg:t.striche.bottom.berg+e.teams.bottom.striche.berg,sieg:t.striche.bottom.sieg+e.teams.bottom.striche.sieg,matsch:t.striche.bottom.matsch+e.teams.bottom.striche.matsch,schneider:t.striche.bottom.schneider+e.teams.bottom.striche.schneider,kontermatsch:t.striche.bottom.kontermatsch+e.teams.bottom.striche.kontermatsch}},punkte:{top:t.punkte.top+e.teams.top.total,bottom:t.punkte.bottom+e.teams.bottom.total}}},{striche:{top:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0},bottom:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0}},punkte:{top:0,bottom:0}})},startGame:function(){var n=e();if(!n.currentSession){console.error("Keine g\xfcltige Session gefunden");return}var r=n.currentGameId+1,o=X(n.games.find(function(t){return t.id===n.currentGameId})||null,tH.getState().startingPlayer),i=td(r,o,n.currentSession.id),a=te.getState();a.activateGameTimer(r),a.startGameTimer(),a.startRoundTimer(),tH.setState(function(t){return tf(tf({},t),{},{currentPlayer:o,startingPlayer:o,scores:{top:0,bottom:0},weisPoints:{top:0,bottom:0},striche:{top:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0},bottom:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0}},roundHistory:[],currentRound:1,isGameStarted:!0,isRoundCompleted:!1,isGameCompleted:!1})}),t(function(t){var e,n,o;return tf(tf({},t),{},{currentGameId:r,games:[].concat(ti(t.games),[i]),currentSession:tf(tf({},t.currentSession),{},{games:[].concat(ti(t.currentSession.games),[r]),statistics:tf(tf({},t.currentSession.statistics),{},{gamesPlayed:((null===(e=t.currentSession.statistics)||void 0===e?void 0:e.gamesPlayed)||0)+1,totalDuration:Date.now()-t.currentSession.startedAt,scores:{top:t.teams.top.total,bottom:t.teams.bottom.total},weisCount:(null===(n=t.currentSession.statistics)||void 0===n?void 0:n.weisCount)||0,stricheCount:(null===(o=t.currentSession.statistics)||void 0===o?void 0:o.stricheCount)||{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0}})})})}),e().saveSession().catch(console.error)}})}),tg=function(t){var e={100:Math.floor(t/100),50:0,20:0},n=t%100;return n>=50&&(e[50]=Math.floor(n/50),n%=50),n>=20&&(e[20]=Math.floor(n/20),n%=20),{striche:e,restZahl:n}},ty=n(4319),tb=n(1773),tv=n(3114),tS=n(9679),tx="Willst du wirklich die Vergangenheit \xe4ndern? Dies wird alle nachfolgenden Eintr\xe4ge l\xf6schen!",tw=function(t){var e=t.message,n=t.onConfirm,r=t.onDismiss,o=t.show,i=t.swipePosition,a=void 0===i?"bottom":i,s=(0,ty.HB)().closeHistoryWarning,c=(0,w.useCallback)(function(){s(),n()},[n,s]),l=(0,w.useCallback)(function(){s(),r()},[r,s]);return(0,O.jsx)(tv.M,{children:o&&(0,O.jsxs)(tS.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-[9999] p-4 pointer-events-auto",children:[(0,O.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:l}),(0,O.jsx)(tS.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white z-10\n              ".concat("top"===a?"rotate-180":""),children:(0,O.jsxs)("div",{className:"".concat("top"===a?"rotate-180":""),children:[(0,O.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[(0,O.jsx)(tb.gJy,{className:"w-12 h-12 text-yellow-600 mb-2"}),(0,O.jsx)("p",{className:"text-center mb-6",children:e})]}),(0,O.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,O.jsx)("button",{onClick:c,className:"flex-1 bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors text-lg font-semibold",children:"Ja"}),(0,O.jsx)("button",{onClick:l,className:"flex-1 bg-gray-600 text-white px-6 py-2 rounded-full hover:bg-gray-700 transition-colors text-lg font-semibold",children:"Abbrechen"})]})]})})]})})},tj=n(9337),tN={Misre:{DE:"Mis\xe8re",FR:"Mis\xe8re"},Eicheln:{DE:"Eichel",FR:"Schaufel"},Rosen:{DE:"Rosen",FR:"Kreuz"},Schellen:{DE:"Schellen",FR:"Herz"},Schilten:{DE:"Schilten",FR:"Ecke"},Obe:{DE:"Obe",FR:"Obe"},Une:{DE:"Unde",FR:"Unde"},"3x3":{DE:"3x3",FR:"3x3"},Quer:{DE:"Quer",FR:"Quer"},Slalom:{DE:"Slalom",FR:"Slalom"}};function tE(t){return(tE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tO(t){return function(t){if(Array.isArray(t))return tT(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return tT(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tT(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tT(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function tk(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(e){tC(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function tC(t,e,n){var r;return(r=function(t,e){if("object"!==tE(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==tE(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===tE(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tA={berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0},tI={1:"",2:"",3:"",4:""},tL=function(t,e){return{top:t.top+e.top,bottom:t.bottom+e.bottom,weisPoints:t}},tR=function(t){return{currentPlayer:t,startingPlayer:t,initialStartingPlayer:t,isGameStarted:!1,currentRound:1,weisPoints:{top:0,bottom:0},jassPoints:{top:0,bottom:0},scores:{top:0,bottom:0},striche:{top:tk({},tA),bottom:tk({},tA)},roundHistory:[],currentRoundWeis:[],isGameCompleted:!1,isRoundCompleted:!1,farbeSettings:{colors:[],multipliers:[]},scoreSettings:{scores:[],enabled:[]},playerNames:tI,currentHistoryIndex:-1,historyState:{isNavigating:!1,lastNavigationTimestamp:Date.now()}}},tD=function(t,e,n,r){var o=ty.HB.getState().settings,i=(null==r?void 0:r.cardStyle)||o.cardStyle,a={id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),timestamp:Date.now(),roundId:t.currentRound,weisPoints:tk({},t.weisPoints),jassPoints:tk({},t.jassPoints),scores:tk({},t.scores),weisActions:tO(t.currentRoundWeis),currentPlayer:t.currentPlayer,visualStriche:{top:e.getVisualStriche("top"),bottom:e.getVisualStriche("bottom")},previousRoundId:t.roundHistory.length>0?t.roundHistory[t.roundHistory.length-1].roundId:void 0,nextRoundId:void 0,roundState:{roundNumber:t.currentRound,nextPlayer:t.currentPlayer},striche:{top:tk({},t.striche.top),bottom:tk({},t.striche.bottom)}};return"weis"===n?tk(tk({},a),{},{actionType:"weis",isRoundFinalized:!1,isCompleted:!1}):tk(tk({},a),{},{actionType:"jass",isRoundFinalized:!0,isCompleted:!0,farbe:null!=r&&r.farbe?tN[r.farbe][i]:null==r?void 0:r.farbe,cardStyle:i,strichType:null==r?void 0:r.strichType})},tG=function(t){return Math.max(0,t)},tM=function(t,e){var n=t.currentHistoryIndex,r=t.roundHistory.slice(0,n+1);return{roundHistory:[].concat(tO(r),[e]),currentHistoryIndex:r.length,historyState:{isNavigating:!1,lastNavigationTimestamp:Date.now()}}},t_=function(t,e){return t.striche.top[e]>0?"top":t.striche.bottom[e]>0?"bottom":void 0},tz=function(t){var e=tp.getState(),n=e.getCurrentGame();n&&e.updateCurrentGame({teams:{top:tk(tk({},n.teams.top),{},{striche:t.striche.top,jassPoints:t.jassPoints.top,weisPoints:t.weisPoints.top,total:t.scores.top}),bottom:tk(tk({},n.teams.bottom),{},{striche:t.striche.bottom,jassPoints:t.jassPoints.bottom,weisPoints:t.weisPoints.bottom,total:t.scores.bottom})},roundHistory:t.roundHistory,currentRound:t.currentRound,currentPlayer:t.currentPlayer})},tH=(0,D.U)(function(t,e){return tk(tk({},tR(1)),{},{startGame:function(){var n=tp.getState(),r=!n.isJassStarted,o=e();r?(console.log("\uD83C\uDFAE Starting first game of Jass"),n.startJass({playerNames:o.playerNames,initialStartingPlayer:o.currentPlayer})):(console.log("\uD83C\uDFAE Starting next game"),t({currentPlayer:X(n.getCurrentGame()||null,o.currentPlayer)}),n.startGame()),t({isGameStarted:!0})},startRound:function(){var n=e(),r=te.getState();1===n.currentRound&&r.startGameTimer(),r.startRoundTimer(),t(function(){return{isRoundCompleted:!1,farbe:void 0,currentRoundWeis:[]}})},finalizeRound:function(n,r,o,i){var a=te.getState(),s=ty.HB.getState().settings;a.resetRoundTimer(),a.startRoundTimer(),t(function(t){var c,l=ty.HB.getState().strokeSettings,u={top:t.jassPoints.top+r,bottom:t.jassPoints.bottom+o},f=tk({},t.striche);if(i){var d="kontermatsch"==(c=t.currentPlayer%2==("top"===i.team?0:1)?"matsch":"kontermatsch")?l.kontermatsch:tj.Pj[c];f[i.team]=tk(tk({},f[i.team]),{},tC({},c,f[i.team][c]+d)),console.log("\uD83C\uDFB2 Aktualisierte Striche:",{team:i.team,type:c,settings:l,increment:d,vorher:t.striche[i.team][c],nachher:f[i.team][c]})}var m=tL(t.weisPoints,u),h=J(t.currentPlayer),p=tk(tk({},t),{},{jassPoints:u,scores:m,striche:f,isRoundCompleted:!0,currentRound:t.currentRound+1,currentPlayer:h,currentRoundWeis:[],farbe:n}),g=tD(p,e(),"jass",{farbe:n,strichType:c,cardStyle:s.cardStyle});return tp.getState().updateCurrentGame({teams:{top:{jassPoints:u.top,weisPoints:t.weisPoints.top,striche:f.top,total:m.top,bergActive:t.striche.top.berg>0,bedankenActive:!1,isSigned:!1,playerStats:{1:{striche:0,points:0,weisPoints:0},2:{striche:0,points:0,weisPoints:0},3:{striche:0,points:0,weisPoints:0},4:{striche:0,points:0,weisPoints:0}}},bottom:{jassPoints:u.bottom,weisPoints:t.weisPoints.bottom,striche:f.bottom,total:m.bottom,bergActive:t.striche.bottom.berg>0,bedankenActive:!1,isSigned:!1,playerStats:{1:{striche:0,points:0,weisPoints:0},2:{striche:0,points:0,weisPoints:0},3:{striche:0,points:0,weisPoints:0},4:{striche:0,points:0,weisPoints:0}}}},roundHistory:[].concat(tO(t.roundHistory),[g]),currentRound:t.currentRound+1,currentPlayer:h}),a.resetRoundTimer(),a.startRoundTimer(),tk(tk({},p),{},{roundHistory:[].concat(tO(t.roundHistory),[g]),currentHistoryIndex:t.roundHistory.length})})},updateScore:function(e,n,r){t(function(t){var o=tk({},t.scores);return o[e]=tG(n),o["top"===e?"bottom":"top"]=tG(r),{scores:o}})},addStrich:function(e,n){t(function(t){var r=tk(tk({},t.striche[e]),{},tC({},n,t.striche[e][n]+1));return tp.getState().updateCurrentGame({teams:tC({},e,{striche:r})}),console.log("\uD83C\uDFB2 Strich hinzugef\xfcgt:",{team:e,type:n,newValue:r[n],allStriche:r}),tk(tk({},t),{},{striche:tk(tk({},t.striche),{},tC({},e,r))})})},addWeisPoints:function(n,r){console.trace("\uD83D\uDD0D addWeisPoints called from:"),t(function(t){var o=tk({},t.weisPoints);o[n]+=r;var i=tL(o,t.jassPoints),a={position:n,points:r},s=tD(tk(tk({},t),{},{weisPoints:o,scores:i,currentRoundWeis:[].concat(tO(t.currentRoundWeis),[a]),currentRound:t.currentRound}),e(),"weis"),c=tM(t,s);return tk(tk({},t),{},{weisPoints:o,scores:i,currentRoundWeis:[].concat(tO(t.currentRoundWeis),[a])},c)});var o=e();console.group("\uD83C\uDFB2 WEIS UPDATE:"),console.log("Team:",n),console.log("Points:",r),console.log("New State:",{weisPoints:o.weisPoints,currentRoundWeis:o.currentRoundWeis,scores:o.scores}),console.groupEnd()},undoLastWeis:function(){t(function(t){return{currentRoundWeis:t.currentRoundWeis.slice(0,-1)}})},finalizeGame:function(){t(function(){return{isGameCompleted:!0}})},resetGame:function(){var n=tp.getState();e(),t(function(t){var e;return tk(tk({},tR(t.currentPlayer)),{},{playerNames:(null===(e=n.currentSession)||void 0===e?void 0:e.playerNames)||t.playerNames,scoreSettings:t.scoreSettings,farbeSettings:t.farbeSettings})})},resetGamePoints:function(){t(function(){return{scores:{top:0,bottom:0}}})},setScore:function(e,n){t(function(t){var r=tk({},t.scores);return r[e]=tG(n),{scores:r}})},setPlayerNames:function(e){t(function(){return{playerNames:e}})},updateScoreByStrich:function(n,r){var o=e(),i=ty.HB.getState().showHistoryWarning,a=function(){t(function(t){var o=tk({},t.scores);o[n]+=r;var i=tD(tk(tk({},t),{},{scores:o}),e(),"jass");return tk({scores:o},tM(t,i))})};if(o.currentHistoryIndex<o.roundHistory.length-1){i({message:tx,onConfirm:a,onCancel:function(){return e().jumpToLatest()}});return}a()},getVisualStriche:function(t){var n=tg(e().scores[t]),r=n.striche,o=n.restZahl;return{stricheCounts:{20:r["20"],50:r["50"],100:r["100"]},restZahl:o}},showHistoryWarning:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return e().jumpToLatest()},o=e();o.currentHistoryIndex<o.roundHistory.length-1?ty.HB.getState().showHistoryWarning({message:t,onConfirm:n,onCancel:r}):n()},navigateHistory:function(e){t(function(t){var n=Date.now();if(t.historyState.isNavigating&&n-t.historyState.lastNavigationTimestamp<300)return t;var r="forward"===e?t.currentHistoryIndex+1:t.currentHistoryIndex-1;if(-1===r){var o=tk(tk({},tR(t.startingPlayer)),{},{playerNames:t.playerNames,roundHistory:t.roundHistory,currentHistoryIndex:-1,scores:{top:0,bottom:0},weisPoints:{top:0,bottom:0},jassPoints:{top:0,bottom:0},striche:{top:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0},bottom:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0}},historyState:{isNavigating:!0,lastNavigationTimestamp:n}});return tz(o),o}var i=t.roundHistory[r],a=te.getState(),s=tp.getState();"forward"===e?a.reactivateGameTimer(s.currentGameId):null!=i&&i.timerSnapshot&&a.restoreTimerSnapshot(i.timerSnapshot);var c=tk(tk({},t),{},{currentRound:i.roundState.roundNumber,currentPlayer:i.roundState.nextPlayer,weisPoints:i.weisPoints,jassPoints:i.jassPoints,scores:i.scores,striche:i.striche,currentRoundWeis:i.weisActions,currentHistoryIndex:r,historyState:{isNavigating:!0,lastNavigationTimestamp:n}});return tz(c),c})},canNavigateForward:function(){var t=e();return t.currentHistoryIndex<t.roundHistory.length-1},canNavigateBackward:function(){return e().currentHistoryIndex>-1},jumpToLatest:function(){t(function(t){var e=t.roundHistory.length-1;if(e===t.currentHistoryIndex)return t;var n=t.roundHistory[e];return n.timerSnapshot&&te.getState().restoreTimerSnapshot(n.timerSnapshot),tk(tk({},t),{},{currentRound:n.roundState.roundNumber,currentPlayer:n.roundState.nextPlayer,weisPoints:n.weisPoints,jassPoints:n.jassPoints,scores:n.scores,striche:n.striche,currentRoundWeis:n.weisActions,currentHistoryIndex:e,historyState:{isNavigating:!0,lastNavigationTimestamp:Date.now()}})})},validateHistoryAction:function(){var t=e();return t.currentHistoryIndex===t.roundHistory.length-1},syncHistoryState:function(e){t(function(t){return tk(tk({},t),{},{roundHistory:[].concat(tO(t.roundHistory),[e]),currentHistoryIndex:t.roundHistory.length,historyState:{isNavigating:!1,lastNavigationTimestamp:Date.now()}})})},logGameHistory:function(){var t=e().roundHistory.filter(function(t){return t.isRoundFinalized}).map(function(t){return{roundId:t.roundId,farbe:"jass"===t.actionType?t.farbe:void 0,strichInfo:"jass"===t.actionType?t.strichInfo:void 0,timestamp:new Date(t.timestamp).toLocaleString("de-CH"),points:{top:t.jassPoints.top,bottom:t.jassPoints.bottom},weisPoints:{top:t.weisPoints.top,bottom:t.weisPoints.bottom},totalPoints:{top:t.scores.top,bottom:t.scores.bottom}}});return console.log("Spielverlauf:",t),t},updateWeisPoints:function(n,r){e(),t(function(t){var o=tk({},t.weisPoints);o[n]+=r;var i={top:t.jassPoints.top+o.top,bottom:t.jassPoints.bottom+o.bottom},a={position:n,points:r},s=tD(tk(tk({},t),{},{weisPoints:o,scores:i,currentRoundWeis:[].concat(tO(t.currentRoundWeis),[a])}),e(),"weis"),c=tM(t,s);return console.log("\uD83C\uDFB2 Weis-Update:",{position:n,points:r,newWeisPoints:o,newScores:i}),tk(tk({},t),{},{weisPoints:o,scores:i,currentRoundWeis:[].concat(tO(t.currentRoundWeis),[a])},c)})},restoreRoundState:function(e){t(function(t){return tk(tk({},t),{},{currentRound:e.roundState.roundNumber,currentPlayer:e.roundState.nextPlayer})})},isBergActive:function(t){return e().striche[t].berg>0},isSiegActive:function(t){return e().striche[t].sieg>0},addBerg:function(e){t(function(t){var n,r=ty.HB.getState().scoreSettings;if(!(null!=r&&null!==(n=r.enabled)&&void 0!==n&&n.berg))return t;var o=t_(t,"berg"),i=tk({},t.striche);o===e?i[e].berg=0:o||(i[e].berg=1,i["top"===e?"bottom":"top"].berg=0);var a=tk(tk({},t),{},{striche:i});return tz(a),a})},addSieg:function(e){t(function(t){var n=ty.HB.getState(),r=n.scoreSettings,o=n.strokeSettings,i=t_(t,"sieg"),a=null==r||null===(l=r.enabled)||void 0===l||!l.berg||t.striche.top.berg>0||t.striche.bottom.berg>0,s=tk({},t.striche);if(i===e){s[e]=tk(tk({},s[e]),{},{sieg:0,schneider:0});var c={striche:s};return tz(tk(tk({},t),c)),c}if(!i&&a){var l,u,f="top"===e?"bottom":"top";s[e]=tk(tk({},s[e]),{},{sieg:tj.Pj.sieg}),s[f]=tk(tk({},s[f]),{},{sieg:0,schneider:0}),null!=r&&null!==(u=r.enabled)&&void 0!==u&&u.schneider&&t.scores[f]<r.values.schneider&&(s[e].schneider=o.schneider);var d={striche:s};return tz(tk(tk({},t),d)),d}return{}})},addSchneider:function(e){t(function(t){var n=ty.HB.getState(),r=n.scoreSettings,o=n.strokeSettings;if(console.log("\uD83C\uDFB2 Settings beim Schneider:",{scoreSettings:r,strokeSettings:o,team:e,currentStriche:t.striche[e]}),!(t.striche[e].sieg>0))return t;var i="top"===e?"bottom":"top",a=t.scores[i],s=r.enabled.schneider&&a<r.values.schneider;return tk(tk({},t),{},{striche:tk(tk({},t.striche),{},tC(tC({},e,tk(tk({},t.striche[e]),{},{schneider:s?o.schneider:0})),i,tk(tk({},t.striche[i]),{},{schneider:0})))})})},addMatsch:function(n){t(function(t){if(t.currentHistoryIndex<t.roundHistory.length-1)return(0,ty.HB.getState().showHistoryWarning)({message:"M\xf6chten Sie wirklich einen Matsch in der Vergangenheit hinzuf\xfcgen?",onConfirm:function(){return e().addMatsch(n)},onCancel:function(){return e().jumpToLatest()}}),t;var r=tk(tk({},t.striche),{},tC({},n,tk(tk({},t.striche[n]),{},{matsch:t.striche[n].matsch+1}))),o=tD(tk(tk({},t),{},{striche:r}),e(),"jass",{strichType:"matsch"}),i=tM(t,o);return tk(tk({},t),{},{striche:r},i)})},getTotalStriche:function(t){var n,r,o=e(),i=ty.HB.getState().scoreSettings,a=o.striche[t],s=0;return null!=i&&null!==(n=i.enabled)&&void 0!==n&&n.berg&&(s+=a.berg),s+=a.sieg,null!=i&&null!==(r=i.enabled)&&void 0!==r&&r.schneider&&(s+=a.schneider),s+=a.matsch+a.kontermatsch},completeRound:function(){var e=te.getState();t(function(t){return tk(tk({},t),{},{isRoundCompleted:!0,currentRound:t.currentRound+1})}),e.resetRoundTimer()},addKontermatsch:function(n){t(function(t){if(t.currentHistoryIndex<t.roundHistory.length-1)return(0,ty.HB.getState().showHistoryWarning)({message:"M\xf6chten Sie wirklich einen Kontermatsch in der Vergangenheit hinzuf\xfcgen?",onConfirm:function(){return e().addKontermatsch(n)},onCancel:function(){return e().jumpToLatest()}}),t;var r=tk(tk({},t.striche),{},tC({},n,tk(tk({},t.striche[n]),{},{kontermatsch:t.striche[n].kontermatsch+1}))),o=tD(tk(tk({},t),{},{striche:r}),e(),"jass",{strichType:"kontermatsch"}),i=tM(t,o);return tk(tk({},t),{},{striche:r},i)})}})});function tB(t){return(tB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function tW(t,e,n){var r;return(r=function(t,e){if("object"!==tB(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==tB(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===tB(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}tH.subscribe(function(t){console.log("\uD83D\uDD04 GameStore State nach Update:",{currentPlayer:t.currentPlayer,startingPlayer:t.startingPlayer,currentRound:t.currentRound,isRoundCompleted:t.isRoundCompleted})});var tU=(0,k.ZP)("div")({position:"absolute",width:"75%",maxWidth:"320px",height:"80%",top:"10%",left:"50%",transform:"translateX(-50%)",pointerEvents:"none"}),tJ=(0,k.ZP)("div")(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tK(Object(n),!0).forEach(function(e){tW(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tK(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({position:"absolute",width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-start",padding:"0 10px",boxSizing:"border-box",pointerEvents:"auto",cursor:"pointer"},t.customStyle)}),tX=(0,k.ZP)("span")(function(t){var e=t.position;return tW(tW(tW(tW(tW(tW({position:"absolute"},"top"===e?"left":"right","10px"),"top","50%"),"transform","top"===e?"translateY(-50%) rotate(180deg)":"translateY(-50%)"),"color","rgba(255, 255, 255, 0.8)"),"fontSize","16px"),"fontWeight","bold")}),tV=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-43,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0%",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0%",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0%",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"0%";return"bottom"===t?{"100er":{height:"20%",top:"calc(-3.5% + ".concat(r,")"),left:"-4%",width:"105%"},"50er":{height:"20%",top:"70%",left:"9%",width:"95%",transform:"rotate(".concat(e,"deg)"),transformOrigin:"top left"},"20er":{height:"20%",bottom:"calc(-4.5% + ".concat(i,")"),left:"2%",width:"80%"},restzahl:{height:"20%",top:"76%",right:"-2%",width:"16%"}}:{"20er":{height:"20%",top:"calc(-4.5% + ".concat(o,")"),right:"2%",width:"80%"},"50er":{height:"20%",bottom:"14%",left:"22%",width:"95%",transform:"rotate(".concat(e,"deg)"),transformOrigin:"bottom left"},"100er":{height:"20%",bottom:"calc(-3.5% + ".concat(n,")"),right:"-4%",width:"105%"},restzahl:{height:"20%",bottom:"76%",left:"-2%",width:"16%"}}},tZ=(0,k.ZP)("div")(function(t){return{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",transform:t.isRotated?"rotateX(180deg) rotateY(180deg) rotateZ(180deg)":"none",transformOrigin:"center center"}}),tY=function(t){if("restzahl"===t)return"restzahl";var e=parseInt(t);return 20===e||50===e||100===e?e:20},tq=function(t){var e=t.position,n=(t.onBlendEffect,t.top100erOffset),r=t.bottom100erOffset,o=t.top20erOffset,i=t.bottom20erOffset,a=tH(),s=(a.updateScoreByStrich,a.addWeisPoints,a.currentHistoryIndex,a.roundHistory,a.showHistoryWarning,a.getVisualStriche);a.jumpToLatest;var c=(0,ty.HB)();c.setGameInfoOpen,c.setLastDoubleClickPosition,c.closeHistoryWarning;var l=s(e),u=tV(e,-43,void 0===n?"2%":n,void 0===r?"2%":r,void 0===o?"2%":o,void 0===i?"2%":i);return(0,O.jsx)(tU,{children:(0,O.jsx)(tZ,{isRotated:"top"===e,children:Object.entries(u).map(function(t){var n=function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{for(i=(n=n.call(t)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,2)||function(t,e){if(t){if("string"==typeof t)return tF(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tF(t,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1],i=tY(r),a="restzahl"===i?l.restZahl:l.stricheCounts[i]||0;return(0,O.jsx)(tJ,{customStyle:o,"data-strich-box":"true","data-position":e,"data-box-type":r,children:"restzahl"===i?(0,O.jsx)(tX,{position:e,children:l.restZahl}):(0,O.jsx)(R,{stricheCount:a,stricheCounts:l.stricheCounts,einheitWert:i,strichColor:"rgb(255, 255, 255)",animationDuration:100,isActive:!0,direction:"top"===e?"rtl":"ltr",edgeOffset:0,isXMode:50===i,xAngle:18,xAlignment:"top"===e?"right":"left",isDiagonal:!0,diagonalAngle:"top"===e?-43:43,diagonalStrichHeight:"116%",diagonalStrichWidth:"2px",diagonalStrichOffset:{vertical:"0%",horizontal:"0%"},diagonalStrichAngle:"top"===e?-25:25,topDiagonalStrichOffset:{vertical:"0%",horizontal:"0%"},bottomDiagonalStrichOffset:{vertical:"0%",horizontal:"0%"},topDiagonalStrichAngle:30,bottomDiagonalStrichAngle:30,position:e,diagonalStrichOffset100er:{vertical:"top"===e?"-18%":"3%",horizontal:"top"===e?"10%":"-5%"},diagonalStrichOffset20er:{vertical:"top"===e?"-20%":"3.5%",horizontal:"top"===e?"5.5%":"-1.5%"},diagonalStrichAngle100er:35,diagonalStrichAngle20er:35})},r)})})})},t$=n(630),tQ=n(968);function t0(t){return(t0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function t1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function t2(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?t1(Object(n),!0).forEach(function(e){t5(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t1(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function t5(t,e,n){var r;return(r=function(t,e){if("object"!==t0(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==t0(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===t0(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t3(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return t4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t4(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t4(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var t6=(0,w.forwardRef)(function(t,e){var n=t.position,r=t.height,o=t.zShapeConfig,i=t.padding,a=t.onSwipe,s=t.y,c=t.mainOpacity,l=t.getBrightness,u=t.onLongPress,f=t.score,d=t.triggerBlendEffect,m=(t.isHistoryNavigationActive,t.onDoubleClick),h=(0,ty.HB)(function(t){return t.splitContainer}),p=h.isOpen,g=h.position,y=t3((0,w.useState)(null),2),b=y[0],v=y[1],S=(0,t$.X)(),x=S.isActive,N=S.getCurrentStep,E=t3((0,w.useState)(0),2),k=E[0],C=E[1],A=function(){var t,e,r,o=Date.now();if(o-k<300){console.log("\uD83D\uDD0D Potential double-click detected, skipping longpress");return}console.log("\uD83D\uDD0D MouseDown:",{isTutorialActive:x,currentStep:null===(t=N())||void 0===t?void 0:t.id,shouldAllowPress:!x||(null===(e=N())||void 0===e?void 0:e.id)===tQ.RX.CALCULATOR_OPEN}),x&&(null===(r=N())||void 0===r?void 0:r.id)!==tQ.RX.CALCULATOR_OPEN?console.log(" LongPress blocked"):(console.log(" Setting timer for longpress"),v(setTimeout(function(){console.log(" Timer fired - calling onLongPress"),u(n)},400))),C(o)},I=function(){b&&clearTimeout(b)};(0,w.useEffect)(function(){return function(){b&&clearTimeout(b)}},[b]),P({onSwipeLeft:function(){return a("left",n)},onSwipeRight:function(){return a("right",n)},onSwipeUp:function(){return a("up",n)},onSwipeDown:function(){return a("down",n)},element:n});var L=t5(t5(t5(t5(t5(t5({width:"100%",position:"absolute",left:0,right:0,overflow:"visible",height:"".concat(r,"px")},n,0),i,"env(safe-area-inset-top)"),"userSelect","none"),"WebkitUserSelect","none"),"WebkitTouchCallout","none"),"touchAction","none"),R=t5(t5({position:"absolute",width:"110%",left:"-1%"},"top"===n?"bottom":"top","".concat(1.5*o.innerSpacing,"px")),"height","calc(100% - ".concat(1.5*o.edgeSpacing+.8*o.innerSpacing,"px)")),D=function(t){var e=new Date().getTime(),r=e-k;if(r<300&&r>0){var o=N();if(x){if((null==o?void 0:o.id)===tQ.RX.GAME_INFO){null==m||m(n);return}t.preventDefault(),t.stopPropagation();return}null==m||m(n)}C(e)};return(0,O.jsxs)(j.q.div,{style:t2(t2({},L),{},{transform:s.to(function(t){return p&&n===g?"translateY(".concat("top"===n?-100:100,"%)"):0===t?"none":"translateY(".concat("top"===n?-t:t,"px)")})}),"data-swipe-area":n,onMouseDown:A,onMouseUp:I,onTouchStart:function(t){A(),D(t)},onTouchEnd:I,onContextMenu:function(t){return t.preventDefault()},onDoubleClick:function(t){var e=N();if(x){if((null==e?void 0:e.id)===tQ.RX.GAME_INFO){null==m||m(n);return}t.preventDefault(),t.stopPropagation();return}null==m||m(n)},children:[(0,O.jsx)("div",{style:R,children:(0,O.jsx)(T,{className:"w-full h-full text-chalk-red",position:n,isReversed:"top"===n})}),(0,O.jsx)(j.q.div,{style:t2(t2({},{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"white",pointerEvents:"none"}),{},{opacity:s.to(l)})}),(0,O.jsx)(j.q.div,{className:"absolute inset-0 flex items-center justify-center",style:{opacity:c},children:(0,O.jsx)("span",{className:"text-gray-300 text-[9rem] opacity-50 select-none",style:{transform:"top"===n?"rotate(180deg)":"none"},children:f})}),(0,O.jsx)(tq,{position:n,onBlendEffect:d})]})});function t8(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var t7=function(t){var e,n=t.initialPosition,r=t.maxOffset;t.position;var o=function(t){if(Array.isArray(t))return t}(e=(0,j.q_)(function(){return{y:n,mainOpacity:1,oppositeOpacity:1,config:{mass:1,tension:120,friction:26,clamp:!0,duration:250}}}))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{for(i=(n=n.call(t)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,2)||function(t,e){if(t){if("string"==typeof t)return t8(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t8(t,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],a=o[1];return{y:i.y,mainOpacity:i.mainOpacity,oppositeOpacity:i.oppositeOpacity,animateSwipe:function(t){"boolean"==typeof t?a.start({y:t?r:n,mainOpacity:1,oppositeOpacity:1}):a.start({mainOpacity:0,oppositeOpacity:0,config:{duration:125},onRest:function(){a.start({mainOpacity:1,oppositeOpacity:1,config:{duration:125}})}})},getBrightness:function(t){return"number"!=typeof t||isNaN(t)||"number"!=typeof r||0===r?0:Math.max(0,Math.min(t/r*.45,.45))}}},t9=n(3280),et=n(9883),ee=function(t,e){if(!(t<.3)){var n=document.querySelector(".matsch-button");if(n)for(var r=n.getBoundingClientRect(),o=(r.left+r.width/2)/window.innerWidth,i=(r.top+r.height/2)/window.innerHeight,a=10+(t-.3)*30,s=function(t,n,r,a){(0,et.Z)({particleCount:r,angle:e?(t+180)%360:t,spread:n,origin:{x:o,y:i},colors:["#FF0000","#FFA500","#FFFF00","#00FF00","#0000FF","#800080"],scalar:a,gravity:e?-1:1,ticks:300})},c=0;c<360;c+=45)s(c,55,Math.floor(.3*a),1.2),s(c,25,Math.floor(.4*a),.8),s(c,10,Math.floor(.3*a),.4)}},en=n(7266),er=n(430),eo=["Eicheln","Rosen","Schellen","Schilten"],ei={Misre:"\uD83E\uDD2E",Eicheln:"\uD83C\uDF33",Rosen:"\uD83C\uDF39",Schellen:"\uD83D\uDD14",Schilten:"\uD83D\uDEE1",Obe:"\uD83D\uDC47",Une:"\uD83D\uDC47","3x3":"3",Quer:"",Slalom:""},ea={Misre:"\uD83E\uDD2E",Eicheln:"",Rosen:"",Schellen:"",Schilten:"",Obe:"\uD83D\uDC46",Une:"\uD83D\uDC47","3x3":"3",Quer:"",Slalom:""},es={},ec=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DE",r="".concat(t,"-").concat(e,"-").concat(n);if(es[r])return es[r];if("emoji"===e){var o="DE"===n?ei:ea;return es[r]=o[t],es[r]}var i=tN[t][n].toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,""),a="/assets/pictograms/standardDE/".concat(i,".").concat(eo.includes(t)?"png":"svg");return es[r]=a,a},el=n(8605),eu=function(){var t=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(t)};function ef(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var ed=function(){var t,e=function(t){if(Array.isArray(t))return t}(t=(0,w.useState)({scale:1,overlayScale:1,deviceType:"default",urlBarPosition:"bottom"}))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{for(i=(n=n.call(t)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,2)||function(t,e){if(t){if("string"==typeof t)return ef(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ef(t,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=e[0],r=e[1];return(0,w.useEffect)(function(){var t=function(){var t,e=window.innerHeight,n=window.innerWidth,r=((null===(t=window.visualViewport)||void 0===t?void 0:t.height)||e)<e&&window.scrollY<10?"top":"bottom";return eu()&&375===n?e<=667?{scale:1,overlayScale:.78,deviceType:"iphone_se",urlBarPosition:r}:e<=812?{scale:1,overlayScale:.95,deviceType:"iphone_mini",urlBarPosition:r}:{scale:1,overlayScale:1,deviceType:"default",urlBarPosition:r}:{scale:1,overlayScale:1,deviceType:"default",urlBarPosition:r}};r(t());var e=function(){r(t())};return window.addEventListener("resize",e),window.addEventListener("scroll",e),window.addEventListener("orientationchange",e),function(){window.removeEventListener("resize",e),window.removeEventListener("scroll",e),window.removeEventListener("orientationchange",e)}},[]),n};function em(t){return(em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ep(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eh(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==em(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==em(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===em(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eh(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function eg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ey(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ey(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ey(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var eb=function(t){var e,n,r=t.isOpen,o=t.onClose,i=t.initialValue,a=void 0===i?0:i,s=t.clickedPosition,c=tH(),l=c.finalizeRound,u=c.currentHistoryIndex,f=c.roundHistory,d=c.showHistoryWarning,m=c.jumpToLatest,h=c.validateHistoryAction,p=(0,ty.HB)(),g=p.calculator,y=p.setCalculatorFlipped,b=p.farbeSettings,v=p.settings,S=v.pictogramConfig,x=v.cardStyle,N=(0,t$.X)(),E=N.isActive,T=(0,N.getCurrentStep)(),P=eg((0,w.useState)((null==a?void 0:a.toString())||"0"),2),k=P[0],C=P[1],A=eg((0,w.useState)("0"),2),I=A[0],L=A[1],R=eg((0,w.useState)("0"),2),D=R[0],G=R[1],M=eg((0,w.useState)(1),2),_=M[0],z=M[1],H=eg((0,w.useState)(null),2),B=H[0],F=H[1],K=eg((0,w.useState)(new Set),2),W=(K[0],K[1]),U=eg((0,w.useState)(!1),2),J=U[0],X=U[1],V=eg((0,w.useState)(!1),2),Z=V[0],Y=V[1],q=eg((0,w.useState)(0),2),$=q[0],Q=q[1],tt=eg((0,w.useState)(null),2),te=tt[0],tn=tt[1],tr=eg((0,w.useState)(0),2),to=tr[0],ti=tr[1],ta=eg((0,w.useState)(!1),2),ts=ta[0],tc=ta[1],tl=ed(),tu=(tl.scale,tl.overlayScale),tf=(0,j.q_)({opacity:r?1:0,transform:"scale(".concat(r?tu:.95,") rotate(").concat(g.isFlipped?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20}});(0,w.useEffect)(function(){r&&y(!1)},[r,y]),(0,w.useEffect)(function(){r&&s&&y("top"===s)},[r,s,y]),(0,w.useEffect)(function(){tc(!0)},[]);var td=function(t,e){if("0"===t)L("0"),G("0");else if(t===er.M.toString())L("0"),G((er.M*e).toString());else{var n=parseInt(t,10);L((Math.max(er.FA-n,0)*e).toString()),G((n*e).toString())}};(0,w.useEffect)(function(){td(k,_)},[k,_]);var tm=function(){return!isNaN(parseInt(k,10))&&null!==B},th=function(t){if(!J){var e=Date.now();e-to<100||(ti(e),C(function(e){if("0"===e)return t.toString();var n=e+t.toString();return parseInt(n,10)<=er.FA?n:e}),W(function(e){return new Set(e).add(t)}),setTimeout(function(){W(function(e){var n=new Set(e);return n.delete(t),n})},100))}},tp=function(t,e){F(t),z(e),td(k,e)},tg=(0,w.useCallback)(function(){if(tm()&&B){var t=parseInt(D,10),e=parseInt(I,10),n={top:"top"===s?t:e,bottom:"bottom"===s?t:e};if(!h()){d(tx,function(){l(B,n.top,n.bottom,J?{team:s,type:"matsch"}:void 0),o()},function(){return m()});return}l(B,n.top,n.bottom,J?{team:s,type:"matsch"}:void 0),o()}},[tm,B,D,I,s,J,u,f.length,d,m,l,o,h]),tb=function(){y(!g.isFlipped)},tv=function(t){null==t||t.stopPropagation(),C("257"),L("0"),G((257*_).toString()),X(!0),ee($,g.isFlipped)},tS=(g.isFlipped,[1,2,3,4,5,6,7,8,9]),tw=en.vK.map(function(t,e){return{color:t.name,multiplier:b.values[e]}}).filter(function(t){return t.multiplier>0}).sort(function(t,e){return t.multiplier-e.multiplier}),tj=function(t,e,n){var r,o,i,a=en.vK.find(function(e){return e.name===t});return e?"bg-orange-500":"FR"===x?(null==a||null===(o=a.frStyle)||void 0===o?void 0:o.backgroundColor)||"bg-gray-600":"emoji"===n?(null==a||null===(i=a.emojiStyle)||void 0===i?void 0:i.backgroundColor)||"bg-gray-600":(null==a||null===(r=a.standardStyle)||void 0===r?void 0:r.backgroundColor)||"bg-gray-600"},tN=function(t){return S.isEnabled||"une"!==t.toLowerCase()?"FR"!==x||S.isEnabled?t:({Eicheln:"Schaufel",Rosen:"Kreuz",Schellen:"Herz",Schilten:"Ecke"})[t]||t:"Unde"},tE=function(t,e){var n=(0,el.m)(function(){return tp(t,e)}),r=n.handlers,o=n.buttonClasses,i="mis\xe8re"===t.toLowerCase()&&B===t;return(0,O.jsx)("button",ep(ep({},r),{},{className:"p-1 rounded text-white select-none text-xs h-12 flex items-center justify-center ".concat(B===t?"active":""," ").concat(tj(t,B===t,S.mode)," ").concat(o),"aria-label":"".concat(t),children:ts&&S.isEnabled?"emoji"===S.mode?(0,O.jsx)("span",{className:"text-2xl",children:ec(t,"emoji",x)}):(0,O.jsx)("img",{src:ec(t,"svg",x),alt:t,className:"w-10 h-10 object-contain ".concat(i?"invert brightness-0":""),onError:function(e){e.currentTarget.style.display="none";var n=e.currentTarget.parentElement;n&&(n.textContent=tN(t))}}):tN(t)}),t)},tO=function(t){var e=(0,el.m)(function(){return th(t)}),n=(e.isPressedDown,e.handlers),r=e.buttonClasses;return(0,O.jsx)("button",ep(ep({},n),{},{className:"bg-gray-600 text-white p-4 rounded select-none text-2xl ".concat(r),children:t}),t)},tT=(0,el.m)(tv);tT.isPressedDown,tT.handlers,tT.buttonClasses;var tP=(0,el.m)(function(){C("0"),L("0"),z(1),F(null),X(!1)}),tk=tP.handlers,tC=tP.buttonClasses,tA=(0,el.m)(tg),tI=tA.handlers,tL=tA.buttonClasses;return(0,w.useEffect)(function(){console.log("\uD83E\uDDEE Calculator Effect:",{isOpen:r,isTutorialActive:E,currentStepId:null==T?void 0:T.id,shouldClose:r&&E&&(null==T?void 0:T.id)!==tQ.RX.CALCULATOR_OPEN}),r&&E&&((null==T?void 0:T.id)===tQ.RX.CALCULATOR_OPEN?window.dispatchEvent(new CustomEvent("calculatorOpen")):(console.log("\uD83D\uDEAB Closing calculator"),o()))},[r,E,T,o]),(0,w.useEffect)(function(){r&&document.dispatchEvent(new Event("calculatorOpen"))},[r]),(0,O.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300 prevent-interactions ".concat(r?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:o,onContextMenu:function(t){return t.preventDefault()},children:(0,O.jsxs)(j.q.div,{style:tf,className:"relative w-11/12 max-w-md",onClick:function(t){return t.stopPropagation()},children:[(0,O.jsx)("button",{onClick:function(t){t.stopPropagation(),tb()},className:"absolute bottom-full mb-[-10px] left-1/2 transform -translate-x-1/2 \n            text-white hover:text-gray-300 transition-all duration-1000\n            w-24 h-24 flex items-center justify-center\n            rounded-full\n            ".concat(g.isFlipped?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,O.jsx)(t9.bxQ,{className:"w-8 h-8"})}),(0,O.jsx)("button",{onClick:function(t){t.stopPropagation(),o()},className:"absolute right-2 top-2 p-2 text-gray-400 hover:text-white transition-colors z-10",children:(0,O.jsx)(t9.q5L,{size:24})}),(0,O.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg transition-all duration-700 flex flex-col items-center",onClick:function(t){return t.stopPropagation()},children:[(0,O.jsx)("h2",{className:"text-white text-xl mb-4 text-center select-none",children:"Runde schreiben"}),(0,O.jsxs)("div",{className:"flex flex-col w-full space-y-4",children:[(0,O.jsx)("input",{type:"text",value:k,readOnly:!0,className:"w-full bg-gray-700 text-white text-6xl p-4 rounded select-none text-center"}),(0,O.jsxs)("div",{className:"flex justify-between items-stretch w-full space-x-2 h-10",children:[(0,O.jsxs)("div",{className:"w-1/3 bg-gray-700 text-white p-1 rounded select-none flex items-center justify-end relative",children:[(0,O.jsx)("div",{className:"text-xs absolute top-0 left-1",children:"Gegner:"}),(0,O.jsx)("div",{className:"text-xl pr-1",children:I})]}),(0,O.jsx)("button",{onClick:tv,onMouseDown:function(){Y(!0),Q(0),tn(setInterval(function(){Q(function(t){return Math.min(t+1,20)})},100))},onMouseUp:function(){Y(!1),te&&clearInterval(te),tv()},onMouseLeave:function(){Y(!1),te&&clearInterval(te)},onTouchStart:function(){Y(!0),Q(0),tn(setInterval(function(){Q(function(t){return Math.min(t+1,20)})},100))},onTouchEnd:function(){Y(!1),te&&clearInterval(te),tv()},className:"w-1/3 p-1 rounded select-none transition-all duration-100 text-lg flex items-center justify-center matsch-button ".concat(J?"bg-orange-500 text-white":Z?"bg-gray-600 text-white scale-95 opacity-80":"bg-gray-700 text-white hover:bg-orange-500 scale-100 opacity-100"),disabled:J,children:"Matsch"}),(0,O.jsxs)("div",{className:"w-1/3 bg-gray-700 text-white p-1 rounded select-none flex items-center justify-end relative",children:[(0,O.jsx)("div",{className:"text-xs absolute top-0 left-1",children:"Total:"}),(0,O.jsx)("div",{className:"text-xl pr-1",children:D})]})]})]}),(0,O.jsx)("div",{className:"mt-4"}),(0,O.jsx)("div",{className:(e=tw.length,n="grid grid-cols-5 gap-2 mb-4 w-full group ".concat(B?"has-active":""),e<=4?n.replace("grid-cols-5","grid-cols-4"):e<=6?n.replace("grid-cols-5","grid-cols-3"):e<=8?n.replace("grid-cols-5","grid-cols-4"):n),children:tw.map(function(t){return tE(t.color,t.multiplier)})}),(0,O.jsxs)("div",{className:"grid grid-cols-3 gap-3 w-full",children:[tS.map(function(t){return tO(t)}),(0,O.jsx)("button",ep(ep({},tk),{},{className:"bg-red-600 text-white p-4 rounded select-none text-2xl ".concat(tC),children:"C"})),tO(0),(0,O.jsx)("button",ep(ep({},tI),{},{disabled:!tm()||!B,className:"bg-green-600 text-white p-4 rounded select-none text-2xl ".concat(tL,"\n                ").concat(tm()&&B?"":"opacity-50 cursor-not-allowed"),children:"OK"}))]})]})]})})};function ev(t){return(ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ex(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eS(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==ev(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ev(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ev(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ew(){ew=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(e,n,r,i){var a,s,c=Object.create((n&&n.prototype instanceof g?n:g).prototype);return o(c,"_invoke",{value:(a=new T(i||[]),s=d,function(n,o){if(s===m)throw Error("Generator is already running");if(s===h){if("throw"===n)throw o;return{value:t,done:!0}}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=function e(n,r){var o=r.method,i=n.iterator[o];if(i===t)return r.delegate=null,"throw"===o&&n.iterator.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+o+"' method")),p;var a=f(i,n.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var s=a.arg;return s?s.done?(r[n.resultName]=s.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,p)}(i,a);if(c){if(c===p)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var l=f(e,r,a);if("normal"===l.type){if(s=a.done?h:"suspendedYield",l.arg===p)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(s=h,a.method="throw",a.arg=l.arg)}})}),c}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",m="executing",h="completed",p={};function g(){}function y(){}function b(){}var v={};l(v,a,function(){return this});var S=Object.getPrototypeOf,x=S&&S(S(P([])));x&&x!==n&&r.call(x,a)&&(v=x);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function N(t,e){var n;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==ev(u)&&r.call(u,"__await")?e.resolve(u.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):e.resolve(u).then(function(t){l.value=t,a(l)},function(t){return n("throw",t,a,s)})}s(c.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}})}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw TypeError(ev(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(N.prototype),l(N.prototype,s,function(){return this}),e.AsyncIterator=N,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new N(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),l(w,c,"Generator"),l(w,a,function(){return this}),l(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function ej(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){n(t);return}s.done?e(c):Promise.resolve(c).then(r,o)}function eN(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){ej(i,r,o,a,s,"next",t)}function s(t){ej(i,r,o,a,s,"throw",t)}a(void 0)})}}function eE(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return eO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eO(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var eT=function(){var t,e,n=(0,ty.HB)(),r=n.setStartScreenState,o=n.showNotification,i=tp();te();var a=(0,t$.X)(),s=eE((0,w.useState)({1:"",2:"",3:"",4:""}),2),c=s[0],l=s[1],u=eE((0,w.useState)(F),1)[0],f=eE((0,w.useState)(1),2),d=f[0],m=f[1],h=function(t){return Object.values(t).every(function(t){return""!==t.trim()})},p=function(t){h(c)&&m(t)},g=(t=eN(ew().mark(function t(){var e;return ew().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((e=Object.entries(c).filter(function(t){var e=eE(t,2);return!(e[0],e[1]).trim()})).length>0)){t.next=4;break}return o({type:"warning",message:"Es wurden nicht alle Spielernamen eingegeben. M\xf6chtest du trotzdem fortfahren?",actions:[{label:"Ohne\nNamen",onClick:function(){var t=eN(ew().mark(function t(){var e,n,r,o,i;return ew().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l(i={1:(null===(e=c[1])||void 0===e?void 0:e.trim())||"Spieler 1",2:(null===(n=c[2])||void 0===n?void 0:n.trim())||"Spieler 2",3:(null===(r=c[3])||void 0===r?void 0:r.trim())||"Spieler 3",4:(null===(o=c[4])||void 0===o?void 0:o.trim())||"Spieler 4"}),t.next=4,y(i);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{label:"Namen\neingeben",onClick:function(){var t=document.querySelector('input[data-player="'.concat(e[0][0],'"]'));null==t||t.focus()}}]}),t.abrupt("return");case 4:return t.next=6,y(c);case 6:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)}),y=(e=eN(ew().mark(function t(e){var n,o;return ew().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.isActive&&(console.log("\uD83C\uDF93 Force ending tutorial on game start..."),a.endTutorial(!0)),ty.HB.getState().resetStartScreen(),console.log("\uD83C\uDFAE StartScreen.handleStart:",{startingPlayer:d,teamConfig:u,playerNames:e}),W(u),console.log("\uD83D\uDCDD Ordered Names:",n={1:e[u.bottom.includes(1)?1:2],2:e[u.top.includes(2)?2:1],3:e[u.bottom.includes(3)?3:4],4:e[u.top.includes(4)?4:3]}),i.startJass({playerNames:n,initialStartingPlayer:d}),tH.setState({playerNames:n,currentPlayer:d,startingPlayer:d}),console.log("\uD83C\uDFB2 GameStore Updated:",tH.getState()),tH.setState(function(t){return ex(ex({},t),{},{isGameStarted:!0,currentRound:1,isGameCompleted:!1,isRoundCompleted:!1})}),(o=te.getState()).resetGameTimers(),o.startGameTimer(),o.startRoundTimer(),r("starting"),t.next=17,new Promise(function(t){return setTimeout(t,300)});case 17:r("complete");case 18:case"end":return t.stop()}},t)})),function(t){return e.apply(this,arguments)});return(0,O.jsx)(tv.M,{children:(0,O.jsxs)(tS.E.div,{className:"fixed inset-0 flex flex-col items-center justify-center bg-gray-900 bg-opacity-90 z-50 p-4",children:[(0,O.jsxs)("div",{className:"bg-gray-800 bg-opacity-95 rounded-xl p-6 w-full max-w-xs space-y-6 shadow-lg text-center",children:[(0,O.jsx)("h2",{className:"text-2xl font-bold text-white text-center mb-4",children:h(c)?"Startspieler w\xe4hlen":"Spielernamen eingeben"}),(0,O.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Sitzreihenfolge:"}),(0,O.jsxs)("div",{className:"space-y-4",children:[(0,O.jsx)("input",{type:"text","data-player":"1",placeholder:"Spieler 1 (Team 1) - Dein Ger\xe4t",value:c[1],onChange:function(t){return l(function(e){return ex(ex({},e),{},{1:t.target.value})})},onClick:function(){return p(1)},className:"w-full p-2 outline-none ".concat(u.bottom.includes(1)?"bg-gray-500":"bg-gray-800"," \n                border transition-all duration-150 rounded-xl text-white placeholder-gray-300 \n                ").concat(h(c)?1===d?"border-yellow-500 ring-2 ring-yellow-500 focus:ring-yellow-500 focus:border-yellow-500":"border-gray-600 hover:bg-gray-700 cursor-pointer focus:ring-yellow-500 focus:border-yellow-500":"border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500")}),(0,O.jsx)("input",{type:"text","data-player":"2",placeholder:"Spieler 2 (Team 2)",value:c[2],onChange:function(t){return l(function(e){return ex(ex({},e),{},{2:t.target.value})})},onClick:function(){return p(2)},className:"w-full p-2 outline-none ".concat(u.top.includes(2)?"bg-gray-700":"bg-gray-800"," \n                border transition-all duration-150 rounded-xl text-white placeholder-gray-300 \n                ").concat(h(c)?2===d?"border-yellow-500 ring-2 ring-yellow-500 focus:ring-yellow-500 focus:border-yellow-500":"border-gray-600 hover:bg-gray-700 cursor-pointer focus:ring-yellow-500 focus:border-yellow-500":"border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500")}),(0,O.jsx)("input",{type:"text","data-player":"3",placeholder:"Spieler 3 (Team 1)",value:c[3],onChange:function(t){return l(function(e){return ex(ex({},e),{},{3:t.target.value})})},onClick:function(){return p(3)},className:"w-full p-2 outline-none ".concat(u.bottom.includes(3)?"bg-gray-500":"bg-gray-800"," \n                border transition-all duration-150 rounded-xl text-white placeholder-gray-300 \n                ").concat(h(c)?3===d?"border-yellow-500 ring-2 ring-yellow-500 focus:ring-yellow-500 focus:border-yellow-500":"border-gray-600 hover:bg-gray-700 cursor-pointer focus:ring-yellow-500 focus:border-yellow-500":"border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500")}),(0,O.jsx)("input",{type:"text","data-player":"4",placeholder:"Spieler 4 (Team 2)",value:c[4],onChange:function(t){return l(function(e){return ex(ex({},e),{},{4:t.target.value})})},onClick:function(){return p(4)},className:"w-full p-2 outline-none ".concat(u.top.includes(4)?"bg-gray-700":"bg-gray-800"," \n                border transition-all duration-150 rounded-xl text-white placeholder-gray-300 \n                ").concat(h(c)?4===d?"border-yellow-500 ring-2 ring-yellow-500":"border-gray-600 hover:bg-gray-700 cursor-pointer":"border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500")})]}),(0,O.jsx)(tS.E.button,{onClick:function(t){m(function(t){return t%4+1})},className:"w-full p-2 bg-yellow-600 text-white rounded-xl  transition-colors border-b-4 border-yellow-900",whileTap:{scale:.95},animate:{opacity:1},transition:{duration:0},children:"Rosen 10 (Startspieler)"})]}),(0,O.jsx)(tS.E.button,{initial:{scale:.9},animate:{scale:1},whileTap:{scale:.95},onClick:g,className:"bg-green-600 text-white text-2xl font-bold py-6 px-12 rounded-xl shadow-lg hover:bg-green-700 transition-colors mt-6 border-b-4 border-green-900",children:"START"})]})})};function eP(t){return(eP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function eC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==eP(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==eP(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===eP(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var eA=function(t){var e=t.currentPlayer,n=t.opacity,r=t.isOpen,o=t.isGameStarted,i=tH().playerNames,a=(0,j.q_)({from:{opacity:0},to:{opacity:r?0:n},config:{duration:150},delay:r?0:750,immediate:r});if(r)return null;var s=function(t){var n=t?[1,3]:[2,4],r=n[0],o=n[1],a=i[r]||"Spieler ".concat(r),s=i[o]||"Spieler ".concat(o);return(0,O.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,O.jsx)("span",{className:e===r?"text-white font-semibold text-xl":"text-gray-500",children:a}),(0,O.jsx)("span",{className:"text-gray-500",children:"+"}),(0,O.jsx)("span",{className:e===o?"text-white font-semibold text-xl":"text-gray-500",children:s})]})};return(0,O.jsxs)(j.q.div,{className:"absolute inset-x-0 flex flex-col items-center justify-center pointer-events-none",style:eC(eC({},a),{},{top:"calc(50% - 4rem)",height:"3.5rem"}),children:[(0,O.jsx)("div",{className:"absolute w-full flex justify-center top-[4.5rem]",children:o?s(!0):"START"}),(0,O.jsx)("div",{className:"absolute w-full flex justify-center bottom-0",children:(0,O.jsx)("div",{className:"rotate-180",children:o?s(!1):"START"})})]})},eI={lastClickTime:0,isProcessingDoubleClick:!1,lockUntil:0},eL=n(4830),eR=function(t){var e=t.onConfirm,n=t.onDismiss,r=t.show,o=t.swipePosition,i=void 0===o?"bottom":o;return(0,O.jsx)(tv.M,{children:r&&(0,O.jsxs)(tS.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-[9999] p-4 pointer-events-auto\n            ".concat("top"===i?"rotate-180":""),children:[(0,O.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:n}),(0,O.jsxs)(tS.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white z-10\n              ".concat("top"===i?"rotate-180":""),children:[(0,O.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[(0,O.jsx)(tb.gJy,{className:"w-12 h-12 text-yellow-600 mb-2"}),(0,O.jsx)("p",{className:"text-center mb-6",children:"M\xf6chten Sie wirklich das Spiel zur\xfccksetzen? Alle Daten werden gel\xf6scht."})]}),(0,O.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,O.jsx)("button",{onClick:e,className:"flex-1 bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors text-lg font-semibold",children:"Ja"}),(0,O.jsx)("button",{onClick:n,className:"flex-1 bg-gray-600 text-white px-6 py-2 rounded-full hover:bg-gray-700 transition-colors text-lg font-semibold",children:"Abbrechen"})]})]})]})})},eD=n(5152),eG=n.n(eD),eM=n(1418);function e_(t){return(e_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ez(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return eH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eH(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function eB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function eF(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eB(Object(n),!0).forEach(function(e){eK(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eB(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function eK(t,e,n){var r;return(r=function(t,e){if("object"!==e_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==e_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===e_(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var eW=[0,1,2,3,4,5,6,7,8],eU={sieg:{min:0,max:(null===(m=er.J3.find(function(t){return"sieg"===t.id}))||void 0===m?void 0:m.maxValue)||1e4,default:(null===(h=er.J3.find(function(t){return"sieg"===t.id}))||void 0===h?void 0:h.defaultValue)||2e3},berg:{min:0,max:(null===(p=er.J3.find(function(t){return"berg"===t.id}))||void 0===p?void 0:p.maxValue)||5e3,default:(null===(g=er.J3.find(function(t){return"berg"===t.id}))||void 0===g?void 0:g.defaultValue)||2e3},schneider:{min:0,max:(null===(y=er.J3.find(function(t){return"schneider"===t.id}))||void 0===y?void 0:y.maxValue)||5e3,default:(null===(b=er.J3.find(function(t){return"schneider"===t.id}))||void 0===b?void 0:b.defaultValue)||1e3}},eJ=function(t){var e=t.multiplier,n=t.onMultiplierClick;return(0,O.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 rounded-lg text-lg font-bold transition-all duration-150\n      ".concat(0===e?"bg-gray-600/50 text-gray-400 hover:bg-gray-700/50":"bg-orange-500 text-white hover:bg-orange-600 active:scale-95 active:opacity-80"),children:0===e?"-":"".concat(e,"x")})},eX=function(t){var e=t.isEnabled,n=t.mode,r=t.onClick,o=(0,el.m)(r),i=o.handlers,a=o.buttonClasses;return(0,O.jsx)("button",eF(eF({},i),{},{className:"px-4 py-2 rounded-lg text-lg font-bold transition-all duration-150\n        ".concat(e?"bg-green-500 text-white hover:bg-green-600":"bg-gray-600/50 text-gray-400 hover:bg-gray-700/50"," ").concat(a),children:e?"svg"===n?"Standard":"Emojis":"Nein"}))},eV=function(t){var e=t.farbe,n=t.mode,r=(0,ty.HB)().settings,o=ec(e,n,r.cardStyle),i=tN[e][r.cardStyle];return(0,O.jsx)("div",{className:"flex items-center justify-center w-8 h-8",children:"emoji"===n?(0,O.jsx)("span",{className:"text-2xl",children:o}):(0,O.jsx)("img",{src:o,alt:i,className:"w-6 h-6 object-contain"})})},eZ=function(t){var e=t.style,n=t.isActive,r=t.onClick,o=(0,el.m)(r),i=o.handlers,a=o.buttonClasses;return(0,O.jsx)("button",eF(eF({},i),{},{className:"px-3 py-1 rounded ".concat(n?"bg-green-500 text-white":"bg-gray-700 text-gray-300"," ").concat(a),children:e}))},eY=function(t){var e=t.value,n=t.isActive,r=t.onClick,o=(0,el.m)(r),i=o.handlers,a=o.buttonClasses;return(0,O.jsx)("button",eF(eF({},i),{},{className:"px-4 py-2 rounded-lg text-xl font-bold transition-all duration-150 ".concat(n?"bg-green-500 text-white hover:bg-green-600":"bg-gray-700 text-gray-300 hover:bg-gray-600"," ").concat(a),children:e}))},eq=eG()(function(){return Promise.resolve(function(){var t,e,n,r=(0,eM.i)("settings").preventClose,o=(0,ty.HB)(),i=o.settings,a=o.farbeSettings,s=o.scoreSettings,c=o.updateFarbeSettings,l=o.updateScoreSettings,u=o.closeSettings,f=o.setSettingsTab,d=o.cyclePictogramMode,m=o.setCardStyle,h=o.strokeSettings,p=o.updateStrokeSettings;o.tutorialBlockedUI,o.openSettings;var g=ez((0,w.useState)(a.values),2),y=g[0],b=g[1],v=ez((0,w.useState)(s.values),2),S=v[0],x=v[1],N=ez((0,w.useState)(s.enabled),2),E=N[0],T=N[1],P=ez((0,w.useState)(!1),2),k=P[0],C=P[1],A=ez((0,w.useState)(h),2),I=A[0],L=A[1],R=ez((0,w.useState)({}),2),D=R[0],G=R[1],M=(0,j.q_)({opacity:i.isOpen?1:0,transform:"scale(".concat(i.isOpen?1:.95,") rotate(").concat(k?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20}}),_=(0,w.useRef)(null),z=(0,t$.X)(function(t){return t.getCurrentStep()}),H=null==z?void 0:z.id.startsWith("SETTINGS_"),B=r||H,F=function(t){B||!_.current||_.current.contains(t.target)||K()};(0,w.useEffect)(function(){if(i.isOpen)return document.addEventListener("mousedown",F),function(){document.removeEventListener("mousedown",F)}},[i.isOpen,r]),(0,w.useEffect)(function(){x(s.values),T(s.enabled)},[s]);var K=function(){B&&(null==z?void 0:z.id)!==tQ.RX.SETTINGS_STROKES||(c({values:y,isFlipped:k}),l({values:S,enabled:E}),p(I),u())},W=function(t){b(function(e){var n=e[t],r=(eW.indexOf(n)+1)%eW.length;return e.map(function(e,n){return n===t?eW[r]:e})})},U=function(t,e){if(G(function(n){return eF(eF({},n),{},eK({},t,e))}),!(!e||isNaN(parseInt(e)))){var n=parseInt(e);"sieg"===t&&n>=100?J(t,n):"sieg"!==t&&n>0&&J(t,n)}},J=function(t,e){x(function(n){var r=eF({},n),o=parseInt(e.toString().replace(/^0+/,""))||0;if("sieg"===t){var i=Math.max(1e3,Math.min(o,eU[t].max));r.sieg=i;var a=Math.floor(i/2);r.berg=a,r.schneider=a}else if("berg"===t){var s=Math.min(o,eU.berg.max);r.berg=s,r.schneider=s,r.sieg=Math.max(1e3,2*s)}else{var c=Math.floor(n.sieg/2);r[t]=Math.min(o,c)}return r})},X=function(t){T(function(e){return eF(eF({},e),{},eK({},t,!e[t]))})},V=function(){var t=["farben","scores","strokes"],e=(t.indexOf(i.activeTab)+1)%t.length;f(t[e]);var n=t$.X.getState().getCurrentStep();((null==n?void 0:n.id)===tQ.RX.SETTINGS_NAVIGATE&&"scores"===t[e]||(null==n?void 0:n.id)===tQ.RX.SETTINGS_NAVIGATE_STROKES&&"strokes"===t[e])&&t$.X.getState().nextStep()};return(0,O.jsx)(tv.M,{children:i.isOpen&&(0,O.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-40 bg-black/50 px-4",children:(0,O.jsx)(j.q.div,{ref:_,style:M,className:"w-full max-w-lg p-4 max-h-[85vh]",children:(0,O.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 relative",children:[(0,O.jsx)("button",{onClick:function(){return C(!k)},disabled:B,className:"absolute bottom-full mb-[-10px] left-1/2 transform -translate-x-1/2 \n                  text-white transition-all duration-1000\n                  w-24 h-24 flex items-center justify-center\n                  rounded-full\n                  ".concat(B?"opacity-50 cursor-not-allowed text-gray-500":"hover:text-gray-300","\n                  ").concat(k?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,O.jsx)(t9.bxQ,{className:"w-8 h-8"})}),(0,O.jsx)("button",{onClick:K,disabled:B,className:"absolute right-2 top-2 p-2 text-gray-400 \n                  ".concat(B?"opacity-50 cursor-not-allowed":"hover:text-white"," \n                  transition-colors"),children:(0,O.jsx)(t9.q5L,{size:24})}),(0,O.jsx)("h2",{className:"text-2xl font-bold text-white text-center mb-6",children:function(){switch(i.activeTab){case"farben":return"Farben Einstellungen";case"scores":return"Punkte Einstellungen";case"strokes":return"Striche Einstellungen";default:return""}}()}),"farben"===i.activeTab&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{className:"mb-4",children:(0,O.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-3 rounded-lg",children:[(0,O.jsx)("span",{className:"text-white text-lg",children:"Jasskarten"}),(0,O.jsxs)("div",{className:"flex gap-2",children:[(0,O.jsx)(eZ,{style:"DE",isActive:"DE"===i.cardStyle,onClick:function(){return m("DE")}}),(0,O.jsx)(eZ,{style:"FR",isActive:"FR"===i.cardStyle,onClick:function(){return m("FR")}})]})]})}),(0,O.jsxs)("div",{className:"space-y-4 max-h-[40vh] overflow-y-auto pr-2",children:[(0,O.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-3 rounded-lg",children:[(0,O.jsx)("span",{className:"text-white text-lg",children:"Piktogramme"}),(0,O.jsx)(eX,{isEnabled:i.pictogramConfig.isEnabled,mode:i.pictogramConfig.mode,onClick:d})]}),en.vK.map(function(t,e){return(0,O.jsxs)("div",{className:"flex items-center bg-gray-700/50 p-3 rounded-lg",children:[(0,O.jsx)("span",{className:"text-white text-lg w-12",children:tN[t.name][i.cardStyle]}),(0,O.jsx)("div",{className:"flex-1 flex justify-center items-center",children:i.pictogramConfig.isEnabled&&(0,O.jsx)(eV,{farbe:t.name,mode:i.pictogramConfig.mode})}),(0,O.jsx)(eJ,{multiplier:y[e],onMultiplierClick:function(){return W(e)}})]},t.id)})]})]}),"scores"===i.activeTab&&(0,O.jsxs)("div",{className:"space-y-6",children:[(0,O.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-3 rounded-lg",children:[(0,O.jsx)("span",{className:"text-white text-lg",children:"Sieg-Punkte"}),(0,O.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:null!==(t=D.sieg)&&void 0!==t?t:S.sieg,onChange:function(t){U("sieg",t.target.value.replace(/[^0-9]/g,""))},onBlur:function(){J("sieg",parseInt(D.sieg||"0")),G(function(t){return eF(eF({},t),{},{sieg:void 0})})},onFocus:function(t){t.target.select(),setTimeout(function(){return t.target.select()},0)},className:"w-24 px-3 py-2 bg-gray-600 text-white rounded-lg text-right focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",style:{WebkitAppearance:"none",MozAppearance:"textfield"}})]}),(0,O.jsxs)("div",{className:"bg-gray-700/50 rounded-lg overflow-hidden",children:[(0,O.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-gray-600",children:[(0,O.jsx)("span",{className:"text-white text-lg",children:"Berg aktiviert"}),(0,O.jsx)("button",{onClick:function(){return X("berg")},className:"px-4 py-2 rounded-lg text-lg font-bold transition-all duration-150\n              ".concat(E.berg?"bg-green-500 text-white hover:bg-green-600":"bg-gray-600/50 text-gray-400 hover:bg-gray-700/50"),children:E.berg?"Ja":"Nein"})]}),E.berg&&(0,O.jsxs)("div",{className:"flex items-center justify-between p-3",children:[(0,O.jsx)("span",{className:"text-white text-lg",children:"Berg-Punkte"}),(0,O.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:null!==(e=D.berg)&&void 0!==e?e:S.berg,onChange:function(t){U("berg",t.target.value.replace(/[^0-9]/g,""))},onBlur:function(){J("berg",parseInt(D.berg||"0")),G(function(t){return eF(eF({},t),{},{berg:void 0})})},className:"w-24 px-3 py-2 bg-gray-600 text-white rounded-lg text-right focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",style:{WebkitAppearance:"none",MozAppearance:"textfield"}})]})]}),(0,O.jsxs)("div",{className:"bg-gray-700/50 rounded-lg overflow-hidden",children:[(0,O.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-gray-600",children:[(0,O.jsx)("span",{className:"text-white text-lg",children:"Schneider aktiviert"}),(0,O.jsx)("button",{onClick:function(){return X("schneider")},className:"px-4 py-2 rounded-lg text-lg font-bold transition-all duration-150\n              ".concat(E.schneider?"bg-green-500 text-white hover:bg-green-600":"bg-gray-600/50 text-gray-400 hover:bg-gray-700/50"),children:E.schneider?"Ja":"Nein"})]}),E.schneider&&(0,O.jsxs)("div",{className:"flex items-center justify-between p-3",children:[(0,O.jsx)("span",{className:"text-white text-lg",children:"Schneider-Punkte"}),(0,O.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:null!==(n=D.schneider)&&void 0!==n?n:S.schneider,onChange:function(t){U("schneider",t.target.value.replace(/[^0-9]/g,""))},onBlur:function(){J("schneider",parseInt(D.schneider||"0")),G(function(t){return eF(eF({},t),{},{schneider:void 0})})},className:"w-24 px-3 py-2 bg-gray-600 text-white rounded-lg text-right focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",style:{WebkitAppearance:"none",MozAppearance:"textfield"}})]})]})]}),"strokes"===i.activeTab&&(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)("div",{className:"space-y-4",children:[(0,O.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-4 rounded-lg min-h-[4rem]",children:[(0,O.jsx)("span",{className:"text-lg text-white",children:"Schneider-Striche"}),(0,O.jsxs)("div",{className:"flex gap-3",children:[(0,O.jsx)(eY,{value:1,isActive:1===I.schneider,onClick:function(){return L(function(t){return eF(eF({},t),{},{schneider:1})})}}),(0,O.jsx)(eY,{value:2,isActive:2===I.schneider,onClick:function(){return L(function(t){return eF(eF({},t),{},{schneider:2})})}})]})]}),(0,O.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-4 rounded-lg min-h-[4rem]",children:[(0,O.jsx)("span",{className:"text-lg text-white",children:"Kontermatsch-Striche"}),(0,O.jsxs)("div",{className:"flex gap-3",children:[(0,O.jsx)(eY,{value:1,isActive:1===I.kontermatsch,onClick:function(){return L(function(t){return eF(eF({},t),{},{kontermatsch:1})})}}),(0,O.jsx)(eY,{value:2,isActive:2===I.kontermatsch,onClick:function(){return L(function(t){return eF(eF({},t),{},{kontermatsch:2})})}})]})]})]})}),(0,O.jsxs)("div",{className:"mt-8 flex justify-center items-center space-x-6",children:[(0,O.jsx)(e$,{direction:"left",onClick:V}),(0,O.jsx)(eQ,{onClick:K}),(0,O.jsx)(e$,{direction:"right",onClick:V})]})]})})})})})},{ssr:!1}),e$=(0,w.memo)(function(t){var e=t.direction,n=t.onClick,r=(0,w.useRef)(null),o=(0,el.m)(n),i=o.handlers,a=o.buttonClasses,s="left"===e?t9.YFh:t9.Tfp,c=(0,t$.X)(function(t){return t.getCurrentStep()}),l="right"===e?"settings-navigation-next-button":"settings-navigation-prev-button",u=(null==c?void 0:c.id)===tQ.RX.SETTINGS_NAVIGATE_STROKES&&"left"===e||(null==c?void 0:c.id)===tQ.RX.SETTINGS_NAVIGATE&&"left"===e;return(0,O.jsx)("button",eF(eF({},i),{},{ref:r,id:l,"data-testid":l,disabled:u,className:"p-3 text-white transition-colors\n        bg-gray-700 rounded-lg hover:bg-gray-600 ".concat(a,"\n        ").concat(u?"opacity-50 cursor-not-allowed":""),children:(0,O.jsx)(s,{size:32})}))}),eQ=function(t){var e=t.onClick,n=(0,el.m)(e).buttonClasses,r=(0,t$.X)(function(t){return t.getCurrentStep()}),o=(0,t$.X)(function(t){return t.nextStep}),i=(null==r?void 0:r.id)===tQ.RX.SETTINGS_NAVIGATE_STROKES;return(0,O.jsx)("button",{onClick:function(){e(),(null==r?void 0:r.id)===tQ.RX.SETTINGS_STROKES&&o(),window.dispatchEvent(new CustomEvent("settingsSaved"))},disabled:i,className:"py-3 px-8 bg-yellow-600 text-white rounded-lg font-medium text-lg\n        hover:bg-yellow-700 transition-all duration-150 ".concat(n,"\n        ").concat(i?"opacity-50 cursor-not-allowed":""),children:"Speichern"})};function e0(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return e1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e1(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e1(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}eG()(function(){return Promise.resolve().then(n.bind(n,1554))},{loading:function(){return null},ssr:!1});var e2=function(t){var e=t.isOpen,n=t.onClose,r=t.swipePosition,o=(0,ty.HB)(),i=o.openResultatKreidetafel,a=o.openFarbeSettings,s=e0((0,w.useState)(null),2),c=s[0],l=s[1],u=e0((0,w.useState)(!1),2),f=u[0],d=u[1],m=(0,t$.X)(function(t){return t.getCurrentStep()}),h=(0,t$.X)().isCategoryCompleted,p={hidden:{opacity:0,y:0},visible:{opacity:1,y:0}},g=function(t){l(t),setTimeout(function(){return l(null)},150)},y=function(){g("trash"),ty.HB.getState().showNotification({message:"M\xf6chten Sie wirklich das Spiel zur\xfccksetzen? Alle Daten werden gel\xf6scht.",type:"warning",isFlipped:"top"===r,actions:[{label:"Ja",onClick:b},{label:"Abbrechen",onClick:function(){}}]})},b=(0,w.useCallback)(function(){var t=tp.getState(),e=tH.getState(),r=ty.HB.getState(),o=te.getState();t.resetJass(),e.resetGame(),r.resetAll(),o.resetAllTimers(),d(!1),n()},[n]),v=(0,w.useCallback)(function(){i(r),setTimeout(function(){n()},100)},[i,r,n]),S=(0,w.useCallback)(function(){a(),(null==m?void 0:m.id)===tQ.RX.JASS_SETTINGS&&document.dispatchEvent(new Event("settingsOpen"))},[a,m]),x=(0,w.useCallback)(function(){Object.values(tQ.cz).some(function(t){return!h(t)})?(ty.HB.getState().openTutorialInfo(),setTimeout(function(){n()},100)):n()},[n,h]),j=[{icon:tb.AMf,onClick:y,color:"bg-red-500",id:"trash","data-tutorial":"new-game-button"},{icon:tb.DAO,onClick:x,color:"bg-blue-500",id:"info"},{icon:tb.p4t,onClick:S,color:"bg-yellow-500",id:"farbe",className:"settings-button"},{icon:eL.cmy,onClick:v,color:"bg-green-500",id:"resultat"}],N=[{icon:eL.cmy,onClick:v,color:"bg-green-500",id:"resultat"},{icon:tb.p4t,onClick:S,color:"bg-yellow-500",id:"farbe",className:"settings-button"},{icon:tb.DAO,onClick:x,color:"bg-blue-500",id:"info"},{icon:tb.AMf,onClick:y,color:"bg-red-500",id:"trash"}],E="top"===r?N:j;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(tS.E.div,{className:"absolute inset-x-0 top-1/2 transform -translate-y-1/2 flex justify-center items-center h-16 z-10 ".concat(e?"opacity-100":"opacity-0 pointer-events-none"," transition-opacity duration-300"),variants:{hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.05}}},initial:"hidden",animate:e?"visible":"hidden",children:(0,O.jsx)("div",{className:"flex justify-center space-x-10",children:E.map(function(t){var e=t.icon,n=t.onClick,o=t.color,i=t.id,a=t.className,s=t["data-tutorial"];return(0,O.jsx)(tS.E.button,{onClick:n,"data-tutorial":s,disabled:(null==m?void 0:m.id)===tQ.RX.SETTINGS&&"settings-button"!==a||(null==m?void 0:m.id)===tQ.RX.MENU_GESTURE&&"resultat"!==i||(null==m?void 0:m.id)===tQ.RX.RESULTAT_INFO&&"resultat"!==i||(null==m?void 0:m.id)===tQ.RX.NEW_GAME&&"trash"!==i||(null==m?void 0:m.id)===tQ.RX.JASS_SETTINGS&&"farbe"!==i,className:"".concat("w-12 h-12 p-2 rounded-xl shadow-md transition-transform hover:scale-110"," ").concat(o," ").concat(a||""," text-white\n                ").concat((null==m?void 0:m.id)===tQ.RX.RESULTAT_INFO&&"resultat"===i||(null==m?void 0:m.id)===tQ.RX.NEW_GAME&&"trash"===i||(null==m?void 0:m.id)===tQ.RX.JASS_SETTINGS&&"farbe"===i?"ring-4 ring-white ring-opacity-50 animate-pulse":"","\n                ").concat((null==m?void 0:m.id)===tQ.RX.SETTINGS&&"settings-button"!==a||(null==m?void 0:m.id)===tQ.RX.MENU_GESTURE||(null==m?void 0:m.id)===tQ.RX.RESULTAT_INFO&&"resultat"!==i||(null==m?void 0:m.id)===tQ.RX.NEW_GAME&&"trash"!==i||(null==m?void 0:m.id)===tQ.RX.JASS_SETTINGS&&"farbe"!==i?"opacity-50 cursor-not-allowed":""),variants:p,onMouseDown:function(){return g(i)},onTouchStart:function(){return g(i)},children:(0,O.jsx)(e,{className:"w-full h-full ".concat(c===i?"opacity-70":""),style:{transform:"top"===r?"rotate(180deg)":"none"}})},i)})})}),(0,O.jsx)(eq,{}),(0,O.jsx)(eR,{show:f,onConfirm:b,onDismiss:function(){return d(!1)}})]})},e5=n(8407),e3=n(5480);function e4(t){return function(t){if(Array.isArray(t))return e6(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return e6(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e6(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e6(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function e8(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var e7={baseStrich:{length:38,width:3,color:"#FFFFFF",opacity:1},diagonalStrich:{length:54,width:3.5,angle:-45,offset:{x:0,y:10}},container:{spacing:10,groupSpacing:12,scale:1,stackSpacing:0}},e9=e3.ZP.div(v||(v=e8(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  \n  /* Basis-Styles */\n  min-height: ",";\n  \n  /* Container-spezifische Positionierung */\n  ","\n"])),function(t){return"horizontal"===t.type?"16px":"50px"},function(t){return"horizontal"===t.type?"\n    transform: rotate(-90deg);\n    transform-origin: left center;\n    margin: 1px 0px;\n    padding-left: 0px; // Horizontale Gruppe kann nach rechts verschoben werden\n  ":"\n    margin: -14px 0 -6px -30px; // Negativer margin-left f\xfcr vertikale Gruppe\n  "}),nt=(0,e3.ZP)(j.q.div)(S||(S=e8(["\n  position: absolute;\n  background-color: ",";\n  opacity: ",";\n  transition: all 0.2s ease;\n\n  ","\n"])),e7.baseStrich.color,e7.baseStrich.opacity,function(t){return(t.$type,t.$isDiagonal)?"\n        width: ".concat(e7.diagonalStrich.length,"px;\n        height: ").concat(e7.diagonalStrich.width,"px;\n        transform: rotate(").concat(e7.diagonalStrich.angle,"deg);\n        transform-origin: left center;\n        z-index: 2;\n      "):"\n      width: ".concat(e7.baseStrich.width,"px;\n      height: ").concat(e7.baseStrich.length,"px;\n    ")}),ne=(0,e3.ZP)(j.q.div)(x||(x=e8(["\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  margin-right: ",";\n"])),function(t){return"horizontal"===t.$type?"8px":"12px"}),nn=function(t){return"horizontal"===t?{left:"".concat(-.2*e7.container.spacing,"px"),top:"18px",transform:"rotate(-50deg)"}:{left:"".concat(3*e7.container.spacing-32,"px"),top:"18px",transform:"rotate(-45deg)"}},nr=function(t){var e=t.type,n=t.count,r=t.position;t.style;var o=(0,j.q_)({from:{progress:0},to:{progress:n},config:{tension:400,friction:15}});return(0,O.jsx)(e9,{type:e,children:function(){for(var t=[],i=Math.floor(n/5),a=n%5,s=function(n){t.push((0,O.jsxs)(ne,{$type:e,children:[e4([,,,,]).map(function(t,i){return(0,O.jsx)(nt,{$type:e,$position:r,style:{opacity:o.progress.to(function(t){return t>5*n+i?1:0}),transform:o.progress.to(function(t){return t>5*n+i?"scale(1)":"scale(0)"}),left:"".concat(i*e7.container.spacing,"px")}},"strich-".concat(n,"-").concat(i))}),(0,O.jsx)(nt,{$type:e,$position:r,$isDiagonal:!0,style:{opacity:o.progress.to(function(t){return t>5*n+4?1:0}),transform:o.progress.to(function(t){return t>5*n+4?nn(e).transform:"scale(0)"}),left:nn(e).left,top:nn(e).top}},"diagonal-".concat(n))]},"group-".concat(n)))},c=0;c<i;c++)s(c);return a>0&&t.push((0,O.jsx)(ne,{$type:e,children:e4(Array(a)).map(function(t,n){return(0,O.jsx)(nt,{$type:e,$position:r,style:{opacity:o.progress.to(function(t){return t>5*i+n?1:0}),transform:o.progress.to(function(t){return t>5*i+n?"scale(1)":"scale(0)"}),left:"".concat(n*e7.container.spacing,"px")}},"rest-".concat(n))})},"remainder")),t}()})},no=function(t){var e=t.spielNummer,n=t.topTeam,r=t.bottomTeam,o=t.showJassPoints,i=t.gameId,a=tp(function(t){return t.currentGameId}),s=tp(function(t){return t.getCurrentGame()}),c=tH(function(t){return t.striche}),l=tH(function(t){return t.weisPoints}),u=tH(function(t){return t.jassPoints});if(i>a)return null;var f=i===a,d=f?{striche:c.top,jassPoints:u.top+l.top,total:null==s?void 0:s.teams.top.total}:n,m=f?{striche:c.bottom,jassPoints:u.bottom+l.bottom,total:null==s?void 0:s.teams.bottom.total}:r,h=U(d.striche),p=U(m.striche);return(0,O.jsxs)("div",{className:"grid grid-cols-[0.5fr_5fr_5fr] gap-4 items-center py-2 last:border-b-0 border-b border-gray-700",children:[(0,O.jsx)("div",{className:"text-gray-400 text-center pl-2",children:e}),(0,O.jsx)("div",{className:"flex justify-center -ml-[-22px]",children:o?(0,O.jsx)("div",{className:"text-xl text-white text-center w-[90px]",children:m.jassPoints||0}):(0,O.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,O.jsx)(nr,{type:"horizontal",count:p.horizontal,position:"bottom"}),(0,O.jsx)(nr,{type:"vertikal",count:p.vertikal,position:"bottom"})]})}),(0,O.jsx)("div",{className:"flex justify-center -ml-[-10px]",children:o?(0,O.jsx)("div",{className:"text-xl text-white text-center w-[100px]",children:d.jassPoints||0}):(0,O.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,O.jsx)(nr,{type:"horizontal",count:h.horizontal,position:"top"}),(0,O.jsx)(nr,{type:"vertikal",count:h.vertikal,position:"top"})]})})]})},ni=function(t){t.teams;var e=t.games,n=t.currentGameId;t.onSwipe;var r=tH();return(0,O.jsx)("div",{className:"flex flex-col w-full space-y-4",children:e.map(function(t,e){return(0,O.jsx)(no,{gameId:t.id,spielNummer:e+1,topTeam:{striche:t.id===n?r.striche.top:t.teams.top.striche},bottomTeam:{striche:t.id===n?r.striche.bottom:t.teams.bottom.striche},showJassPoints:!1},"game-".concat(t.id))})})},na=function(t){var e=t.teams,n=t.games,r=t.currentGameId;tH(function(t){return t.scores});var o=tH(function(t){return t.weisPoints}),i=tH(function(t){return t.jassPoints}),a=(0,j.q_)({from:{opacity:.3,transform:"scale(0.97)"},to:{opacity:1,transform:"scale(1)"},reset:!0,key:"".concat(i.top+i.bottom+o.top+o.bottom),config:{tension:280,friction:20}});return(0,O.jsx)(j.q.div,{style:a,className:"flex flex-col w-full",children:n.map(function(t,n){return(0,O.jsx)(no,{gameId:t.id,spielNummer:n+1,topTeam:{striche:t.id===r?e.top.striche:t.teams.top.striche,jassPoints:t.id===r?i.top+o.top:t.teams.top.jassPoints+(t.teams.top.weisPoints||0)},bottomTeam:{striche:t.id===r?e.bottom.striche:t.teams.bottom.striche,jassPoints:t.id===r?i.bottom+o.bottom:t.teams.bottom.jassPoints+(t.teams.bottom.weisPoints||0)},showJassPoints:!0},t.id)})})};console.log("STATISTIC_MODULES wird geladen");var ns=[{id:"striche",title:"Strichergebnis",component:ni,calculateData:function(t){return{top:t.teams.top.total,bottom:t.teams.bottom.total}}},{id:"jasspunkte",title:"Punkte",component:na,calculateData:function(t){return{top:t.teams.top.jassPoints,bottom:t.teams.bottom.jassPoints}}}];console.log("STATISTIC_MODULES:",ns);var nc=n(1120),nl=n.n(nc);function nu(t){return(nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function nd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nf(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==nu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==nu(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===nu(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nf(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function nm(){nm=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(e,n,r,i){var a,s,c=Object.create((n&&n.prototype instanceof g?n:g).prototype);return o(c,"_invoke",{value:(a=new T(i||[]),s=d,function(n,o){if(s===m)throw Error("Generator is already running");if(s===h){if("throw"===n)throw o;return{value:t,done:!0}}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=function e(n,r){var o=r.method,i=n.iterator[o];if(i===t)return r.delegate=null,"throw"===o&&n.iterator.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+o+"' method")),p;var a=f(i,n.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var s=a.arg;return s?s.done?(r[n.resultName]=s.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,p)}(i,a);if(c){if(c===p)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var l=f(e,r,a);if("normal"===l.type){if(s=a.done?h:"suspendedYield",l.arg===p)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(s=h,a.method="throw",a.arg=l.arg)}})}),c}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",m="executing",h="completed",p={};function g(){}function y(){}function b(){}var v={};l(v,a,function(){return this});var S=Object.getPrototypeOf,x=S&&S(S(P([])));x&&x!==n&&r.call(x,a)&&(v=x);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function N(t,e){var n;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==nu(u)&&r.call(u,"__await")?e.resolve(u.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):e.resolve(u).then(function(t){l.value=t,a(l)},function(t){return n("throw",t,a,s)})}s(c.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}})}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw TypeError(nu(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(N.prototype),l(N.prototype,s,function(){return this}),e.AsyncIterator=N,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new N(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),l(w,c,"Generator"),l(w,a,function(){return this}),l(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function nh(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){n(t);return}s.done?e(c):Promise.resolve(c).then(r,o)}function np(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){nh(i,r,o,a,s,"next",t)}function s(t){nh(i,r,o,a,s,"throw",t)}a(void 0)})}}var ng=function(){(0,ty.HB)(function(t){return t.jassFinishNotification});var t=(0,ty.HB)(),e=t.jassFinishNotification,n=e.isOpen,r=e.message,o=void 0===r?{text:"Jass beendet!",icon:""}:r,i=e.mode,a=void 0===i?"share":i,s=e.onShare,c=void 0===s?np(nm().mark(function t(){return nm().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)})):s,l=e.onBack,u=void 0===l?function(){}:l,f=e.onContinue,d=void 0===f?function(){}:f,m=t.closeJassFinishNotification,h=(0,ty.HB)(function(t){return"top"===t.resultatKreidetafel.swipePosition}),p=(0,w.useMemo)(function(){if("string"!=typeof o&&o.icon)return[o.icon];var t=[],e=("string"==typeof o?o:o.text).toLowerCase();return e.includes("schneider")?t.push(""):(e.includes("unentschieden")?t.push("\uD83E\uDD1D"):e.includes("vernichtend")?t.push("\uD83D\uDCA5"):e.includes("knapp")&&t.push("\uD83D\uDE05"),e.includes("matsch")&&t.push("\uD83D\uDCAA"),e.includes("rekord")&&t.push("\uD83C\uDFC6"),(e.includes("schnell")||e.includes("blitz"))&&t.push(""),(e.includes("langsam")||e.includes("gem\xfctlich"))&&t.push(""),0===t.length&&("share"===a?t.push("\uD83C\uDF89"):t.push("string"==typeof o?"\uD83C\uDFB2":o.icon))),t},[o,a]),g=(0,w.useMemo)(function(){return"share"===a?(0,O.jsx)("img",{src:"/welcome-guru.png",alt:"Jass Guru",className:"w-64 h-64 object-cover mb-6 rounded-lg"}):(0,O.jsx)("div",{className:"text-6xl mb-4",children:p.map(function(t,e){return(0,O.jsx)("span",{className:"mx-1",children:t},e)})})},[a,p]),y=(0,w.useCallback)(np(nm().mark(function t(){var e,n,r;return nm().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!c){t.next=4;break}return t.next=4,c();case 4:if(e="string"==typeof o?o:o.text,n="https://jassguru.web.app",r="".concat(e,"\n\nGeneriert mit \uD83D\uDC49 ").concat(n),!navigator.share){t.next=20;break}return t.prev=8,t.next=11,navigator.share({text:r});case 11:t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(8),console.error("Share failed:",t.t0),t.next=18,navigator.clipboard.writeText(r);case 18:t.next=22;break;case 20:return t.next=22,navigator.clipboard.writeText(r);case 22:m(),t.next=28;break;case 25:t.prev=25,t.t1=t.catch(0),console.error("Share error:",t.t1);case 28:case"end":return t.stop()}},t,null,[[0,25],[8,13]])})),[c,o,m]),b=(0,w.useCallback)(function(){u&&u(),m()},[u,m]),v=(0,w.useCallback)(function(){d&&d(),m()},[d,m]),S=(0,el.m)(b),x=(0,el.m)("share"===a?y:v);return(0,w.useEffect)(function(){n&&ty.HB.setState(function(t){return{}})},[n]),(0,O.jsx)(tv.M,{children:n&&(0,O.jsxs)(tS.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-[9999] ".concat(h?"rotate-180":""),children:[(0,O.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:b}),(0,O.jsxs)(tS.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white z-10",children:[(0,O.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[g,(0,O.jsx)("div",{className:"text-center mb-6",children:(0,O.jsx)("p",{className:"mb-2",children:"string"==typeof o?o:o.text})})]}),(0,O.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,O.jsx)("button",nd(nd({},S.handlers),{},{className:"\n                  flex-1 bg-gray-600 text-white px-6 py-2 rounded-full \n                  hover:bg-gray-700 transition-colors text-lg font-semibold\n                  ".concat(S.buttonClasses,"\n                "),children:"Zur\xfcck"})),"share"===a?(0,O.jsx)("button",nd(nd({},x.handlers),{},{className:"\n                    flex-1 bg-yellow-600 text-white px-6 py-2 rounded-full \n                    hover:bg-yellow-700 transition-colors text-lg font-semibold\n                    ".concat(x.buttonClasses,"\n                  "),children:"Teilen"})):(0,O.jsx)("button",nd(nd({},x.handlers),{},{className:"\n                    flex-1 bg-green-600 text-white px-6 py-2 rounded-full \n                    hover:bg-green-700 transition-colors text-lg font-semibold\n                    ".concat(x.buttonClasses,"\n                  "),children:"Weiterjassen!"}))]})]})]})})},ny=[function(t){return{text:"Was f\xfcr ein spannendes Spiel - nur ".concat(Math.abs(t.gesamtStand.team1-t.gesamtStand.team2)," Striche trennen die Teams!"),icon:"\uD83D\uDE05"}},function(t){return{text:"Das ist Nervenkitzel pur - die Teams trennen nur wenige Striche!",icon:"\uD83E\uDEE3"}},function(t){return{text:"Kopf an Kopf - hier ist noch alles m\xf6glich!",icon:"\uD83E\uDEE2"}},function(t){return{text:"Ein echter Krimi - jeder Strich z\xe4hlt jetzt!",icon:"\uD83E\uDDB9"}},function(t){return{text:"So eng war's schon lange nicht mehr - wer beh\xe4lt die Nerven?",icon:"\uD83E\uDEE6"}}],nb=[function(t){var e=t.previousGesamtStand.team1-t.previousGesamtStand.team2,n=t.gesamtStand.team1-t.gesamtStand.team2;return e<-3&&n>0||e>3&&n<0?{text:"Was f\xfcr eine Aufholjagd! ".concat(t.winnerNames.join(" & ")," drehen einen ").concat(Math.abs(e),"-Punkte-R\xfcckstand!"),icon:"\uD83E\uDD73"}:null},function(t){var e=t.previousGesamtStand.team1-t.previousGesamtStand.team2,n=t.gesamtStand.team1-t.gesamtStand.team2;return e<-3&&n>0||e>3&&n<0?{text:"".concat(t.winnerNames.join(" & ")," beweisen Kampfgeist - vom R\xfcckstand zum Sieg!"),icon:"\uD83E\uDD29"}:null}],nv=[function(t){return{text:"Autsch! ".concat(t.loserNames.join(" & ")," wurden beschneidert! Das tut weh!"),icon:""}},function(t){return{text:"".concat(t.loserNames.join(" & ")," haben gek\xe4mpft wie das tapfere Schneiderlein... am Ende wurden sie trotzdem beschnitten!"),icon:""}},function(t){return{text:"Schnipp, schnapp, Schneider! ".concat(t.loserNames.join(" & ")," wurden zurechtgestutzt!"),icon:""}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben ").concat(t.loserNames.join(" & ")," regelrecht filetiert - Schneider!"),icon:"\uD83C\uDF7D"}},function(t){return{text:"Brutal! ".concat(t.winnerNames.join(" & ")," haben die Schere richtig angesetzt!"),icon:"\uD83D\uDC87"}},function(t){return{text:"Schneider! ".concat(t.loserNames.join(" & ")," wurden von ").concat(t.winnerNames.join(" & ")," regelrecht zerschnippelt!"),icon:"\uD83E\uDD9E"}},function(t){return{text:"Eine messerscharfe Vorstellung von ".concat(t.winnerNames.join(" & ")," - Beschneiderung f\xfcr die Gegner!"),icon:"\uD83D\uDD2A"}},function(t){return{text:"Das war chirurgisch pr\xe4zise! ".concat(t.loserNames.join(" & ")," wurden sauber beschnitten!"),icon:""}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben die Schneider-Schere ausgepackt - autsch!"),icon:""}},function(t){return{text:"Schneiderei deluxe! ".concat(t.loserNames.join(" & ")," wurden fachgerecht gestutzt!"),icon:"\uD83E\uDD9E"}}],nS=function(t,e){return function(){return{text:t,icon:e}}},nx={blitz_schnell:[nS("Zack, zack - das ging aber flott!",""),nS("Blitzschnell gespielt!","")],schnell:[nS("Ein flottes Spielchen!","\uD83D\uDC07"),nS("Z\xfcgig durchgespielt!","\uD83D\uDC07")],normal:[nS("Ein sch\xf6nes Spiel!",""),nS("Genau richtig getaktet!","")],gemtlich:[nS("Da wurde jede Karte gut \xfcberlegt!","\uD83D\uDC22"),nS("Ein gem\xfctliches Spielchen!","\uD83E\uDDA5"),nS("Gut Ding will Weile haben!","\uD83D\uDC0C")],marathon:[nS("Ein echter Marathon-Jass - die Gl\xe4ser waren wohl nie leer!","\uD83D\uDC0C\uD83C\uDF7A"),nS("Nach diesem Marathon-Jass seid ihr hoffentlich noch fahrt\xfcchtig!","\uD83D\uDC0C\uD83C\uDF7B"),nS("Das war ein Marathon! Zum Gl\xfcck war genug zu trinken da!","\uD83D\uDC0C\uD83C\uDF7A"),nS("Ein Jass der l\xe4ngeren Sorte - die Wirtin hatte ihre Freude!","\uD83D\uDC0C\uD83C\uDF7B"),nS("Marathon-Jass vom Feinsten! Prost!","\uD83D\uDC0C\uD83C\uDF7A")]},nw=function(t){var e=Math.floor(t/36e5),n=Math.floor(t%36e5/6e4);return e>0?"".concat(e," ").concat(1===e?"Stunde":"Stunden"," und ").concat(n," ").concat(1===n?"Minute":"Minuten"):"".concat(n," ").concat(1===n?"Minute":"Minuten")},nj=function(t,e){return function(n){return{text:t(nw(n.timerAnalytics.totalJassTime)),icon:e}}},nN={blitz_schnell:[nj(function(t){return"Rasanter Jass in nur ".concat(t,"!")},"\uD83C\uDFC3"),nj(function(t){return"Schneller als der Blitz: ".concat(t," von Start bis Ziel!")},""),nj(function(t){return"Express-Jass in ".concat(t," - Rekordverd\xe4chtig!")},"\uD83D\uDCA8")],schnell:[nj(function(t){return"Z\xfcgig durchgespielt in ".concat(t,"!")},"\uD83D\uDC07"),nj(function(t){return"Ein flottes Spielchen von ".concat(t)},"\uD83D\uDC07"),nj(function(t){return"".concat(t," - das nenne ich effizientes Jassen!")},"\uD83D\uDC07")],normal:[nj(function(t){return"Ein perfekt getakteter Jass von ".concat(t)},""),nj(function(t){return"".concat(t," geselliges Jassen - wie es sein soll!")},"\uD83E\uDD73"),nj(function(t){return"".concat(t," Jassvergn\xfcgen in bester Gesellschaft")},"\uD83C\uDF7B")],gemtlich:[nj(function(t){return"Gem\xfctliche ".concat(t," mit viel Zeit zum \xdcberlegen")},"\uD83E\uDDA5"),nj(function(t){return"".concat(t," entspanntes Jassen - Qualit\xe4t braucht Zeit!")},"\uD83D\uDC22"),nj(function(t){return"Ein gediegener Jass von ".concat(t," - herrlich!")},"\uD83D\uDC0C")],marathon:[nj(function(t){return"Ein epischer Jass-Marathon von ".concat(t,"!")},"\uD83C\uDFC3"),nj(function(t){return"Legend\xe4re ".concat(t," Jassvergn\xfcgen!")},"\uD83D\uDC51"),nj(function(t){return"".concat(t," purer Jass-Genuss - ein Fest!")},"\uD83C\uDFC3"),nj(function(t){return"Ein Marathon-Jass f\xfcr die Geschichtsb\xfccher: ".concat(t,"!")},"\uD83D\uDCDA")]},nE={comeback:[function(t){return{text:"Was f\xfcr eine Aufholjagd von ".concat(t.winnerNames.join(" & "),"! \uD83D\uDCAA"),icon:"\uD83C\uDFC7"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," drehen das Spiel - stark gek\xe4mpft!"),icon:""}},function(t){return{text:"Die Wende ist geschafft! ".concat(t.winnerNames.join(" & ")," holen sich den Sieg!"),icon:"\uD83E\uDD73"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," geben die F\xfchrung noch aus der Hand - bitter!"),icon:"\uD83D\uDE05"}},function(t){return{text:"Von wegen aussichtslos! ".concat(t.winnerNames.join(" & ")," zeigen wie man k\xe4mpft!"),icon:""}}],fhrungswechsel:[function(t){return{text:"Der Spie\xdf wurde umgedreht! ".concat(t.winnerNames.join(" & ")," \xfcbernehmen die F\xfchrung!"),icon:" \uD83E\uDD73"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," m\xfcssen die F\xfchrung abgeben - das tut weh!"),icon:"\uD83D\uDE2C"}},function(t){return{text:"F\xfchrungswechsel! ".concat(t.winnerNames.join(" & ")," setzen sich an die Spitze!"),icon:"\uD83E\uDD2F"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," melden sich zur\xfcck - jetzt wird's spannend!"),icon:"\uD83E\uDD73"}},function(t){return{text:"Das Blatt hat sich gewendet! ".concat(t.winnerNames.join(" & ")," liegen vorne!"),icon:"\uD83E\uDD2F"}}],aufholjagd_ntig:[function(t){return{text:"".concat(t.loserNames.join(" & "),", jetzt hei\xdft's \xc4rmel hochkrempeln - da ist noch viel Arbeit!"),icon:"\uD83D\uDCAA"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," brauchen jetzt eine echte Aufholjagd!"),icon:"\uD83C\uDFC3"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," ziehen davon - Zeit f\xfcr ein Comeback der anderen!"),icon:"\uD83D\uDE30"}},function(t){return{text:"Die Luft wird d\xfcnn f\xfcr ".concat(t.loserNames.join(" & ")," - aber aufgeben ist keine Option!"),icon:"\uD83E\uDD7A"}},function(t){return{text:"".concat(t.loserNames.join(" & "),", jetzt oder nie - Zeit f\xfcr die gro\xdfe Aufholjagd!"),icon:""}}],fhrung_ausgebaut:[function(t){return{text:"".concat(t.winnerNames.join(" & ")," bauen ihre F\xfchrung weiter aus - das sieht gut aus!"),icon:"\uD83D\uDE0E"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," legen noch einen drauf - stark!"),icon:"\uD83D\uDE0E"}},function(t){return{text:"Die F\xfchrung wird gr\xf6sser und gr\xf6sser - ".concat(t.winnerNames.join(" & ")," sind on fire! \uD83D\uDD25"),icon:"\uD83E\uDD29"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," machen ernst - der Vorsprung w\xe4chst!"),icon:"\uD83D\uDE0E"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," m\xfcssen aufpassen - der R\xfcckstand wird immer gr\xf6sser!"),icon:"\uD83D\uDE33"}}],knapp_gesamt:ny,dominierend:[function(t){return{text:"".concat(t.winnerNames.join(" & ")," sind auf Siegeskurs - nur noch wenige Striche bis zum Triumph!"),icon:"\uD83C\uDFC6"}},function(t){return{text:"Die Luft wird d\xfcnn! ".concat(t.winnerNames.join(" & ")," wittern den Sieg!"),icon:"\uD83E\uDD73"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben den Sieg vor Augen - jetzt bloss nicht nachlassen!"),icon:"\uD83C\uDFAF"}},function(t){return{text:"Das riecht nach Sieg f\xfcr ".concat(t.winnerNames.join(" & "),"!"),icon:"\uD83D\uDC43"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," sind auf der Zielgeraden - gleich ist es geschafft!"),icon:"\uD83C\uDFC1"}}],ehrenpunkte:[function(t){return{text:"".concat(t.loserNames.join(" & ")," k\xe4mpfen tapfer weiter - Respekt f\xfcr den Durchhaltewillen!"),icon:"\uD83C\uDF96"}},function(t){return{text:"Auch wenn's schwer wird - ".concat(t.loserNames.join(" & ")," geben nicht auf!"),icon:"\uD83D\uDCAA"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," zeigen Charakter und spielen trotz R\xfcckstand weiter!"),icon:"\uD83C\uDFC5"}},function(t){return{text:"Der R\xfcckstand ist gross, aber ".concat(t.loserNames.join(" & ")," k\xe4mpfen um jeden Punkt!"),icon:""}},function(t){return{text:"Aufgeben ist keine Option f\xfcr ".concat(t.loserNames.join(" & ")," - weiter so!"),icon:"\uD83C\uDF1F"}}],matsch:[function(t){return{text:"Ein Matsch f\xfcr ".concat(t.winnerNames.join(" & "),"! Weiter so!"),icon:"\uD83D\uDC4D"}},function(){return{text:"Matsch! Das gibt ordentlich Punkte!",icon:"\uD83D\uDC4D"}}],schneider:nv},nO={unentschieden:[function(){return{text:"Was f\xfcr ein Jass! Am Ende steht es unentschieden!",icon:"\uD83E\uDD1D"}},function(){return{text:"Unglaublich - nach all den Spielen steht es gleich!",icon:"\uD83E\uDD2F"}},function(){return{text:"Wie die Zwillinge im Horoskop - perfekt ausgeglichen!",icon:""}},function(){return{text:"Keiner gewinnt, keiner verliert - Jass-Zen in Perfektion!",icon:""}},function(){return{text:"Ein Unentschieden? Das muss man auch erst mal schaffen!",icon:"\uD83C\uDFAF"}},function(){return{text:"Gleichstand nach epischem Kampf - Salomon w\xe4re stolz!",icon:"\uD83D\uDC51"}},function(){return{text:"Zwei Teams, ein Punktestand - das ist Jass-Poesie!",icon:"\uD83D\uDCDD"}},function(){return{text:"Punktgleichheit? Da mussten die Mathematiker zweimal rechnen!",icon:"\uD83E\uDDEE"}},function(){return{text:"Ein historischer Moment - selbst die Jass-G\xf6tter applaudieren!",icon:"\uD83D\uDC4F"}},function(){return{text:"Beide Teams waren so gut, dass sich sogar die Punkte nicht entscheiden konnten!",icon:"\uD83C\uDFAD"}}],comeback:nb,hauchdnn:[function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben mit EINEM Strich Vorsprung gewonnen - knappe Siege sind die sch\xf6nsten!"),icon:"\uD83D\uDD7A"}},function(t){return{text:"Knapper ging's nicht! ".concat(t.winnerNames.join(" & ")," gewinnen mit einem Strich!"),icon:"\uD83C\uDFAF"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," h\xe4tten nur EINEN Strich mehr gebraucht... bitter!"),icon:"\uD83D\uDE24"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," gewinnen hauchzart - das war Millimeterarbeit!"),icon:"\uD83D\uDCCF"}},function(t){return{text:"Ein Wimpernschlag entscheidet - ".concat(t.loserNames.join(" & ")," fehlt genau EIN Punkt!"),icon:"\uD83D\uDC41"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben das Qu\xe4ntchen Gl\xfcck auf ihrer Seite!"),icon:"\uD83C\uDF40"}},function(t){return{text:"Autsch! ".concat(t.loserNames.join(" & ")," verlieren um Haaresbreite"),icon:"\uD83E\uDD2C"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," zittern sich zum Sieg - knapper geht's nicht!"),icon:"\uD83D\uDE30"}},function(t){return{text:"Ein Strich zwischen Himmel und H\xf6lle - ".concat(t.loserNames.join(" & ")," fehlt haarscharf der Sieg"),icon:"\uD83D\uDE2B"}}],knapp:[function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben den Jass knapp f\xfcr sich entschieden!"),icon:"\uD83C\uDFB4"}},function(t){return{text:"Die W\xfcrfel sind knapp zu Gunsten von ".concat(t.winnerNames.join(" & ")," gefallen!"),icon:"\uD83C\uDFB2"}},function(t){return{text:"Ein Kopf-an-Kopf-Rennen, aber ".concat(t.winnerNames.join(" & ")," haben die Nase vorn!"),icon:"\uD83C\uDFC3"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," schnuppern am Sieg - aber es reicht nicht ganz"),icon:"\uD83D\uDC43"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," klettern knapp auf den Siegerthron."),icon:"\uD83D\uDC51"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben den l\xe4ngeren Atem bewiesen!"),icon:"\uD83C\uDF2C"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben etwas besser abglupft!"),icon:"\uD83C\uDFB4"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben die wichtigen Tr\xfcmpfe zur richtigen Zeit gespielt!"),icon:""}},function(t){return{text:"Knapp gewonnen ist auch gewonnen - gut gespielt, ".concat(t.winnerNames.join(" & "),"!"),icon:"\uD83C\uDFAF"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben die entscheidenden Stiche gemacht!"),icon:"\uD83C\uDCCF"}}],deutlich:[function(t){return{text:"".concat(t.winnerNames.join(" & ")," lassen keine Zweifel am Sieg - das war deutlich!"),icon:"\uD83D\uDCAA"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," m\xfcssen sich geschlagen geben - da war mehr drin!"),icon:"\uD83E\uDD37"}},function(t){return{text:"Klarer Sieg f\xfcr ".concat(t.winnerNames.join(" & ")," - die Karten haben heute gesprochen!"),icon:"\uD83C\uDFB4"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben den Jass im Griff gehabt!"),icon:""}},function(t){return{text:"Da hilft auch kein Jammern mehr - ".concat(t.winnerNames.join(" & ")," waren einfach besser!"),icon:"\uD83D\uDE24"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," haben heute mit Trump statt Trumpf gespielt!"),icon:"\uD83C\uDCCF"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," zeigen, wie man einen Jass nach Hause bringt!"),icon:"\uD83C\uDFC6"}},function(t){return{text:"Die Rechnung geht auf: ".concat(t.winnerNames.join(" & ")," gewinnen souver\xe4n!"),icon:"\uD83E\uDDEE"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," haben beim Ablupfen die Nerven verloren!"),icon:"\uD83C\uDFAF"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben das Spiel diktiert - verdienter Sieg!"),icon:"\uD83D\uDC4A"}}],hoch:[function(t){return{text:"".concat(t.winnerNames.join(" & ")," dominieren den Jass!"),icon:"\uD83D\uDC51"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," haben vergeblich auf ein Comeback gehofft..."),icon:"\uD83D\uDE14"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben heute alle Tr\xfcmpfe in der Hand gehabt!"),icon:"\uD83C\uDFAF"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden regelrecht \xfcbertrumpft!"),icon:"\uD83D\uDCA5"}},function(t){return{text:"Eine Jass-Lektion von ".concat(t.winnerNames.join(" & "),"!"),icon:"\uD83D\uDCDA"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," hatten heute keine Chance gegen diese Kartenkunst!"),icon:"\uD83C\uDFB4"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben die Karten heute tanzen lassen!"),icon:"\uD83D\uDC83"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden heute richtig alt aussehen gelassen!"),icon:"\uD83D\uDC74"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben heute alle Register gezogen!"),icon:"\uD83C\uDFAA"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden heute regelrecht vorgef\xfchrt!"),icon:"\uD83C\uDFAD"}}],sehr_hoch:[function(t){return{text:"".concat(t.winnerNames.join(" & ")," machen kurzen Prozess!"),icon:""}},function(t){return{text:"".concat(t.loserNames.join(" & ")," kriegen heute einen Einlauf!"),icon:" \uD83D\uDCA6"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden heute in Grund und Boden gejasst!"),icon:""}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," spielen in einer anderen Liga!"),icon:"\uD83C\uDFC6"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," sollten vielleicht UNO spielen statt Jassen..."),icon:"\uD83C\uDCCF"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," zeigen keine Gnade - brutaler Sieg!"),icon:"\uD83D\uDD25"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden heute regelrecht zerlegt!"),icon:"\uD83E\uDE9A"}},function(t){return{text:"Das grenzt an K\xf6rperverletzung, was ".concat(t.winnerNames.join(" & ")," hier abziehen!"),icon:"\uD83E\uDD15"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden heute zum Jass-Statisten degradiert!"),icon:"\uD83C\uDFAC"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," f\xfchrten heute eine \xf6ffentliche Jass-Hinrichtung durch!"),icon:""}}],vernichtend:[function(t){return{text:"".concat(t.winnerNames.join(" & ")," richten ein Massaker an!"),icon:"\uD83D\uDD2A"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden gerade \xf6ffentlich hingerichtet!"),icon:""}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," zermalmen alles zu Staub!"),icon:"\uD83D\uDCA3"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden atomisiert - das tat beim Zuschauen weh!"),icon:""}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," veranstalten hier ein Blutbad!"),icon:"\uD83E\uDE78"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden gerade aus dem Jass-Universum geschossen!"),icon:"\uD83D\uDE80"}},function(t){return{text:"Brutaler geht's nicht! ".concat(t.winnerNames.join(" & ")," zerst\xf6ren alles!"),icon:"\uD83D\uDCA5"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," sollten sich einen neuen Sport suchen..."),icon:"\uD83C\uDFF3"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," spielen wie die G\xf6tter - das ist Jass-Perfektion!"),icon:"\uD83D\uDC79"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden gerade aus allen Dimensionen gejasst!"),icon:"\uD83C\uDF2A"}}],matsch:[function(t){return{text:"Ein Matsch f\xfcr ".concat(t.winnerNames.join(" & "),"! Weiter so!"),icon:"\uD83D\uDC4D"}},function(){return{text:"Matsch! Das gibt ordentlich Punkte!",icon:"\uD83D\uDC4D"}}],schneider:nv},nT={gameEnd:nx,jassEnd:nN};function nP(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return nk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nk(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var nC=[function(t){var e=nP("Team 1"===t.winnerNames[0]?[t.gesamtStand.team1,t.gesamtStand.team2]:[t.gesamtStand.team2,t.gesamtStand.team1],2),n=e[0],r=e[1];return{text:"".concat(n," : ").concat(r," Striche"),icon:""}},function(t){var e=nP("Team 1"===t.winnerNames[0]?[t.gesamtStand.team1,t.gesamtStand.team2]:[t.gesamtStand.team2,t.gesamtStand.team1],2),n=e[0],r=e[1];return{text:"".concat(n,":").concat(r),icon:""}}];function nA(t){return t[Math.floor(Math.random()*t.length)]}var nI=[function(t){var e,n=tp.getState(),r=tH.getState(),o={top:tn(e=n.games,"top"),bottom:tn(e,"bottom")},i={team1:o.bottom.matsch,team2:o.top.matsch},a=[r.playerNames[1]||"Spieler 1",r.playerNames[3]||"Spieler 3"],s=[r.playerNames[2]||"Spieler 2",r.playerNames[4]||"Spieler 4"],c=i.team1+i.team2,l=t.stricheDifference,u=l>0,f=l<0,d=i.team1-i.team2;if("jassEnd"===t.type&&0===c)return nA([{text:"Keine Matsche in diesem Jass!",icon:"\uD83D\uDE34"},{text:"Ein matschloser Jass - aber spannend war's trotzdem!",icon:"\uD83E\uDD71"},{text:"Heute waren keine Matsche drin!",icon:"\uD83D\uDE34"},{text:"Ein Jass ohne Matsche - auch das gibt's!",icon:"\uD83E\uDD71"},{text:"Matschfrei gespielt - daf\xfcr mit viel Taktik!",icon:"\uD83D\uDE34"},{text:"Kein einziger Matsch heute - daf\xfcr viele sch\xf6ne Stiche!",icon:"\uD83E\uDD71"}]);if(t.isUnentschieden){if(1===c)return 1===i.team1?{text:"".concat(a.join(" & ")," holten den einzigen Matsch in diesem unentschiedenen Jass!"),icon:"\uD83D\uDC46"}:{text:"".concat(s.join(" & ")," holten den einzigen Matsch in diesem unentschiedenen Jass!"),icon:"\uD83D\uDC46"};if(i.team1===i.team2){var m=1===i.team1?"je einen Matsch":"je ".concat(i.team1," Matsche");return{text:"Beide Teams haben ".concat(m," gemacht - passend zum Unentschieden!"),icon:"\uD83E\uDD1D"}}var h=i.team1>i.team2?a:s,p=Math.max(i.team1,i.team2),g=Math.min(i.team1,i.team2);return{text:"".concat(h.join(" & ")," f\xfchrten ").concat(p,":").concat(g," bei den Matschen  am Ende trotzdem Unentschieden!"),icon:"\uD83E\uDD1D"}}if("jassEnd"===t.type&&1===c)return 1===i.team1?u?20>=Math.abs(l)?nA([{text:"Ein Matsch, ein Sieg  perfekt gespielt von ".concat(a.join(" & "),"!"),icon:"\uD83D\uDE0E"}]):nA([{text:"Der einzige Matsch geht an ".concat(a.join(" & "),"!"),icon:"\uD83C\uDFC6"},{text:"".concat(a.join(" & ")," holen sich den Sieges-Matsch!"),icon:""},{text:"Der goldene Matsch geh\xf6rt ".concat(a.join(" & "),"!"),icon:"\uD83D\uDC51"}]):nA([{text:"".concat(a.join(" & ")," holten zwar den einzigen Matsch, verloren aber trotzdem!"),icon:"\uD83D\uDE05"},{text:"Der einzige Matsch ging an ".concat(a.join(" & "),", der Sieg aber nicht!"),icon:"\uD83E\uDD37"},{text:"".concat(a.join(" & ")," schnappten sich den Matsch  zum Sieg hat's trotzdem nicht gereicht!"),icon:"\uD83D\uDE24"}]):f?20>=Math.abs(l)?nA([{text:"Ein Matsch, ein Sieg  perfekt gespielt von ".concat(s.join(" & "),"!"),icon:""}]):nA([{text:"Der einzige Matsch geht an ".concat(s.join(" & "),"!"),icon:"\uD83C\uDFC6"},{text:"".concat(s.join(" & ")," holen sich den Sieges-Matsch!"),icon:"\uD83E\uDD73"},{text:"Der goldene Matsch geh\xf6rt ".concat(s.join(" & "),"!"),icon:"\uD83D\uDC51"}]):nA([{text:"".concat(s.join(" & ")," holten zwar den einzigen Matsch, verloren aber trotzdem!"),icon:"\uD83D\uDE05"},{text:"Der einzige Matsch ging an ".concat(s.join(" & "),", der Sieg aber nicht!"),icon:"\uD83E\uDD37"},{text:"".concat(s.join(" & ")," schnappten sich den Matsch  zum Sieg hat's trotzdem nicht gereicht!"),icon:"\uD83D\uDE2C"}]);if(i.team1===i.team2){var y=1===i.team1?"je einen Matsch":"je ".concat(i.team1," Matsche");return{text:"Beide Teams haben ".concat(y," gemacht!"),icon:"\uD83E\uDD1D"}}if(1===d){var b=i.team1>i.team2?a:s,v=i.team1>i.team2;return v&&u||!v&&f?nA([{text:"Der eine Matsch mehr hat ".concat(b.join(" & ")," zum Sieg verholfen!"),icon:"\uD83C\uDFC6"},{text:"Ein entscheidender Matsch-Vorsprung f\xfcr ".concat(b.join(" & "),"!"),icon:"\uD83E\uDD73"},{text:"Dieser eine Matsch mehr machte ".concat(b.join(" & ")," zu den Siegern!"),icon:"\uD83E\uDD73"}]):nA([{text:"Trotz einem Matsch mehr haben ".concat(b.join(" & ")," den Jass verloren!"),icon:"\uD83D\uDE2E"},{text:"Ein Matsch-Vorsprung hat ".concat(b.join(" & ")," heute nicht zum Sieg gereicht!"),icon:"\uD83E\uDD37"},{text:"Der eine Matsch mehr war heute leider zu wenig f\xfcr ".concat(b.join(" & "),"!"),icon:"\uD83D\uDE24"}])}if(!t.isUnentschieden&&"jassEnd"===t.type){var S=Math.max(i.team1,i.team2),x=Math.min(i.team1,i.team2),w=i.team1>i.team2?a:s,j=i.team1>i.team2?s:a,N=Math.abs(i.team1-i.team2),E=i.team1>i.team2;if(E&&u||!E&&f){if(N>=5)return nA([{text:"".concat(j.join(" & ")," wurden von ").concat(w.join(" & ")," regelrecht abgematscht! ").concat(S,":").concat(x,"!"),icon:"\uD83D\uDCAA"},{text:"Das war eine Matsch-Demonstration von ".concat(w.join(" & "),"! ").concat(S,":").concat(x,"!"),icon:"\uD83D\uDD25"},{text:"".concat(w.join(" & ")," haben ").concat(j.join(" & ")," heute keine Chance gelassen! ").concat(S,":").concat(x," Matsche!"),icon:"\uD83D\uDC4A"},{text:"".concat(j.join(" & ")," gingen heute in der Matsch-Schlacht unter! ").concat(S,":").concat(x,"!"),icon:"\uD83D\uDCA5"},{text:"Eine Matsch-Lektion von ".concat(w.join(" & "),"! ").concat(S,":").concat(x,"!"),icon:"\uD83D\uDCDA"}]);if(N>=3)return nA([{text:"".concat(w.join(" & ")," dominieren mit ").concat(S,":").concat(x," Matschen!"),icon:"\uD83D\uDCAA"},{text:"Eine klare Matsch-\xdcberlegenheit von ".concat(w.join(" & "),"! ").concat(S,":").concat(x,"!"),icon:"\uD83C\uDFAF"},{text:"".concat(w.join(" & ")," zeigen's heute allen  ").concat(S,":").concat(x," Matsche!"),icon:"\uD83D\uDD25"},{text:"".concat(j.join(" & ")," haben heute Matsch-Nachhilfe bekommen! ").concat(S,":").concat(x,"!"),icon:"\uD83D\uDCDD"}]);if(2===N)return nA([{text:"".concat(w.join(" & ")," waren heute bei den Matschen einfach st\xe4rker! ").concat(S,":").concat(x,"!"),icon:"\uD83D\uDCAB"},{text:"Mit ".concat(S,":").concat(x," Matschen zeigen ").concat(w.join(" & ")," wie's geht!"),icon:"\uD83D\uDC51"},{text:"".concat(w.join(" & ")," haben heute das Matsch-H\xe4ndchen! ").concat(S,":").concat(x,"!"),icon:""}])}}var O=i.team1>i.team2?a:s,T=Math.max(i.team1,i.team2),P=Math.min(i.team1,i.team2);return nA([{text:"".concat(T,":").concat(P," Matsche f\xfcr ").concat(O.join(" & "),"!"),icon:"\uD83C\uDFAF"},{text:"".concat(O.join(" & ")," sammeln ").concat(T," Matsche, ").concat(P," gehen an die Gegner!"),icon:"\uD83D\uDCCA"},{text:"".concat(T," zu ").concat(P," Matsche  Vorteil ").concat(O.join(" & "),"!"),icon:""},{text:"".concat(O.join(" & ")," holen sich ").concat(T," Matsche!"),icon:"\uD83C\uDFAA"}])}];function nL(t){return(nL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function nD(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==nL(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==nL(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===nL(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var nG={GAME:{KNAPP_GESAMT:2,DOMINIEREND:5,EHRENPUNKTE:6},JASS:{HAUCHDNN:1,KNAPP:3,DEUTLICH:5,HOCH:7,SEHR_HOCH:9,VERNICHTEND:10}},nM={GAME:{BLITZ:12e5,SCHNELL:24e5,NORMAL:48e5,GEMTLICH:Number.MAX_VALUE},JASS:{BLITZ:36e5,SCHNELL:54e5,NORMAL:108e5,GEMTLICH:18e6,MARATHON:Number.MAX_VALUE}};function n_(t,e){if(t&&0!==t.length){var n=t.map(function(t){return t(e)}).filter(function(t){return null!==t});if(0!==n.length)return n[Math.floor(Math.random()*n.length)]}}function nz(t){var e=t.isSchneider,n=t.gameStats,r=t.gesamtStand,o=t.type,i=t.isUnentschieden,a=t.previousGesamtStand;if(e)return["schneider"];var s=Math.abs(r.team1-r.team2);if("jassEnd"===o){if(i)return["unentschieden"];var c=a.team1-a.team2,l=r.team1-r.team2;return c<-3&&l>0||c>3&&l<0?["comeback"]:s<=nG.JASS.HAUCHDNN?["hauchd\xfcnn"]:s<=nG.JASS.KNAPP?["knapp"]:s<=nG.JASS.DEUTLICH?["deutlich"]:s<=nG.JASS.HOCH?["hoch"]:s<=nG.JASS.SEHR_HOCH?["sehr_hoch"]:["vernichtend"]}var u=[];return n.isComeback&&u.push("comeback"),n.fhrungsWechsel&&u.push("f\xfchrungswechsel"),s<=nG.GAME.KNAPP_GESAMT&&u.push("knapp_gesamt"),s>=nG.GAME.DOMINIEREND&&u.push("dominierend"),s>nG.GAME.EHRENPUNKTE&&u.push("ehrenpunkte"),u.length>0?u:["knapp_gesamt"]}function nH(t,e){var n=n_("jassEnd"===t.type&&Object.keys(nO).includes(e)?nO[e]:nE[e],t);if(!n)throw Error("Keine Spr\xfcche f\xfcr Kategorie ".concat(e," gefunden"));return n}function nB(t,e){var n="jassEnd"===e?nM.JASS:nM.GAME;return(console.log("[Zeit-Kategorie] ".concat(e,":"),{duration:"".concat((t/1e3/60).toFixed(2)," Minuten")}),t>=n.GEMTLICH)?"marathon":t>=n.NORMAL?"gem\xfctlich":t>=n.SCHNELL?"normal":t>=n.BLITZ?"schnell":"blitz_schnell"}function nF(t,e){return n_(nT["jassEnd"===t.type?"jassEnd":"gameEnd"][e],t)}function nK(t){var e,n,r,o=t.timerAnalytics,i=o.totalJassTime,a=o.currentGameDuration;if(console.log("[Spruch-Parameter]",{type:t.type,analytics:{currentGameDuration:"".concat((a/1e3/60).toFixed(2)," Minuten"),totalJassTime:"".concat((i/1e3/60).toFixed(2)," Minuten")}}),"jassEnd"===t.type){var s,c,l,u,f,d,m,h,p,g=(s=nz(t)[0],c=nH(t,s),l="jassEnd"===t.type?n_(nC,t):void 0,u="jassEnd"===t.type&&t.gameStats.fhrungsWechsel?{text:"".concat(t.gameStats.fhrungsWechsel?"Mit F\xfchrungswechsel":"Durchgehende F\xfchrung"),icon:"\uD83D\uDCCA"}:void 0,f=n_(nI,t),d=nB(t.timerAnalytics.totalJassTime,t.type),{hauptSpruch:c,resultatDetails:l,spielstatistik:u,zeitSpruch:nF(t,d),matchDetails:f}),y=nB(i,t.type);return m=nD(nD({},g),{},{zeitSpruch:nF(t,y)}),p="",(h=[]).push(m.hauptSpruch.text),p+=m.hauptSpruch.icon,m.resultatDetails&&(h.push(m.resultatDetails.text),p+=m.resultatDetails.icon),m.matchDetails&&(h.push(m.matchDetails.text),p+=m.matchDetails.icon),m.spielstatistik&&(h.push(m.spielstatistik.text),p+=m.spielstatistik.icon),m.zeitSpruch&&(h.push(m.zeitSpruch.text),p+=m.zeitSpruch.icon),{text:h.join("! ")+"!",icon:p}}var b=nz(t);return e={hauptSpruch:nH(t,b[0]),zeitSpruch:nF(t,nB(a,"gameEnd"))},r="",(n=[]).push(e.hauptSpruch.text),r+=e.hauptSpruch.icon,e.zusatzSpruch&&(n.push(e.zusatzSpruch.text),r+=e.zusatzSpruch.icon),e.zeitSpruch&&(n.push(e.zeitSpruch.text),r+=e.zeitSpruch.icon),{text:n.join("! ")+"!",icon:r}}function nW(t){return(nW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nU(){nU=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(e,n,r,i){var a,s,c=Object.create((n&&n.prototype instanceof g?n:g).prototype);return o(c,"_invoke",{value:(a=new T(i||[]),s=d,function(n,o){if(s===m)throw Error("Generator is already running");if(s===h){if("throw"===n)throw o;return{value:t,done:!0}}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=function e(n,r){var o=r.method,i=n.iterator[o];if(i===t)return r.delegate=null,"throw"===o&&n.iterator.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+o+"' method")),p;var a=f(i,n.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var s=a.arg;return s?s.done?(r[n.resultName]=s.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,p)}(i,a);if(c){if(c===p)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var l=f(e,r,a);if("normal"===l.type){if(s=a.done?h:"suspendedYield",l.arg===p)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(s=h,a.method="throw",a.arg=l.arg)}})}),c}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",m="executing",h="completed",p={};function g(){}function y(){}function b(){}var v={};l(v,a,function(){return this});var S=Object.getPrototypeOf,x=S&&S(S(P([])));x&&x!==n&&r.call(x,a)&&(v=x);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function N(t,e){var n;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==nW(u)&&r.call(u,"__await")?e.resolve(u.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):e.resolve(u).then(function(t){l.value=t,a(l)},function(t){return n("throw",t,a,s)})}s(c.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}})}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw TypeError(nW(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(N.prototype),l(N.prototype,s,function(){return this}),e.AsyncIterator=N,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new N(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),l(w,c,"Generator"),l(w,a,function(){return this}),l(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function nJ(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){n(t);return}s.done?e(c):Promise.resolve(c).then(r,o)}function nX(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){nJ(i,r,o,a,s,"next",t)}function s(t){nJ(i,r,o,a,s,"throw",t)}a(void 0)})}}function nV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function nZ(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nV(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==nW(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==nW(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===nW(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nV(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function nY(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return nq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nq(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nq(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var n$=function(t){var e=t.name,n=t.isStarter,r=(0,w.useRef)(null),o=nY((0,w.useState)(e),2),i=o[0],a=o[1];return(0,w.useEffect)(function(){var t=function(){var t=r.current;if(t){var o=document.createElement("div");o.style.visibility="hidden",o.style.position="absolute",o.style.whiteSpace="nowrap",o.className=t.className,o.textContent=e+(n?" ":""),document.body.appendChild(o);var i=o.offsetWidth,s=1.25*t.offsetWidth;if(document.body.removeChild(o),i>s){for(var c=0,l=e.length;c<l;){var u=Math.floor((c+l+1)/2);o.textContent=e.slice(0,u)+(n?"":""),document.body.appendChild(o);var f=o.offsetWidth;document.body.removeChild(o),f<=s?c=u:l=u-1}a(e.slice(0,c))}else a(e)}};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}},[e,n]),(0,O.jsx)("div",{ref:r,className:"text-center text-gray-400 px-1",children:(0,O.jsxs)("span",{className:"inline-block",children:[i,n&&(0,O.jsx)("span",{children:""})]})})},nQ=function(){var t,e,n,r,o=(0,ty.HB)(function(t){return t.resultatKreidetafel.isOpen}),i=(0,ty.HB)(function(t){return t.resultatKreidetafel.swipePosition}),a=tp(function(t){return t.games}),s=(0,w.useMemo)(function(){return te.getState().getAnalytics()},[a.length]),c=nY(w.useState(null),2),l=c[0],u=c[1],f=nY(w.useState(null),2),d=f[0],m=f[1],h=nY(w.useState(null),2),p=h[0],g=h[1],y=(0,ty.HB)(function(t){return t.resultatKreidetafel.currentStatistic}),b=(0,w.useCallback)(function(){ty.HB.setState(function(t){return{resultatKreidetafel:nZ(nZ({},t.resultatKreidetafel),{},{isOpen:!1}),jassFinishNotification:{isOpen:!1,mode:"share",message:{text:"",icon:""},onShare:void 0,onBack:void 0,onContinue:void 0}}})},[]),v=tH(function(t){return t.playerNames}),S=tH(function(t){var e,n;return null!==(e=null===(n=t.scores)||void 0===n?void 0:n.top)&&void 0!==e?e:0}),x=tH(function(t){var e,n;return null!==(e=null===(n=t.scores)||void 0===n?void 0:n.bottom)&&void 0!==e?e:0});tH(function(t){return t.weisPoints});var N="top"===i,E=(0,e5.ZP)(new Date,"d.M.yyyy"),T=ns.find(function(t){return t.id===y}),P=tp(function(t){return t.canNavigateBack()}),k=tp(function(t){return t.canNavigateForward()}),C=tH(function(t){return t.striche}),A=(0,w.useMemo)(function(){return{top:nZ(nZ({},C.top),{},{normal:tr(C.top)}),bottom:nZ(nZ({},C.bottom),{},{normal:tr(C.bottom)})}},[C]),I=(0,w.useMemo)(function(){return C.top.sieg>0||C.bottom.sieg>0},[C]),L=(0,w.useCallback)(function(){var t=tp.getState(),e=tH.getState();if(t.canNavigateBack()){t.navigateToPreviousGame();var n=t.getCurrentGame();n&&(e.resetGame(),tH.setState(function(t){return nZ(nZ({},t),{},{isGameStarted:!0,currentRound:n.currentRound||1,currentPlayer:n.currentPlayer,scores:{top:(n.teams.top.jassPoints||0)+(n.teams.top.weisPoints||0),bottom:(n.teams.bottom.jassPoints||0)+(n.teams.bottom.weisPoints||0)},weisPoints:{top:n.teams.top.weisPoints,bottom:n.teams.bottom.weisPoints},striche:{top:nZ({},n.teams.top.striche),bottom:nZ({},n.teams.bottom.striche)},roundHistory:n.roundHistory||[],isGameCompleted:!1,isRoundCompleted:!1})}))}},[]),R=(0,w.useCallback)(function(){var t=tp.getState(),e=tH.getState();if(t.canNavigateForward())try{console.log("\uD83D\uDD04 [START] Navigation zum n\xe4chsten Spiel initiieren...");var n=e.striche;if(!(n.top.sieg>0||n.bottom.sieg>0)){ty.HB.getState().showNotification({message:"Bitte erst bedanken, bevor zum n\xe4chsten Spiel navigiert wird.",type:"warning",position:"top"===i?"top":"bottom",isFlipped:"top"===i,actions:[{label:"Verstanden",onClick:b}]});return}console.log(' "Bedanken" vorhanden, Navigation kann fortgesetzt werden'),t.finalizeGame(),console.log(" Aktuelles Spiel finalisiert");var r=t.currentGameId+1;console.log("\uD83C\uDFB2 Navigation zu Spiel #".concat(r," wird vorbereitet...")),t.navigateToNextGame(),console.log(" Navigation zu Spiel #".concat(t.currentGameId," abgeschlossen")),console.log(" Timer-Reaktivierung wird durchgef\xfchrt...");var o=te.getState();if(o.reactivateGameTimer(t.currentGameId),console.log(" Timer wurden reaktiviert mit:",{gameId:t.currentGameId,gameStartTime:new Date(o.gameStartTime||0).toISOString(),roundStartTime:new Date(o.roundStartTime||0).toISOString()}),ty.HB.getState().isGameInfoOpen){console.log("\uD83D\uDD04 GameInfoOverlay ist offen - erzwinge Update...");var a=ty.HB.getState();a.setGameInfoOpen(!1),setTimeout(function(){return a.setGameInfoOpen(!0)},20),console.log(" GameInfoOverlay-Update erzwungen")}var s=t.getCurrentGame();s&&(console.log("\uD83C\uDFB2 Spieldaten werden aktualisiert..."),e.resetGame(),tH.setState(function(t){return nZ(nZ({},t),{},{isGameStarted:!0,currentRound:s.currentRound||1,currentPlayer:s.currentPlayer,scores:{top:(s.teams.top.jassPoints||0)+(s.teams.top.weisPoints||0),bottom:(s.teams.bottom.jassPoints||0)+(s.teams.bottom.weisPoints||0)},weisPoints:{top:s.teams.top.weisPoints,bottom:s.teams.bottom.weisPoints},striche:{top:nZ({},s.teams.top.striche),bottom:nZ({},s.teams.bottom.striche)},roundHistory:s.roundHistory||[],isGameCompleted:!1,isRoundCompleted:!1})}),console.log(" Spieldaten aktualisiert")),console.log("\uD83C\uDF89 Navigation zum n\xe4chsten Spiel erfolgreich abgeschlossen!")}catch(t){console.error(" Fehler bei der Navigation zum n\xe4chsten Spiel:",t)}else{if(!I){ty.HB.getState().showNotification({message:"Bitte erst bedanken, bevor ein neues Spiel gestartet wird.",type:"warning",position:"top"===i?"top":"bottom",isFlipped:"top"===i,actions:[{label:"Verstanden",onClick:b}]});return}t.finalizeGame(),t.startGame(),e.resetGame(),tH.setState(function(t){return nZ(nZ({},t),{},{isGameStarted:!0,currentRound:1,isGameCompleted:!1,isRoundCompleted:!1})})}},[I,i,b]),D=k?"1 Spiel\nvorw\xe4rts":"Neues\nSpiel",G=tp(function(t){return t.teams}),M=tp(function(t){return t.currentGameId}),_=(0,w.useMemo)(function(){var t=ty.HB.getState().scoreSettings,e=tp.getState().games,n=function(e){var n,r,o=0;return null!=t&&null!==(n=t.enabled)&&void 0!==n&&n.berg&&(o+=e.berg),o+=e.sieg,null!=t&&null!==(r=t.enabled)&&void 0!==r&&r.schneider&&(o+=e.schneider),o+=e.matsch+e.kontermatsch},r=e.filter(function(t){return t.id<M}).reduce(function(t,e){return{striche:{top:t.striche.top+n(e.teams.top.striche),bottom:t.striche.bottom+n(e.teams.bottom.striche)},punkte:{top:t.punkte.top+e.teams.top.total,bottom:t.punkte.bottom+e.teams.bottom.total}}},{striche:{top:0,bottom:0},punkte:{top:0,bottom:0}});return{striche:{top:r.striche.top+n(A.top),bottom:r.striche.bottom+n(A.bottom)},punkte:{top:r.punkte.top+S,bottom:r.punkte.bottom+x}}},[M,A,S,x]),z=w.useCallback(function(t){var e=ns.findIndex(function(t){return t.id===y}),n="right"===t?(e+1)%ns.length:(e-1+ns.length)%ns.length;ty.HB.setState(function(t){return{resultatKreidetafel:nZ(nZ({},t.resultatKreidetafel),{},{currentStatistic:ns[n].id})}})},[y]),H=ed().overlayScale,B=(0,j.q_)({opacity:o?1:0,transform:"scale(".concat(o?H:.95,") rotate(").concat(N?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20},onRest:function(){ty.HB.setState(function(t){return{resultatKreidetafel:nZ(nZ({},t.resultatKreidetafel),{},{animationComplete:!0})}})}}),F=(0,w.useRef)(null),K=(0,w.useCallback)(nX(nU().mark(function t(){var e,n,r,o,i,a,s,c,l,u,f,d,m,h;return nU().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("\uD83D\uDD04 Screenshot-Prozess gestartet"),e=ty.HB.getState().resultatKreidetafel,ty.HB.setState(function(t){return{resultatKreidetafel:nZ(nZ({},t.resultatKreidetafel),{},{swipePosition:"bottom",isFlipped:!1})}}),console.log(" Warte auf Re-render"),t.next=7,new Promise(function(t){return setTimeout(t,500)});case 7:if(document.querySelector("animated.div"),console.log("\uD83D\uDD0D Suche nach Kreidetafel-Element:",n=document.querySelector(".relative.w-11\\/12.max-w-md")),!(!n||!(n instanceof HTMLElement))){t.next=12;break}throw Error("Kreidetafel-Element nicht gefunden");case 12:return console.log(" Element f\xfcr Screenshot gefunden:",n),r=document.querySelector(".statistik-container"),o=document.querySelector(".grid.gap-4.mt-4"),i={},r instanceof HTMLElement&&o instanceof HTMLElement?(i.maxHeight=r.style.maxHeight,i.overflowY=r.style.overflowY,i.buttonDisplay=o.style.display,r.style.maxHeight="none",r.style.overflowY="visible",o.style.display="none",console.log(" Container-Styles angepasst f\xfcr vollst\xe4ndigen Screenshot")):console.warn(" Nicht alle Container gefunden, fahre mit Fallback-Logik fort"),t.prev=17,console.log("\uD83D\uDCF8 Erstelle Screenshot mit html2canvas"),t.next=21,nl()(n,{background:"#1F2937",useCORS:!0,logging:!0,width:n.scrollWidth,height:n.scrollHeight,scale:2});case 21:return console.log(" Canvas erstellt:",{width:(a=t.sent).width,height:a.height}),t.next=25,new Promise(function(t,e){try{a.toBlob(function(n){n?(console.log(" Blob erstellt:",{size:n.size,type:n.type}),t(n)):e(Error("Blob ist null"))},"image/png",1)}catch(t){console.error(" Fehler bei toBlob():",t),e(t)}});case 25:if(console.log(" File erstellt:",{name:(s=new File([t.sent],"jass-resultat.png",{type:"image/png"})).name,size:s.size,type:s.type}),!navigator.share){t.next=46;break}if(l=null!=(c=ty.HB.getState().jassFinishNotification)&&c.message?"string"==typeof c.message?c.message:c.message.text:"Jass Resultat",f={files:[s],text:u="".concat(l,"\n\nGeneriert von:\n\uD83D\uDC49 https://jassguru.web.app")},!(navigator.canShare&&navigator.canShare(f))){t.next=40;break}return console.log("\uD83D\uDD04 Teile mit Files:",f),t.next=37,navigator.share(f);case 37:console.log(" Teilen mit Files erfolgreich!"),t.next=44;break;case 40:return console.warn(" Teilen von Files wird nicht unterst\xfctzt - versuche Fallback mit nur Text"),t.next=43,navigator.share({text:u});case 43:console.log(" Teilen nur mit Text erfolgreich!");case 44:t.next=47;break;case 46:console.error(" navigator.share wird nicht unterst\xfctzt");case 47:return t.prev=47,r instanceof HTMLElement&&o instanceof HTMLElement&&(r.style.maxHeight=i.maxHeight||"",r.style.overflowY=i.overflowY||"",o.style.display=i.buttonDisplay||"",console.log(" Container-Styles wiederhergestellt")),ty.HB.setState(function(t){return{resultatKreidetafel:nZ(nZ({},t.resultatKreidetafel),e)}}),console.log(" UI-Zustand wiederhergestellt"),t.finish(47);case 52:b(),t.next=72;break;case 55:if(t.prev=55,t.t0=t.catch(0),console.error(" Screenshot/Share Fehler:",t.t0),t.prev=58,!navigator.share){t.next=66;break}return m=null!=(d=ty.HB.getState().jassFinishNotification)&&d.message?"string"==typeof d.message?d.message:d.message.text:"Jass Resultat",h="".concat(m,"\n\n(Screenshot konnte nicht erstellt werden)\n\nGeneriert von:\n\uD83D\uDC49 https://jassguru.web.app"),t.next=65,navigator.share({text:h});case 65:console.log(" Fallback: Teilen nur mit Text erfolgreich!");case 66:t.next=71;break;case 68:t.prev=68,t.t1=t.catch(58),console.error(" Auch Text-Share fehlgeschlagen:",t.t1);case 71:b();case 72:case"end":return t.stop()}},t,null,[[0,55],[17,,47,52],[58,68]])})),[b]);te(function(t){return t.completeJass});var W=(0,el.m)(L),U=(0,el.m)(K),J=(0,el.m)(R);(0,ty.HB)(function(t){return t.jassFinishNotification.isOpen});var X=(0,w.useMemo)(function(){var t,e,n,r,o,i,s,c,l,u,f,d,m,h,p,g,b,S,x,w,j,N,E,O,T;return e=(t={playerNames:Object.values(v).filter(Boolean),currentStatistic:"jasspunkte"===y?"punkte":y,totals:{striche:{team1:_.striche.top,team2:_.striche.bottom},punkte:{team1:_.punkte.top,team2:_.punkte.bottom}},matchCount:{team1:A.top.matsch||0,team2:A.bottom.matsch||0},type:"gameEnd",gameHistory:{gesamtStand:{team1:_.striche.top,team2:_.striche.bottom},gameNumber:M,totalGames:a.length},currentStriche:{team1:{normal:A.top.normal,matsch:A.top.matsch},team2:{normal:A.bottom.normal,matsch:A.bottom.matsch}}}).playerNames,n=t.currentStatistic,r=t.totals,o=t.matchCount,i=t.gameHistory,s=t.currentStriche,c=ty.HB.getState().scoreSettings.values.schneider,l={team1:[e[1],e[3]],team2:[e[2],e[4]]},f=(u="striche"===n?r.striche:r.punkte).team2>u.team1,d=u.team1===u.team2,m=f?l.team2:l.team1,h=f?l.team1:l.team2,p=Math.abs(r.striche.team1-r.striche.team2),g=Math.abs(r.punkte.team1-r.punkte.team2),b=o?o.team1+o.team2:0,S=r.punkte.team1<c||r.punkte.team2<c,x=r.punkte.team1<c?"team1":r.punkte.team2<c?"team2":void 0,w="normal",N=(j={team1:i.gesamtStand.team1-(s.team1[w]||0),team2:i.gesamtStand.team2-(s.team2[w]||0)}).team1-j.team2,E=i.gesamtStand.team1-i.gesamtStand.team2,O=N>0&&E<N||N<0&&E>N,T=Math.abs(E),{winnerNames:m,loserNames:h,playerNames:e,pointDifference:g,stricheDifference:p,totalMatsche:b,isTeam2Winner:f,isDraw:d,isSchneider:S,schneiderTeam:x,gesamtStand:i.gesamtStand,previousGesamtStand:j,gameStats:{currentGameNumber:i.gameNumber,totalGames:i.totalGames,isComeback:O,comebackTeam:O?N>0?"team2":"team1":void 0,fhrungsWechsel:N>0&&E<0||N<0&&E>0,hchsterVorsprung:{team:E>0?"team1":"team2",differenz:T}}}},[_,M,a.length,v,y,A]),V=(0,w.useCallback)(function(){var t,e,n,r,o,a=ty.HB.getState(),s=te.getState();if(!I){a.showNotification({message:"Bitte erst bedanken, bevor der Jass beendet wird.",type:"warning",position:"top"===i?"top":"bottom",isFlipped:"top"===i,actions:[{label:"Verstanden",onClick:b}]});return}var c=s.getAnalytics();s.prepareJassEnd();var l=nK({stricheDifference:Math.abs(_.striche.top-_.striche.bottom),pointDifference:Math.abs(_.punkte.top-_.punkte.bottom),isUnentschieden:"striche"===y?_.striche.top===_.striche.bottom:_.punkte.top===_.punkte.bottom,winnerNames:"striche"===y?_.striche.top>_.striche.bottom?[v[2],v[4]].filter(Boolean):[v[1],v[3]].filter(Boolean):_.punkte.top>_.punkte.bottom?[v[2],v[4]].filter(Boolean):[v[1],v[3]].filter(Boolean),loserNames:"striche"===y?_.striche.top>_.striche.bottom?[v[1],v[3]].filter(Boolean):[v[2],v[4]].filter(Boolean):_.punkte.top>_.punkte.bottom?[v[1],v[3]].filter(Boolean):[v[2],v[4]].filter(Boolean),isStricheMode:"striche"===y,type:"jassEnd",timerAnalytics:c,matchCount:{team1:null!==(e=A.top.matsch)&&void 0!==e?e:0,team2:null!==(n=A.bottom.matsch)&&void 0!==n?n:0},totalMatsche:(null!==(r=A.top.matsch)&&void 0!==r?r:0)+(null!==(o=A.bottom.matsch)&&void 0!==o?o:0),isSchneider:_.punkte.top<a.scoreSettings.values.schneider||_.punkte.bottom<a.scoreSettings.values.schneider,gameStats:X.gameStats,gesamtStand:X.gesamtStand,previousGesamtStand:X.previousGesamtStand});ty.HB.setState({jassFinishNotification:{isOpen:!0,mode:"share",message:l,onShare:(t=nX(nU().mark(function t(){return nU().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s.finalizeJassEnd(),t.next=3,K();case 3:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)}),onBack:b}})},[I,i,b,K]);(0,w.useEffect)(function(){F.current&&o&&setTimeout(function(){F.current&&(F.current.scrollTop=F.current.scrollHeight)},50)},[o,a.length,M]);var Z=(0,j.q_)({opacity:p?.7:1,transform:"left"===p?"translateX(-10px)":"right"===p?"translateX(10px)":"translateX(0px)",config:{tension:280,friction:20}}),Y=(0,t$.X)(),q=Y.isActive,$=(0,Y.getCurrentStep)();(0,w.useEffect)(function(){o&&q&&(!$||$.id!==tQ.RX.RESULTAT_INFO)&&b()},[o,q,$,b]);var Q=(0,w.useCallback)(function(){var t,e,n,r,o=ty.HB.getState().scoreSettings;if(k){R();return}if(!I){ty.HB.getState().showNotification({message:"Bitte erst bedanken, bevor ein neues Spiel gestartet wird.",type:"warning",position:"top"===i?"top":"bottom",isFlipped:"top"===i,actions:[{label:"Verstanden",onClick:b}]});return}var a=nK({stricheDifference:Math.abs(_.striche.top-_.striche.bottom),pointDifference:Math.abs(_.punkte.top-_.punkte.bottom),isUnentschieden:"striche"===y?_.striche.top===_.striche.bottom:_.punkte.top===_.punkte.bottom,winnerNames:"striche"===y?_.striche.top>_.striche.bottom?[v[2],v[4]].filter(Boolean):[v[1],v[3]].filter(Boolean):_.punkte.top>_.punkte.bottom?[v[2],v[4]].filter(Boolean):[v[1],v[3]].filter(Boolean),loserNames:"striche"===y?_.striche.top>_.striche.bottom?[v[1],v[3]].filter(Boolean):[v[2],v[4]].filter(Boolean):_.punkte.top>_.punkte.bottom?[v[1],v[3]].filter(Boolean):[v[2],v[4]].filter(Boolean),isStricheMode:"striche"===y,type:"gameEnd",timerAnalytics:s,totalMatsche:(null!==(t=A.top.matsch)&&void 0!==t?t:0)+(null!==(e=A.bottom.matsch)&&void 0!==e?e:0),isSchneider:_.punkte.top<o.values.schneider||_.punkte.bottom<o.values.schneider,gameStats:X.gameStats,gesamtStand:X.gesamtStand,previousGesamtStand:X.previousGesamtStand,matchCount:{team1:null!==(n=A.top.matsch)&&void 0!==n?n:0,team2:null!==(r=A.bottom.matsch)&&void 0!==r?r:0}});ty.HB.setState({jassFinishNotification:{isOpen:!0,mode:"continue",message:a,onBack:b,onContinue:function(){b(),R()}}})},[k,R,I,i,_,y,v,s,A,b]);return((0,w.useEffect)(function(){o&&ty.HB.setState(function(t){return{jassFinishNotification:{isOpen:!1,mode:"share",message:{text:"",icon:"\uD83C\uDFB2"},onShare:void 0,onBack:void 0,onContinue:void 0}}})},[o]),o)?(0,O.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-50 ".concat(o?"":"pointer-events-none"),onClick:function(t){t.target===t.currentTarget&&b()},onTouchStart:function(t){u(t.targetTouches[0].clientX),g(null)},onTouchMove:function(t){if(m(t.targetTouches[0].clientX),l&&t.targetTouches[0].clientX){var e=l-t.targetTouches[0].clientX;Math.abs(e)>20&&g(e>0?"left":"right")}},onTouchEnd:function(){if(l&&d){var t=l-d,e=t>50;(e||t<-50)&&z(e?"right":"left"),u(null),m(null),g(null)}},children:[(0,O.jsxs)(j.q.div,{style:B,className:"relative w-11/12 max-w-md bg-gray-800 bg-opacity-95 rounded-xl p-6 shadow-lg select-none",onClick:function(t){return t.stopPropagation()},children:[(0,O.jsxs)("div",{className:"text-center mb-4",children:[(0,O.jsx)("h2",{className:"text-2xl font-bold text-white",children:(null==T?void 0:T.title)||"Jassergebnis"}),(0,O.jsx)("p",{className:"text-gray-400",children:E})]}),(0,O.jsx)("button",{onClick:function(){return ty.HB.setState(function(t){return{resultatKreidetafel:nZ(nZ({},t.resultatKreidetafel),{},{swipePosition:N?"bottom":"top"})}})},className:"absolute bottom-full mb-[-10px] left-1/2 transform -translate-x-1/2 \n            text-white hover:text-gray-300 transition-all duration-1000\n            w-24 h-24 flex items-center justify-center\n            rounded-full\n            ".concat(N?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,O.jsx)(t9.bxQ,{className:"w-8 h-8"})}),(0,O.jsx)("button",{onClick:b,className:"absolute right-2 top-2 p-2 text-gray-400 hover:text-white",children:(0,O.jsx)(t9.q5L,{size:24})}),P&&!k&&(0,O.jsx)("button",{onClick:L,className:"\n              absolute left-2 top-2\n              w-10 h-10 rounded-full \n              flex items-center justify-center\n              bg-gray-600 hover:bg-gray-500\n              text-white hover:text-white\n              transition-all duration-150\n              shadow-md hover:shadow-lg\n            ","aria-label":"Zur\xfcck",children:(0,O.jsx)(t9.q5n,{className:"w-5 h-5"})}),(0,O.jsxs)("div",{className:"grid grid-cols-[1fr_4fr_4fr] gap-4 mb-2",children:[(0,O.jsx)("div",{}),(0,O.jsx)("div",{className:"text-center text-white",children:"Team 1"}),(0,O.jsx)("div",{className:"text-center text-white",children:"Team 2"})]}),(0,O.jsxs)("div",{className:"grid grid-cols-[1fr_4fr_4fr] gap-4 mb-4",children:[(0,O.jsx)("div",{}),(0,O.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,O.jsx)(n$,{name:v[1],isStarter:(null===(t=a[0])||void 0===t?void 0:t.initialStartingPlayer)===1}),(0,O.jsx)(n$,{name:v[3],isStarter:(null===(e=a[0])||void 0===e?void 0:e.initialStartingPlayer)===3})]}),(0,O.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,O.jsx)(n$,{name:v[2],isStarter:(null===(n=a[0])||void 0===n?void 0:n.initialStartingPlayer)===2}),(0,O.jsx)(n$,{name:v[4],isStarter:(null===(r=a[0])||void 0===r?void 0:r.initialStartingPlayer)===4})]})]}),(0,O.jsx)("div",{className:"border-t border-b border-gray-700",children:(0,O.jsx)("div",{ref:F,className:"statistik-container max-h-[280px] overflow-y-auto",children:(0,O.jsx)(j.q.div,{style:Z,className:"py-2",children:"striche"===y?(0,O.jsx)(ni,{teams:G,games:a,currentGameId:M,onSwipe:z}):(0,O.jsx)(na,{teams:G,games:a,currentGameId:M,onSwipe:z})})})}),(0,O.jsxs)("div",{className:"grid grid-cols-[0.5fr_5fr_5fr] gap-4 mt-4",children:[(0,O.jsx)("div",{className:"text-gray-400 text-center pr-4",children:"Total:"}),(0,O.jsx)("div",{className:"flex justify-center -ml-[36px]",children:(0,O.jsx)("div",{className:"text-2xl font-bold text-white w-[100px] text-center",children:"striche"===y?_.striche.bottom:_.punkte.bottom})}),(0,O.jsx)("div",{className:"flex justify-center -ml-[12px]",children:(0,O.jsx)("div",{className:"text-2xl font-bold text-white w-[100px] text-center",children:"striche"===y?_.striche.top:_.punkte.top})})]}),(0,O.jsx)("div",{className:"flex justify-center mt-4 mb-2",children:(0,O.jsx)("div",{className:"flex justify-center items-center space-x-2 bg-gray-700/50 px-1.5 py-1 rounded-full",children:ns.map(function(t){return(0,O.jsx)("div",{className:"w-2 h-2 rounded-full transition-all duration-200 ".concat(y===t.id?"bg-white/80 shadow-sm":"bg-gray-500/50")},t.id)})})}),(0,O.jsxs)("div",{className:"\n          grid gap-4 mt-4 \n          ".concat(k&&P?"grid-cols-3":"grid-cols-2 justify-between","\n        "),children:[P&&k&&(0,O.jsx)("button",nZ(nZ({},W.handlers),{},{disabled:!P,className:"\n                py-2 px-4 text-white rounded-lg font-medium text-base\n                transition-all duration-150\n                ".concat(P?"bg-gray-600":"bg-gray-500/50 cursor-not-allowed","\n                hover:bg-gray-700\n                leading-tight\n                ").concat(W.buttonClasses,"\n              "),children:["1 Spiel","zur\xfcck"].map(function(t,e){return(0,O.jsxs)(w.Fragment,{children:[t,0===e&&(0,O.jsx)("br",{})]},e)})})),(0,O.jsx)("button",{onClick:V,className:"\n              py-2 px-4 text-white rounded-lg font-medium text-base\n              transition-all duration-150\n              bg-yellow-600 hover:bg-yellow-700\n              flex items-center justify-center gap-2\n              leading-tight\n              ".concat(U.buttonClasses,"\n            "),children:["Jass","beenden"].map(function(t,e){return(0,O.jsxs)(w.Fragment,{children:[t,0===e&&(0,O.jsx)("br",{})]},e)})}),(0,O.jsx)("button",{onClick:Q,className:"\n              py-2 px-4 text-white rounded-lg font-medium text-base\n              transition-all duration-150\n              ".concat(k?"bg-gray-600 hover:bg-gray-700":"bg-green-600 hover:bg-green-700","\n              leading-tight\n              ").concat(J.buttonClasses,"\n            "),children:D.split("\n").map(function(t,e){return(0,O.jsxs)(w.Fragment,{children:[t,0===e&&D.includes("\n")&&(0,O.jsx)("br",{})]},e)})})]})]}),(0,O.jsx)(ng,{})]}):null},n0=function(t){var e=tH(),n=e.navigateHistory,r=e.canNavigateForward,o=e.canNavigateBackward,i=e.currentHistoryIndex,a=e.validateHistoryAction;(0,ty.HB)().showHistoryWarning;var s=(0,w.useRef)(Date.now());return(0,w.useCallback)(function(t){a()&&n(t)},[n,a]),{handleSwipe:(0,w.useCallback)(function(e){var i=Date.now();if(!(i-s.current<300)){s.current=i;var a="top"===t,c=a&&"left"===e||!a&&"right"===e;(c?r():o())&&n(c?"forward":"backward")}},[t,n,r,o]),isInPast:i>-1,canNavigateForward:r,canNavigateBackward:o}},n1=function(t){var e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=Math.floor(t/1e3),r=Math.floor(n/60),o=Math.floor(r/60),i=r%60,a=n%60;return o>0?e?"".concat(o,":").concat(i.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")):"".concat(o,":").concat(i.toString().padStart(2,"0")):e?"".concat(r.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")):"0:".concat(r.toString().padStart(2,"0"))};function n2(t){return function(t){if(Array.isArray(t))return n3(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||n5(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n5(t,e){if(t){if("string"==typeof t)return n3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n3(t,e)}}function n3(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var n4=Array.from(new Set(en.vK.map(function(t){return t.multiplier}))).filter(function(t){return t>1}).sort(function(t,e){return e-t}),n6=(0,D.U)(function(t,e){return{currentMultiplier:Math.max.apply(Math,n2(n4.filter(function(t){return t>1}))),setMultiplier:function(e){return t({currentMultiplier:e})},getDividedPoints:function(t){return Math.ceil(t/e().currentMultiplier)},getRemainingPoints:function(t,e){var n=ty.HB.getState().scoreSettings,r=e[t],o=e["top"===t?"bottom":"top"],i=n.values.sieg,a=n.values.berg,s=n.values.schneider;if(!n.enabled.berg)return{title:"SIEG",remaining:i-r};if(o>=a){if(!n.enabled.schneider||r>=s)return{title:"SIEG",remaining:i-r};if(n.enabled.schneider)return{title:"SCHNEIDER",remaining:s-r}}return r>=a?{title:"SIEG",remaining:i-r}:n.enabled.berg?{title:"BERG",remaining:a-r}:{title:"SIEG",remaining:i-r}}}}),n8=function(t){var e,n=t.mainTitle,r=t.subTitle,o=t.points,i=t.className,a=t.numberSize,s=void 0===a?"text-xl":a,c=(t.scoreSettings,t.scores),l=t.team,u=n6(),f=u.currentMultiplier,d=u.setMultiplier,m=u.getDividedPoints,h=u.getRemainingPoints,p=(0,ty.HB)(function(t){return t.farbeSettings}),g=function(t){if(Array.isArray(t))return t}(e=(0,w.useState)(!1))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{for(i=(n=n.call(t)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,2)||n5(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=g[0],b=g[1];return(0,w.useEffect)(function(){var t=Object.values(p.values);d(Math.min(Math.max.apply(Math,n2(t.filter(function(t){return t>1}))),8))},[p.values,d]),(0,O.jsxs)("div",{children:[(0,O.jsx)("span",{className:"text-gray-400",children:n}),(0,O.jsxs)("div",{className:"grid grid-cols-3 gap-2 mt-0 ".concat(void 0===i?"":i),children:[(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)("span",{className:"text-gray-400 text-xs",children:r}),(0,O.jsx)("div",{className:"".concat(s," font-bold mt-0"),children:o})]}),(0,O.jsxs)("button",{onClick:function(){var t=n4.indexOf(f),e=t===n4.length-1?0:t+1;d(n4[e])},onMouseDown:function(){return b(!0)},onMouseUp:function(){return b(!1)},onMouseLeave:function(){return b(!1)},onTouchStart:function(){return b(!0)},onTouchEnd:function(){return b(!1)},className:"bg-orange-500 hover:bg-orange-600 text-white rounded-lg px-2 py-3 self-center mx-auto h-12 w-14 mt-4 transition-all duration-100 ".concat(y?"bg-orange-700 scale-95 opacity-80":"scale-100 opacity-100"),children:[f,"x"]}),(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsxs)("span",{className:"text-gray-400 text-xs",children:[f,"-fach"]}),(0,O.jsx)("div",{className:"".concat(s," font-bold mt-0"),children:m(h(l,c).remaining)})]})]})]})};function n7(t,e,n){var r={rain:{y:-.3,gravity:1,startVelocity:15,spread:80},explosion:{y:.5,gravity:1,startVelocity:30,spread:360},cannon:{y:1.1,gravity:1,startVelocity:45,spread:45},firework:{y:-.1,gravity:1,startVelocity:60,spread:20}}[n];return("firework"===n?!e:e)?{y:1.1,gravity:-1,startVelocity:r.startVelocity,spread:r.spread}:r}function n9(t,e,n,r){var o=rt(r);return(0,et.Z)({particleCount:Math.floor(o/10),origin:{x:t,y:e},spread:140,gravity:.7*n,startVelocity:n>0?-23:23,decay:.96,ticks:1e3,colors:["#FFD700","#FFA500","#FF8C00"]})}var rt=function(t){switch(t){case"low":return 500;case"medium":return 1e3;case"high":return 2500;case"super":return 5e3;case"extreme":return 1e4;default:return 0}};function re(t,e,n,r,o){var i=rn(r);return(0,et.Z)({particleCount:"shoot"===o?10:Math.floor(i/5),origin:{x:t,y:e},spread:"shoot"===o?15:360,startVelocity:"shoot"===o?n<0?45:-45:30,gravity:n,decay:"shoot"===o?.92:.94,shapes:["circle"],colors:["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF"],scalar:1,ticks:"shoot"===o?100:"extreme"===r?200:150})}var rn=function(t){switch(t){case"low":return 500;case"medium":return 1e3;case"high":return 2500;case"super":return 5e3;case"extreme":return 1e4;default:return 0}},rr=function(t){var e=t.chargeLevel,n=t.team,r=t.isFlipped,o=n7(n,void 0!==r&&r,"rain"),i=o.y,a=o.gravity;if(e&&"none"!==e){var s=[.2,.35,.5,.65,.8];s.forEach(function(t,n){setTimeout(function(){return n9(t,i,a,e)},100*n)}),("high"===e||"super"===e)&&setTimeout(function(){s.forEach(function(t,n){setTimeout(function(){return n9(t,i,a,e)},100*n)})},300),"extreme"===e&&setTimeout(function(){s.forEach(function(t,n){setTimeout(function(){return n9(t,i,a,e)},50*n)})},600)}},ro=function(t){var e=t.chargeLevel,n=t.team,r=t.isFlipped;if("none"!==e){var o=n7(n,void 0!==r&&r,"firework"),i=o.y,a=o.gravity,s=[.2,.5,.8];s.forEach(function(t,n){setTimeout(function(){re(t,i,a,e,"shoot"),setTimeout(function(){re(t,.5,-a,e,"explode")},300)},500*n)}),("high"===e||"super"===e)&&setTimeout(function(){s.forEach(function(t,n){setTimeout(function(){re(t,i,a,e,"shoot"),setTimeout(function(){re(t,.5,-a,e,"explode")},300)},500*n)})},800),"extreme"===e&&setTimeout(function(){s.forEach(function(t,n){setTimeout(function(){re(t,i,a,e,"shoot"),setTimeout(function(){re(t,.5,-a,e,"explode")},300),setTimeout(function(){re(t+.1,.5,-a,e,"explode"),re(t-.1,.5,-a,e,"explode")},400)},400*n)})},1600)}};function ri(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ra(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ra(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ra(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var rs=function(t,e,n){var r={yellow:"bg-yellow-600",green:"bg-green-600",red:"bg-red-600"}[e],o={yellow:"border-yellow-900",green:"border-green-900",red:"border-red-900"}[e],i={yellow:"shadow-yellow-400",green:"shadow-green-400",red:"shadow-red-400"}[e];switch(t){case"extreme":return"".concat(r," ").concat(o," shadow-[0_0_30px_5px] ").concat(i," animate-pulse");case"super":return"".concat(r," ").concat(o," shadow-[0_0_20px_3px] ").concat(i);case"high":return"".concat(r," ").concat(o," shadow-[0_0_15px_2px] ").concat(i);case"medium":return"".concat(r," ").concat(o," shadow-[0_0_10px_1px] ").concat(i);case"low":return"".concat(r," ").concat(o," shadow-[0_0_5px_0px] ").concat(i);default:return"".concat(r," ").concat(o)}},rc={berg:"rain",sieg:"firework"},rl=function(t){var e=t.onAction,n=t.isButtonActive,r=t.isActiveGlobal,o=t.color,i=t.disabled,a=void 0!==i&&i,s=t.children,c=t.type,l=t.team,u=(0,ty.HB)().calculator.isFlipped,f=ri((0,w.useState)(!1),2),d=f[0],m=f[1],h=ri((0,w.useState)("none"),2),p=h[0],g=h[1],y=(0,w.useRef)(null),b=(0,w.useRef)(null),v=(0,w.useRef)(!1),S=function(t){return t>=V.extreme?"extreme":t>=V.super?"super":t>=V.high?"high":t>=V.medium?"medium":t>=V.low?"low":"none"},x=function(){a||(m(!0),b.current=Date.now(),y.current=setInterval(function(){g(S(Date.now()-(b.current||0)))},100))},j=function(){if(!a){m(!1),y.current&&(clearInterval(y.current),y.current=null);var t=b.current?Date.now()-b.current:0,o=S(t);e({chargeDuration:{duration:t,level:o},type:c,team:l,isActivating:!n}),r||("berg"===c?rr({chargeLevel:o,team:l,type:c,effectType:rc[c],isFlipped:u}):"sieg"===c&&ro({chargeLevel:o,team:l,type:c,effectType:rc[c],isFlipped:u})),setTimeout(function(){g("none"),b.current=null,v.current=!1},300)}};return(0,O.jsx)("div",{className:"relative",children:(0,O.jsx)("button",{onMouseDown:function(){v.current||x()},onMouseUp:function(){v.current||j()},onMouseLeave:function(){!v.current&&d&&j()},onTouchStart:function(t){t.preventDefault(),v.current=!0,x()},onTouchEnd:function(t){t.preventDefault(),j()},onTouchCancel:function(t){t.preventDefault(),j()},onContextMenu:function(t){return t.preventDefault()},disabled:a,className:"\n          w-full py-4 text-white rounded-xl font-bold\n          transition-all duration-150\n          ".concat(n?rs(p,o,d):"bg-gray-600 border-gray-500","\n          border-b-4 border-t border-l border-r\n          ").concat(a?"opacity-50 cursor-not-allowed":"","\n          ").concat(d?"translate-y-1 shadow-inner opacity-80":"shadow-lg","\n          select-none touch-manipulation\n          -webkit-touch-callout: none\n          -webkit-user-select: none\n          user-select: none\n        "),children:(0,O.jsx)("div",{className:"relative",children:s})})})},ru={none:[{text:"Alles klar! Zur \xdcbersicht?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Passt! Auswertung anschauen?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Fertig! Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Sauber bedankt! Schauen wir?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Prima! Zur \xdcbersicht?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Bravo! Zum Gesamtergebnis?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Super! Resultate checken?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Perfekt! Auswertung?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Tiptop! Schauen wir?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Wunderbar! Zur Gesamtauswertung?",buttons:{cancel:"Nein",confirm:"Klar!"}}],low:[{text:"Ein feiner Sieg! Zur \xdcbersicht?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Sauber gespielt! Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Gut gemacht! Schauen wir?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Sch\xf6ne Runde! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Freude herrscht! Auswertung?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Fein gemacht! Resultate checken?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Nett gespielt! Zur \xdcbersicht?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Gut gek\xe4mpft! Schauen wir?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Saubere Sache! Auswertung?",buttons:{cancel:"Nein",confirm:"Klar!"}}],medium:[{text:"Ohooo! Da wurde aber sch\xf6n bedankt! Zur \xdcbersicht?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Hoppla! Das war aber ein feiner Zug! Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Ui ui ui! Das kann sich sehen lassen! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Aha! Da hat jemand Freude! Schauen wir?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Hoho! Freud herrscht! Auswertung?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Jesses! Freude muss sein! Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Aha! Da strahlt aber jemand! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Prost! Gute Feier! Schauen wir?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Hurra! Siegen macht gl\xfccklich! Auswertung?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Juhui! Zelebrieren muss sein! Resultate angucken?",buttons:{cancel:"Nein",confirm:"Klar!"}}],high:[{text:"Bei den Jasskarten! Was f\xfcr ein Triumph! Zur Auswertung?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Donnerwetter! Das war aber ein Meisterst\xfcck! Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Heiliger Bock! Was f\xfcr ein Zug! Schauen wir?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Himmel, Herrgott! Das war aber stark! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Potzblitz! Was f\xfcr eine Show! Auswertung?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Herrjemine! Das war aber grandios! Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Heiliger Trumpf! Was f\xfcr ein Coup! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Jetzt h\xe4t's gesch\xe4llet! Zum Resultat?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Heidewitzka! Was f\xfcr ein Geniestreich! Auswertung?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Sapperlot! Das war aber meisterhaft! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}}],super:[{text:"Potz Blitz! Da hat aber jemand seinen Sieg zelebriert! Zur Auswertung?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Heiliger Bimbam! Was f\xfcr eine Siegesfeier! Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Himmelherrgottsakrament! Das war episch! Schauen wir?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Donnerwetter und Hagelschlag! Was f\xfcr ein Spektakel! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Heiliges Kanonenrohr! Das war legend\xe4r! Auswertung?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Potzblitz und Donnerkeil! Was f\xfcr ein Feuerwerk! Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Sapperlot und Holzaxt! Das war gigantisch! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Himmel, Arsch und Zwirn! Was f\xfcr eine Show! Schauen wir?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Heiliger Strohsack! Das war bombastisch! Auswertung?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Potz Blitz und Kreuzsakrament! Was f\xfcr ein Triumph! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}}],extreme:[{text:"Himmel, Herrgott und Eichel Buur! Dieser Sieg scheint besonders s\xfcss zu sein! Zur Auswertung?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Heiliger Schilten K\xf6nig! Da klebt wohl jemand am Siegesknopf fest! Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Sapperlot und Obenabe! Da hat's aber jemand mit der Siegesfreude! Zur \xdcbersicht?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Potzblitz und Trumpf Buur! Das ist ja eine Siegesparade der Extraklasse! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Heiliges Undenufe! Da wird der Sieg aber ausgekostet bis zum letzten Tropfen! Zur Auswertung?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Himmel und Nell! Wenn das kein Grund zum Feiern ist, was dann? Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Sapperlot und Wiis! Da tanzt wohl jemand Sirtaki auf dem Jassteppich! Zur \xdcbersicht?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Donnerwetter und Rosen K\xf6nig! Das nenn ich mal eine Sieges-Choreographie! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Heiliger Match! Da wird ja mehr gefeiert als beim Schellen Ober! Zur Auswertung?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Potzblitz und Schellen Ass! Das ist ja eine Siegesfeier wie beim St\xf6ck-Match! Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Himmel, Arsch und Wolkenbruch! Da hat's wohl jemand nicht eilig mit dem Weiterspielen! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Heiliger Strohsack! Der Siegestanz dauert ja l\xe4nger als ein Schieber! Zur \xdcbersicht?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Sapperlot und Kreuzjass! Da wird der Sieg zelebriert wie ein Blatt mit Vier K\xf6nigen! Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Donnerwetter und Slalom! Diese Siegesfreude ist ja gr\xf6sser als beim Kontermatch! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Potzblitz und Mis\xe8re! Da hat's wohl jemand nicht so mit der Bescheidenheit! Zur Auswertung?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Heiliger Bock! Diese Siegesfeier ist ja l\xe4nger als eine Runde Differenzler! Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Sapperlot und Gusti! Da wird ja mehr zelebriert als beim Papst sein Namenstag! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Himmel und H\xf6lle! Das ist ja eine Siegesfeier wie nach einem Tout! Zur \xdcbersicht?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Heiliger Bimbam! Da wird der Sieg ausgekostet wie der letzte Tropfen im Glas! Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Potzblitz und Herrgott! Diese Siegesfreude schreit ja f\xf6rmlich nach einem Jassturnier! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Prooooost! Tanzt da jemand schon auf dem Tisch? Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Juhuiii! Die Korken knallen, die Gl\xe4ser klingen! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Ol\xe9, Ol\xe9! Das schreit nach einer Siegesrunde! Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Stimmung, Stimmung! Die Party ist noch lange nicht vorbei! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Bier f\xfcr alle! Der Sieg will begossen werden! Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"La-Ola! Die Siegesrunde geht auf's Haus! Zur \xdcbersicht?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Fiesta, Fiesta! Der Siegestanz ist in vollem Gange! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Auf die Tische, fertig, los! Das wird eine lange Nacht! Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Ramba Zamba! Die Siegesparty ist nicht mehr zu stoppen! Zur \xdcbersicht?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Heute wird getanzt, gesungen und gefeiert! Weiter?",buttons:{cancel:"Nein",confirm:"Klar!"}}]},rf=function(t){var e=ru[t];return e[Math.floor(Math.random()*e.length)]},rd={none:[{text:"Berg! Zur Resultattafel?",buttons:{cancel:"Nein",confirm:"Klar!"}}],low:[{text:"Berg geschafft! Resultate anschauen?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Berg! Weiter zur \xdcbersicht?",buttons:{cancel:"Nein",confirm:"Klar!"}}],medium:[{text:"Donnerwetter! Ein Berg wie aus dem Bilderbuch! Zur Resultattafel?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Potzblitz! Das war ein Berg der Extraklasse! Zur Resultattafel?",buttons:{cancel:"Nein",confirm:"Klar!"}}],high:[{text:"Heiliger Strohsack! Was f\xfcr ein Berg! Zur Resultattafel??",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Sapperlot! Der Berg ist ja h\xf6her als das Matterhorn! Zur Resultattafel?",buttons:{cancel:"Nein",confirm:"Klar!"}}],super:[{text:"Donnerwetter und Hagelschlag! Das ist ja ein Himalaya! Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Potzblitz und Donnerkeil! Ein Berg wie der Mount Everest! Zur Resultattafel?",buttons:{cancel:"Nein",confirm:"Klar!"}}],extreme:[{text:"Himmel, Herrgott und Eichel Buur! Das ist ja ein Berg bis in den Himmel! Resultate?",buttons:{cancel:"Nein",confirm:"Klar!"}},{text:"Heiliger Schilten K\xf6nig! Der Berg ragt ja bis in die Wolken! Zur Resultattafel?",buttons:{cancel:"Nein",confirm:"Klar!"}}]},rm=function(t){var e=rd[t];return e[Math.floor(Math.random()*e.length)]};function rh(t){return(rh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function rg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rp(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==rh(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==rh(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===rh(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rp(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ry(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||rb(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rb(t,e){if(t){if("string"==typeof t)return rv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rv(t,e)}}function rv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var rS=function(t){var e,n=t.isOpen,r=t.onClose,o=tH(),i=o.currentRound,a=o.currentPlayer,s=o.playerNames,c=o.isBergActive,l=o.isSiegActive,u=o.addBerg,f=o.addSieg,d=o.scores,m=tp().currentGameId,h=ry((0,w.useState)(!1),2);h[0],h[1];var p=ry((0,w.useState)(!1),2);p[0],p[1];var g=ry((0,w.useState)(""),2),y=g[0],b=g[1],v=ry((0,w.useState)(""),2),S=v[0],x=v[1],N=ry((0,w.useState)(""),2),E=N[0],T=N[1],P=ry((0,w.useState)(!0),2),k=P[0],C=P[1],A=te(),I=A.pauseTimer,L=A.resumeTimer,R=A.getCurrentTime,D=A.gameStartTime,G=A.roundStartTime,M=A.jassStartTime,_=(0,ty.HB)(),z=_.isPaused,H=_.pauseGame,B=_.resumeGame,F=_.lastDoubleClickPosition,K=_.calculator.isFlipped,W=_.setCalculatorFlipped,U=_.scoreSettings,J=_.showNotification,X=_.endCharge,V=n6(),Z=V.currentMultiplier,Y=V.getDividedPoints,q=V.getRemainingPoints,$=K?"top":"bottom",Q=function(){if(z){J({message:"Zum Fortfahren bitte die Pause beenden und oben links auf    klicken!",type:"warning",position:K?"top":"bottom",isFlipped:K});return}var t,e=ty.HB.getState().farbeSettings.values,n=Math.max.apply(Math,function(t){if(Array.isArray(t))return rv(t)}(t=Object.values(e).filter(function(t){return t>1}))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||rb(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());n6.setState({currentMultiplier:n}),r()};(0,w.useEffect)(function(){var t=function(){var t=R();n&&console.log(" Timer werden aktualisiert",{gameStartTime:D?new Date(D).toISOString():null,roundStartTime:G?new Date(G).toISOString():null,jassStartTime:M?new Date(M).toISOString():null,currentGameId:m}),D&&b(n1(t-D,!1)),G&&x(n1(t-G,!0)),M&&T(n1(t-M,!1))};if(t(),n&&!z){var e=setInterval(t,1e3),r=setInterval(function(){var e=te.getState(),n=e.gameStartTime,r=e.roundStartTime;(n!==D||r!==G)&&(console.log(" [SCHNELLES UPDATE] Timer haben sich ge\xe4ndert"),t())},50);return function(){clearInterval(e),clearInterval(r)}}},[n,z,R,D,G,M,m,i,d,te.getState().isPaused]);var tt=ed().overlayScale,tn=(0,j.q_)({opacity:n?1:0,transform:"scale(".concat(n?tt:.95,") rotate(").concat(K?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20}});(0,w.useEffect)(function(){n&&F&&W("top"===F)},[n,F]);var tr=(0,t$.X)(),to=tr.isActive,ti=(0,tr.getCurrentStep)();(0,w.useEffect)(function(){n&&to&&(null==ti?void 0:ti.id)!==tQ.RX.JASS_SETTINGS&&(null==ti?void 0:ti.id)!==tQ.RX.GAME_INFO&&r()},[n,to,ti,r]),(0,w.useEffect)(function(){n&&document.dispatchEvent(new Event("gameInfoOpen"))},[n]),(0,w.useEffect)(function(){if(n){C(!1);var t=setTimeout(function(){C(!0)},230);return function(){return clearTimeout(t)}}},[n]);var ta=function(){J({message:"M\xf6chtest du die Pause aufheben um fortzufahren?",type:"warning",actions:[{label:(0,O.jsxs)("div",{className:"flex items-center justify-center w-full gap-1.5",children:[(0,O.jsx)(t9.KCr,{className:"w-4 h-4"}),(0,O.jsx)("span",{children:"Pause aufheben"})]}),onClick:function(){B(),r()}}]})},ts=ry((0,w.useState)(!1),2),tc=ts[0],tl=ts[1],tu=function(t){tH.setState(function(e){return rg(rg({},e),{},{currentPlayer:t},1===i&&{startingPlayer:t})})};return(0,O.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 ".concat(n?"":"pointer-events-none"),onClick:function(t){k&&t.target===t.currentTarget&&Q()},children:(0,O.jsxs)(j.q.div,{style:tn,className:"relative w-11/12 max-w-md bg-gray-800 bg-opacity-95 rounded-xl p-6 shadow-lg select-none",onClick:function(t){return t.stopPropagation()},children:[(0,O.jsx)("button",{onClick:function(){return W(!K)},className:"absolute bottom-full mb-[-10px] left-1/2 transform -translate-x-1/2 \n            text-white hover:text-gray-300 transition-all duration-1000\n            w-24 h-24 flex items-center justify-center\n            rounded-full\n            ".concat(K?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,O.jsx)(t9.bxQ,{className:"w-8 h-8"})}),(0,O.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,O.jsx)("button",{onClick:z?function(){L(),B()}:function(){I(),H()},className:"\n              w-10 h-10 rounded-full flex items-center justify-center\n              ".concat(z?"bg-green-600 hover:bg-green-500":"bg-gray-600 hover:bg-gray-500","\n              text-white hover:text-white\n              transition-all duration-150\n              shadow-md hover:shadow-lg\n            "),"aria-label":z?"Weiter":"Pause",children:z?(0,O.jsx)(t9.KCr,{className:"w-5 h-5"}):(0,O.jsx)(t9.R4s,{className:"w-5 h-5"})}),(0,O.jsx)("h2",{className:"text-2xl font-bold text-white text-center",children:"Spielstand"}),(0,O.jsx)("button",{onClick:Q,className:"w-12 h-12 rounded-full flex items-center justify-center -mr-2 -mt-2 text-gray-400 hover:text-white transition-colors -webkit-tap-highlight-color-transparent",children:(0,O.jsx)(t9.q5L,{className:"w-5 h-5"})})]}),(0,O.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,O.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-white",children:[(0,O.jsxs)("div",{className:"text-center pl-5",children:[(0,O.jsx)("span",{className:"text-gray-400 text-xs",children:"Spiel"}),(0,O.jsx)("div",{className:"text-xl font-bold",children:m})]}),(0,O.jsxs)("div",{className:"text-center -ml-10 pl-0",children:[(0,O.jsx)("span",{className:"text-gray-400 text-xs",children:"Runde"}),(0,O.jsx)("div",{className:"text-xl font-bold",children:i})]}),(0,O.jsxs)("div",{className:"text-center -ml-10 pl-0",children:[(0,O.jsx)("span",{className:"text-gray-400 text-xs",children:"Spieldauer"}),(0,O.jsx)("div",{className:"text-xl font-bold",children:y})]}),(0,O.jsxs)("div",{className:"text-center -ml-8 pl-0",children:[(0,O.jsx)("span",{className:"text-gray-400 text-xs",children:"Jassdauer"}),(0,O.jsx)("div",{className:"text-xl font-bold",children:E})]})]}),(0,O.jsxs)("div",{className:"text-center text-white mt-1",children:[(0,O.jsx)("span",{className:"text-gray-400",children:"Spieler"}),(0,O.jsxs)("div",{className:"relative",children:[(0,O.jsx)("button",{onClick:function(){return tl(!tc)},className:"w-full text-3xl font-bold p-2 bg-gray-700 hover:bg-gray-600  bg-opacity-50 rounded-xl mt-1 transition-colors",children:s[a]||"Spieler ".concat(a)}),tc&&(0,O.jsx)("div",{className:"absolute left-0 right-0 mt-1 bg-gray-700 rounded-xl overflow-hidden shadow-lg z-50",children:Object.entries(s).map(function(t){var e=ry(t,2),n=e[0],r=e[1];return(0,O.jsx)("button",{onClick:function(){tu(Number(n)),tl(!1)},className:"w-full p-3 text-left hover:bg-gray-600 transition-colors",children:r||"Spieler ".concat(n)},n)})})]})]}),(0,O.jsxs)("div",{className:"text-center text-white mt-1",children:[(0,O.jsx)("span",{className:"text-gray-400",children:"Zeit Runde"}),(0,O.jsx)("div",{className:"text-3xl font-bold p-2 bg-gray-700 bg-opacity-50 rounded-xl mt-1",children:S})]}),(0,O.jsx)("div",{className:"text-center text-white mt-3",children:(0,O.jsx)(n8,{mainTitle:"Punkte bis",subTitle:q(K?"top":"bottom",d).title,points:q(K?"top":"bottom",d).remaining,team:K?"top":"bottom",numberSize:"text-3xl",scoreSettings:U,scores:d})}),(0,O.jsx)("div",{className:"text-center text-white mt-1",children:(0,O.jsxs)("div",{children:[(0,O.jsx)("span",{className:"text-gray-400",children:"Gegner"}),(0,O.jsxs)("div",{className:"grid grid-cols-3 gap-2 -mt-10",children:[(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)("span",{className:"text-gray-400 text-xs",children:q(K?"bottom":"top",d).title}),(0,O.jsx)("div",{className:"text-xl font-bold mt-0",children:q(K?"bottom":"top",d).remaining})]}),(0,O.jsx)("div",{className:"invisible"}),(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsxs)("span",{className:"text-gray-400 text-xs",children:[Z,"-fach"]}),(0,O.jsx)("div",{className:"text-xl font-bold mt-0",children:Y(q(K?"bottom":"top",d).remaining)})]})]})]})})]}),(0,O.jsx)("div",{className:"space-y-4 max-w-md mx-auto mt-12 mb-4",children:(0,O.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,O.jsx)(rl,{onAction:function(t){if(z){ta();return}var e=K?"top":"bottom";if(c("top"===e?"bottom":"top")){J({message:"Sorry, dein Gegner hat den BERG schon geschrieben!",type:"warning",position:e,isFlipped:K});return}u(e),t.isActivating&&setTimeout(function(){var n=rm(t.chargeDuration.level);J({type:"bedanken",message:n.text,position:e,isFlipped:K,preventClose:!1,actions:[{label:n.buttons.cancel,onClick:function(){X(e,"berg"),r()}},{label:n.buttons.confirm,onClick:function(){X(e,"berg"),r(),ty.HB.setState(function(t){return{resultatKreidetafel:rg(rg({},t.resultatKreidetafel),{},{isOpen:!0,swipePosition:e})}})}}]})},function(t){switch(t){case"extreme":return 5250;case"super":return 3250;case"high":return 2250;case"medium":return 1250;case"low":return 750;default:return 250}}(t.chargeDuration.level))},isButtonActive:c($),isActiveGlobal:c("top")||c("bottom"),color:"yellow",disabled:z,type:"berg",team:$,children:(0,O.jsx)("span",{className:"text-2xl",children:"Berg"})}),(0,O.jsx)(rl,{onAction:function(t){if(z){J({message:"Bitte Pause-Modus beenden",type:"warning",position:K?"top":"bottom",isFlipped:K});return}var e=K?"top":"bottom";if(l("top"===e?"bottom":"top")){J({type:"warning",message:"Der Gegner hat bereits BEDANKEN aktiviert!",position:e,isFlipped:K});return}f(e),t.isActivating&&setTimeout(function(){var n=rf(t.chargeDuration.level);J({type:"bedanken",message:n.text,position:e,isFlipped:K,preventClose:!1,actions:[{label:n.buttons.cancel,onClick:function(){X(e,"bedanken")}},{label:n.buttons.confirm,onClick:function(){X(e,"bedanken"),r(),ty.HB.setState(function(t){return{resultatKreidetafel:rg(rg({},t.resultatKreidetafel),{},{isOpen:!0,swipePosition:e})}})}}]})},function(t){switch(t){case"extreme":return 5250;case"super":return 3250;case"high":return 2250;case"medium":return 1250;case"low":return 750;default:return 250}}(t.chargeDuration.level))},isButtonActive:l($),isActiveGlobal:l("top")||l("bottom"),color:"yellow",disabled:z||!(null==U||null===(e=U.enabled)||void 0===e||!e.berg||c("top")||c("bottom")),type:"sieg",team:$,children:(0,O.jsx)("span",{className:"text-2xl",children:"Bedanken"})})]})})]})})},rx=n(94),rw={WELCOME_SCREEN:"WELCOME_SCREEN",INSTALL_WELCOME:"INSTALL_WELCOME",INSTALL_SHARE:"INSTALL_SHARE",INSTALL_HOME:"INSTALL_HOME",INSTALL_FINAL:"INSTALL_FINAL",INSTALL_DONE:"INSTALL_DONE",FINAL_HINTS:"FINAL_HINTS"},rj={WELCOME_SCREEN:"WELCOME_SCREEN",INSTALL_WELCOME:"INSTALL_WELCOME",INSTALL_SHARE:"INSTALL_SHARE",INSTALL_HOME:"INSTALL_HOME",INSTALL_FINAL:"INSTALL_FINAL",FINAL_HINTS:"FINAL_HINTS"},rN=((l={}).INTRODUCTION="INTRODUCTION",l),rE={iOS:{WELCOME_SCREEN:{title:"Willkommen bei Jassguru",message:"Keine Diskussionen ums Z\xe4hlen, keine Zeitverschwendung f\xfcr Rechnereien, keine zerknitterten Zettel  hier kommt die digitale Jasstafel, die sich alles merkt und alles kann!",secondaryMessage:"Ihr macht die Stiche, ich schreib die Striche.",image:"/welcome-guru.png"},INSTALL_WELCOME:{title:"Jassguru in 3 Schritten",message:"Die moderne Jassguru-App funktioniert ganz ohne App Store. In drei einfachen Schritten bist du startklar:",image:"/welcome-guru.png"},INSTALL_SHARE:{title:"Schritt 1",message:"Tippe auf das Teilen-Symbol.",image:"/onboarding_pics/pfeilchenbox.png"},INSTALL_HOME:{title:"Schritt 2",message:'Scrolle hinunter und w\xe4hle "Zum Home-Bildschirm".',image:"/onboarding_pics/zumhomebildschirm.png"},INSTALL_FINAL:{title:"Schritt 3",message:'Tippe auf "Hinzuf\xfcgen".',image:"/onboarding_pics/hinzufuegen.png"},INSTALL_DONE:{title:"Fertig",message:"App \xf6ffnen und Jassen.",image:"/onboarding_pics/homescreen.png"},FINAL_HINTS:{title:"Letzte Hinweise",message:"",icon:tb.DAO}},Android:{WELCOME_SCREEN:{title:"Willkommen bei Jassguru",message:"Keine Diskussionen ums Z\xe4hlen, keine Zeitverschwendung f\xfcr Rechnereien, keine zerknitterten Zettel  hier kommt die digitale Jasstafel, die sich alles merkt und alles kann!",secondaryMessage:"Ihr macht die Stiche  ich schreib die Striche.",image:"/welcome-guru.png"},INSTALL_WELCOME:{title:"Jassguru in 3 Schritten",message:"Die moderne Jassguru-App funktioniert ganz ohne App Store. In drei einfachen Schritten bist du startklar:",icon:rx.twS,image:"/welcome-guru.png"},INSTALL_SHARE:{title:"Schritt 1",message:"Klicke auf die drei Punkte.",image:"/onboarding_pics/android_menu.png"},INSTALL_HOME:{title:"Schritt 2",message:'W\xe4hle "Zum Startbildschirm hin..."',image:"/onboarding_pics/android_hinzufuegen.png"},INSTALL_FINAL:{title:"Schritt 3",message:"App \xf6ffnen und Jassen!",image:"/onboarding_pics/homescreen.png"},FINAL_HINTS:{title:"Abschliessende\nHinweise",message:"Vermeide es, die App mehrfach zu installieren. Das kann zu unerw\xfcnschtem Verhalten f\xfchren.",secondaryMessage:"Beim ersten \xd6ffnen der App wirst du durch alle wichtigen Funktionen gef\xfchrt.",finalMessage:"Viel Spass beim Jassen!",image:"/welcome-guru.png"}}},rO=function(){var t=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(t)?"iOS":/android/.test(t)?"Android":"other"};function rT(t){return(rT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rP(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return rk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rk(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rk(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var rC=(u={},f=rN.INTRODUCTION,d={title:"Willkommen",message:"Willkommen bei Jassguru",icon:tb.DAO},(r=function(t,e){if("object"!==rT(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==rT(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(f,"string"),(f="symbol"===rT(r)?r:String(r))in u)?Object.defineProperty(u,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[f]=d,u),rA=function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=rO(),o="other"===r?"Android":r,i="iOS"===o?rw:rj,a=rP((0,w.useState)(n?"WELCOME_SCREEN":rN.INTRODUCTION),2),s=a[0],c=a[1],l=rP((0,w.useState)(!1),2),u=l[0],f=l[1];(0,w.useEffect)(function(){if(n){var t=Object.values(i),e=t.indexOf(s),r=t[e+1];if(r){var a=rE[o][r];"image"in a&&(new Image().src=a.image)}}},[s,n,o]);var d=(0,w.useCallback)(function(){ty.HB.getState().hideOnboarding(),f(!1)},[]),m=n?null===(t=rE[o])||void 0===t?void 0:t[s]:null!==(e=rC[s])&&void 0!==e?e:{title:"Fehler",message:"Inhalt nicht gefunden",icon:tb.DAO};return m||console.error("Kein Content gefunden f\xfcr Step: ".concat(s)),{currentStep:s,showOnboarding:n||u,content:m,handleNext:function(){var t=Object.values(n?i:rN),e=t.indexOf(s);c(e<t.length-1?t[e+1]:t[0])},handlePrevious:function(){var t=Object.values(n?i:rN),e=t.indexOf(s);c(e>0?t[e-1]:t[t.length-1])},handleDismiss:d,canBeDismissed:!0,isBrowserOnboarding:n}};function rI(t){return(rI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function rR(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rL(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==rI(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==rI(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===rI(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var rD=function(t){var e=t.content;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("h1",{className:"text-3xl font-bold mb-4 text-center text-white",children:e.title}),e.image&&(0,O.jsx)("img",{src:e.image,alt:"Jass Guru",className:"w-full h-auto mb-6"}),(0,O.jsx)("p",{className:"\n      text-center text-base whitespace-pre-line\n      ".concat("Jassguru in 3 Schritten"===e.title?"mb-12":"mb-6","\n    "),children:e.message}),e.secondaryMessage&&(0,O.jsx)("p",{className:"text-center text-base mb-6",children:e.secondaryMessage})]})},rG=function(){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("h1",{className:"text-3xl font-bold mb-4 text-center text-white",children:"Letzte Hinweise"}),(0,O.jsx)("img",{src:"/welcome-guru.png",alt:"Jass Guru",className:"w-32 h-32 object-contain mb-4"}),(0,O.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-300",children:"Achtung:"}),(0,O.jsx)("p",{className:"text-center text-base mb-6",children:"Vermeide es, die App mehrfach zu installieren  das kann zu unerw\xfcnschtem Verhalten f\xfchren!"}),(0,O.jsx)("h4",{className:"text-lg font-semibold mb-3 text-gray-300",children:"N\xe4chster Schritt:"}),(0,O.jsx)("p",{className:"text-center text-base mb-8",children:"Du kannst das Browser-Fenster nach der Installation schliessen. Beim ersten \xd6ffnen der App wirst du durch alle wichtigen Funktionen gef\xfchrt."}),(0,O.jsx)("h2",{className:"text-2xl font-bold text-center mb-8",children:"Gutes Jassen!"})]})},rM=function(t){var e=t.content;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("h1",{className:"text-3xl font-bold mb-4 text-center text-white",children:e.title}),e.image&&(0,O.jsx)("div",{className:"w-full mx-auto mb-6",children:(0,O.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-auto object-contain max-w-[280px] mx-auto"})}),e.icon&&(0,O.jsx)("div",{className:"text-yellow-600 mb-4",children:(0,O.jsx)(e.icon,{size:48})}),(0,O.jsx)("p",{className:"text-center text-base mb-7",children:e.message}),e.secondaryMessage&&(0,O.jsx)("p",{className:"text-center text-base mb-7",children:e.secondaryMessage})]})},r_=function(t){var e=t.previousButton,n=t.nextButton;return t.step,(0,O.jsxs)("div",{className:"flex justify-between w-full gap-4",children:[(0,O.jsxs)("button",rR(rR({},e.handlers),{},{className:"\n        flex-1 bg-gray-600 text-white px-6 py-2 rounded-full \n        hover:bg-gray-700 transition-all duration-100 text-lg font-semibold \n        flex items-center justify-center\n        ".concat(e.buttonClasses,"\n      "),children:[(0,O.jsx)(tb.x_l,{className:"mr-2"}),"Zur\xfcck"]})),(0,O.jsx)("button",rR(rR({},n.handlers),{},{className:"\n        flex-1 bg-yellow-600 text-white px-6 py-2 rounded-full \n        hover:bg-yellow-700 transition-all duration-100 text-lg font-semibold \n        flex items-center justify-center\n        ".concat(n.buttonClasses,"\n      "),children:(0,O.jsxs)(O.Fragment,{children:["Weiter",(0,O.jsx)(tb.Z1Y,{className:"ml-2"})]})}))]})},rz=function(t){var e=t.show,n=t.step,r=t.content,o=t.onNext,i=t.onPrevious;t.onDismiss,t.canBeDismissed,t.isPWA,t.isBrowserOnboarding;var a=ed(),s=a.overlayScale,c=a.urlBarPosition,l=(0,el.m)(i),u=(0,el.m)(o),f="WELCOME_SCREEN"===n||"INSTALL_WELCOME"===n;return(0,O.jsx)(tv.M,{children:e&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(tS.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 z-[99998]"}),(0,O.jsx)(tS.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-[99999] \n              ".concat("top"===c?"pt-16 pb-8":"pt-8 pb-16"),children:(0,O.jsx)(tS.E.div,{initial:{scale:.95},animate:{scale:s,y:"top"===c?40:-40},exit:{scale:.95},className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white",children:(0,O.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[f?(0,O.jsx)(rD,{content:r}):"FINAL_HINTS"===n?(0,O.jsx)(rG,{}):(0,O.jsx)(rM,{content:r}),(0,O.jsx)(r_,{previousButton:l,nextButton:u,step:n})]})},n)})]})})},rH=n(5523),rB=n(9077),rF=n(1554),rK=n(5308),rW=n(3574),rU=n(1239);tQ.RX.CALCULATOR_OPEN,tb.KHI,tQ.RX.GAME_INFO,rK.Jf7,tQ.RX.CALCULATOR,tb.KHI,tQ.RX.NAVIGATE_SCORES,rW.V4,tQ.RX.RESULTAT_INFO,tb.DAO,tQ.RX.NEW_GAME,t9.bxQ;var rJ=function(){var t=(0,t$.X)(),e=t.startTutorial,n=t.resetTutorial,r=(0,ty.HB)(),o=r.closeTutorialInfo,i=r.isTutorialInfoOpen,a=(0,ty.HB)(function(t){return t.calculator.isFlipped}),s=(0,ty.HB)().setCalculatorFlipped,c=ed().overlayScale,l=[{title:"Punkte schreiben",id:tQ.RX.CALCULATOR_OPEN,icon:tb.KHI},{title:"Weisen",id:tQ.RX.WEIS,icon:tb.KT8},{title:"Berg / Bedanken / Rechnen",id:tQ.RX.GAME_INFO,icon:rK.Jf7},{title:"Resultate / Neues Spiel",id:tQ.RX.RESULTAT_INFO,icon:eL.cmy,onEnter:function(){window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"open",teamPosition:"bottom",stepId:tQ.RX.RESULTAT_INFO}}))}},{title:"L\xf6schen / Neuer Jass",id:tQ.RX.NEW_GAME,icon:tb.AMf,onEnter:function(){window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"open",teamPosition:"bottom",stepId:tQ.RX.NEW_GAME}}))}},{title:"Navigieren / Korrigieren",id:tQ.RX.NAVIGATE_SCORES,icon:rW.V4},{title:"Individuelle Einstellungen",id:tQ.RX.JASS_SETTINGS,icon:tb.p4t,onEnter:function(){window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"open",teamPosition:"bottom",stepId:tQ.RX.JASS_SETTINGS}}))}},{title:"Tipps & Tricks",id:tQ.RX.TIPS_WELCOME,icon:rU.sTU,onEnter:function(){e(tQ.RX.TIPS_WELCOME)}}],u=function(t){var r,i=l.find(function(e){return e.id===t});n(),null==i||null===(r=i.onEnter)||void 0===r||r.call(i),e(t,{isHelpMode:!0}),o()},f=(0,j.q_)({opacity:i?1:0,transform:"scale(".concat(i?c:.95,") rotate(").concat(a?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20}});return i?(0,O.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50",onClick:function(t){t.target===t.currentTarget&&o()},children:(0,O.jsxs)(j.q.div,{style:f,className:"relative w-11/12 max-w-md bg-gray-800 bg-opacity-95 rounded-xl p-4 shadow-lg select-none",onClick:function(t){return t.stopPropagation()},children:[(0,O.jsx)("h2",{className:"text-2xl font-bold text-white text-center mb-4",children:"Hilfe & Anleitungen"}),(0,O.jsx)("div",{className:"flex justify-center mb-4",children:(0,O.jsx)(rW.r$n,{className:"w-12 h-12 text-yellow-600"})}),(0,O.jsx)("button",{onClick:function(){return s(!a)},className:"absolute bottom-full mb-[-10px] left-1/2 transform -translate-x-1/2 \n            text-white hover:text-gray-300 transition-all duration-1000\n            w-24 h-24 flex items-center justify-center rounded-full\n            ".concat(a?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,O.jsx)(t9.bxQ,{className:"w-8 h-8"})}),(0,O.jsx)("button",{onClick:o,className:"absolute right-2 top-2 p-2 text-gray-400 hover:text-white transition-colors",children:(0,O.jsx)(t9.q5L,{size:28})}),(0,O.jsx)("div",{className:"overflow-y-auto max-h-[60vh] pr-2 space-y-2",children:l.map(function(t){return(0,O.jsxs)("button",{onClick:function(){return u(t.id)},className:"w-full flex items-center gap-4 p-4 rounded-lg text-gray-200 hover:bg-gray-700 transition-colors text-xl",children:[t.icon&&(0,O.jsx)(t.icon,{className:"w-7 h-7 text-yellow-600"}),(0,O.jsx)("span",{children:t.title})]},t.id)})})]})}):null},rX=function(){var t=(0,ty.HB)(function(t){return t.notifications}),e=(0,ty.HB)(function(t){return t.removeNotification}),n=function(t){if(t.image)return(0,O.jsx)("img",{src:t.image,alt:"",className:"w-56 h-56 mb-4 rounded-lg object-cover"});switch(t.type){case"warning":return(0,O.jsx)(tb.gJy,{className:"w-12 h-12 text-yellow-600 mb-2"});case"success":case"bedanken":return(0,O.jsx)(tb.FJM,{className:"w-12 h-12 text-green-600 mb-2"});case"error":return(0,O.jsx)(tb.gJy,{className:"w-12 h-12 text-red-600 mb-2"});default:return(0,O.jsx)(tb.DAO,{className:"w-12 h-12 text-blue-600 mb-2"})}},r=function(t){var n;return null!==(n=t.actions)&&void 0!==n&&n.length?t.actions.map(function(n,r){return(0,O.jsx)("button",{onClick:function(){n.onClick(),t.preventClose||e(t.id)},className:"\n          flex-1 px-6 py-2 rounded-full \n          text-lg font-semibold\n          ".concat("bedanken"===t.type&&r===t.actions.length-1?"bg-green-600 hover:bg-green-700":r===t.actions.length-1?"bg-yellow-600 hover:bg-yellow-700":"bg-gray-600 hover:bg-gray-700","\n          text-white\n          transition-all duration-100\n          active:scale-95 active:opacity-80\n        "),children:n.label},r)}):(0,O.jsx)("div",{className:"flex justify-center w-full",children:(0,O.jsx)("button",{onClick:function(){return e(t.id)},className:" w-36 bg-yellow-600 text-white px-6 py-2 rounded-full  hover:bg-yellow-700 transition-all duration-100 text-lg font-semibold active:scale-95 active:opacity-80 ",children:"Verstanden"})})};return(0,O.jsx)(tv.M,{children:t.map(function(t){var o;return(0,O.jsxs)(tS.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"\n            fixed inset-0 flex items-center justify-center z-[9999]\n            ".concat(t.isFlipped?"rotate-180":"","\n            ").concat("bedanken"===t.type?"items-end pb-4":"","\n          "),children:[(0,O.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:function(){return e(t.id)}}),(0,O.jsxs)(tS.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white z-10",children:[(0,O.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[n(t),(0,O.jsx)("p",{className:"text-center mb-6 mt-4",children:t.message})]}),(0,O.jsx)("div",{className:"flex justify-".concat((null===(o=t.actions)||void 0===o?void 0:o.length)===1?"center":"between"," gap-4"),children:r(t)})]})]},t.id)})})};function rV(t){return(rV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rZ(){rZ=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(e,n,r,i){var a,s,c=Object.create((n&&n.prototype instanceof g?n:g).prototype);return o(c,"_invoke",{value:(a=new T(i||[]),s=d,function(n,o){if(s===m)throw Error("Generator is already running");if(s===h){if("throw"===n)throw o;return{value:t,done:!0}}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=function e(n,r){var o=r.method,i=n.iterator[o];if(i===t)return r.delegate=null,"throw"===o&&n.iterator.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+o+"' method")),p;var a=f(i,n.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var s=a.arg;return s?s.done?(r[n.resultName]=s.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,p)}(i,a);if(c){if(c===p)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var l=f(e,r,a);if("normal"===l.type){if(s=a.done?h:"suspendedYield",l.arg===p)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(s=h,a.method="throw",a.arg=l.arg)}})}),c}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",m="executing",h="completed",p={};function g(){}function y(){}function b(){}var v={};l(v,a,function(){return this});var S=Object.getPrototypeOf,x=S&&S(S(P([])));x&&x!==n&&r.call(x,a)&&(v=x);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function N(t,e){var n;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==rV(u)&&r.call(u,"__await")?e.resolve(u.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):e.resolve(u).then(function(t){l.value=t,a(l)},function(t){return n("throw",t,a,s)})}s(c.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}})}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw TypeError(rV(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(N.prototype),l(N.prototype,s,function(){return this}),e.AsyncIterator=N,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new N(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),l(w,c,"Generator"),l(w,a,function(){return this}),l(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function rY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function rq(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rY(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==rV(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==rV(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===rV(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rY(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function r$(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){n(t);return}s.done?e(c):Promise.resolve(c).then(r,o)}function rQ(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r0(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r0(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function r1(t){var e=(0,w.useRef)();return(0,w.useEffect)(function(){e.current=t},[t]),e.current}var r2=function(t){var e,n,r,o,i,a,s,c,l,u,f,d,m,h,p,g,y,b=t.middleLineThickness,v=void 0===b?60:b,S=t.zShapeConfig,x=rQ((0,w.useState)(!1),2),N=x[0],T=x[1],P=rQ((0,w.useState)(!1),2),k=P[0],C=P[1],A=rQ((0,w.useState)(null),2),I=A[0],L=A[1],R=tH(),D=R.isGameStarted,G=R.isGameCompleted,M=R.scores,_=M.top,z=M.bottom,H=R.currentPlayer,B=R.currentRound,F=R.addWeisPoints,K=tp().isJassStarted,W=(0,ty.HB)(),U=W.menu.isOpen,J=W.setMenuOpen,X=W.historyWarning,V=W.isGameInfoOpen,Z=W.setGameInfoOpen,Y=W.setOverlayPosition,q=W.isTutorialInfoOpen,$=E(),Q=rQ((0,w.useState)(function(){return(0,rH.E)()}),1)[0],tt=rQ((0,w.useState)(!Q),2),te=tt[0];tt[1];var tn=rQ((0,w.useState)(!1),2),tr=tn[0],to=tn[1],ti=rA(te),ta=ti.currentStep,ts=ti.showOnboarding,tc=ti.content,tl=ti.handleNext,tu=ti.handlePrevious,tf=(ti.handleDismiss,ti.canBeDismissed),td=(0,t$.X)(),tm=td.isActive,th=td.hasCompletedTutorial,tg=td.getCurrentStep,tb=td.startTutorial,tv=ed(),tS=tv.scale;tv.deviceType,(0,w.useEffect)(function(){Q||(ty.HB.getState().showOnboarding(!0,Q),to(!0))},[Q]);var tx=(0,w.useMemo)(function(){return!K&&!D},[K,D]);(0,w.useEffect)(function(){T(!0)},[]),(0,w.useEffect)(function(){C(!1)},[]);var tj=(0,w.useMemo)(function(){if(!N)return{topContainerHeight:0,bottomContainerHeight:0,middleLinePosition:0};var t=(0,rH.E)()?parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--safe-area-top")||"0"):0,e=$-t-((0,rH.E)()?parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--safe-area-bottom")||"0"):0),n=Math.floor(e/2),r=Math.floor(e/2);return{topContainerHeight:r,bottomContainerHeight:r,middleLinePosition:n+t}},[$,v,N]),tN=tj.topContainerHeight,tE=tj.bottomContainerHeight,tO=tj.middleLinePosition,tT=t7({initialPosition:0,maxOffset:.07*$,position:"top"}),tP=tT.y,tk=tT.mainOpacity,tC=(tT.oppositeOpacity,tT.animateSwipe),tA=tT.getBrightness,tI=t7({initialPosition:0,maxOffset:.07*$,position:"bottom"}),tL=tI.y,tR=tI.mainOpacity,tD=(tI.oppositeOpacity,tI.animateSwipe),tG=tI.getBrightness,tM=(0,w.useCallback)(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"left";("top"===t?tC:tD)(e);var n="top"===t?tA:tG;n(1.2),setTimeout(function(){return n(1)},300)},[tC,tD,tA,tG]),t_=n0("top"),tz=n0("bottom"),tB=(0,w.useCallback)(function(t,e){if("left"===t||"right"===t){("top"===e?t_:tz).handleSwipe(t),tM(e,t);return}if("up"===t||"down"===t){var n="top"===e&&"up"===t||"bottom"===e&&"down"===t,r="top"===e&&"down"===t||"bottom"===e&&"up"===t;n?(Y(e),L(e),setTimeout(function(){J(!0),tC(!0),tD(!0)},0)):r&&(J(!1),L(null),Y(null),tC(!1),tD(!1))}},[t_,tz,tC,tD,J,Y,tM]),tF=(0,w.useCallback)(function(t){U||(Y(t),L(t),C(!0),window.dispatchEvent(new CustomEvent("calculatorOpen")))},[U]),tK=(0,w.useCallback)(function(){C(!1),L(null),Y(null)},[]),tW=(n=(e={onSingleClick:function(t,e){L(t),"restzahl"===e?F(t,1):F(t,parseInt(e,10)||20)},middleLinePosition:tO,delay:230}).onSingleClick,o=void 0===(r=e.delay)?230:r,a=void 0===(i=e.middleLinePosition)?0:i,s=(0,w.useRef)(0),c=(0,w.useRef)(null),l=(0,w.useRef)(!1),f=(u=(0,ty.HB)()).canOpenGameInfo,d=u.setGameInfoOpen,m=u.setLastDoubleClickPosition,(0,w.useEffect)(function(){return function(){c.current&&(clearTimeout(c.current),c.current=null)}},[]),{handleGlobalClick:(0,w.useCallback)(function(t){var e=Date.now();if(e<eI.lockUntil){console.log("\uD83D\uDD12 Klick ignoriert - Klicksperre aktiv");return}var r=e-s.current;eI.lastClickTime=e;var i=t.target.closest('[data-strich-box="true"]'),u=null==i?void 0:i.getAttribute("data-position"),h=null==i?void 0:i.getAttribute("data-box-type"),p=u||(t.clientY<a?"top":"bottom");if(c.current&&(clearTimeout(c.current),c.current=null),r<o){console.log("\uD83D\uDD0D Doppelklick erkannt, GameInfo wird ge\xf6ffnet"),l.current=!0,eI.isProcessingDoubleClick=!0,eI.lockUntil=e+500,s.current=0,m(p),f()&&d(!0),setTimeout(function(){l.current=!1,eI.isProcessingDoubleClick=!1},100);return}s.current=e,l.current||eI.isProcessingDoubleClick||(c.current=setTimeout(function(){!l.current&&!eI.isProcessingDoubleClick&&Date.now()>=eI.lockUntil&&i&&u&&h&&n?(console.log(" Timeout ausgel\xf6st, Strich wird geschrieben:",h),n(u,h)):console.log(" Timeout ausgel\xf6st, aber Strich wurde NICHT geschrieben - Doppelklick oder Lock erkannt"),s.current=0,c.current=null},o))},[o,a,d,m,n,f])}).handleGlobalClick;(0,w.useEffect)(function(){if(N){var t=setTimeout(function(){var t=window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px"))},0),e=setTimeout(function(){var t=window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px"))},100);return function(){clearTimeout(t),clearTimeout(e)}}},[N]),(0,w.useEffect)(function(){var t=function(){};return window.addEventListener("scroll",t,{passive:!1}),function(){return window.removeEventListener("scroll",t)}},[]);var tU=r1(_),tJ=r1(z);(0,w.useEffect)(function(){void 0!==tU&&_!==tU&&tM("top",_>tU?"left":"right")},[_,tU,tM]),(0,w.useEffect)(function(){void 0!==tJ&&z!==tJ&&tM("bottom",z>tJ?"left":"right")},[z,tJ,tM]);var tX=(0,w.useCallback)(function(){J(!1),L(null),tC(!1),tD(!1)},[J,tC,tD]),tV=(0,w.useCallback)(function(t){},[]);(0,w.useEffect)(function(){console.log("Onboarding Status:",{showOnboarding:ts,forceOnboarding:tr,canBeDismissed:tf,isPWAInstalled:Q})},[ts,tr,tf,Q]),(0,w.useEffect)(function(){console.log("Tutorial Conditions:",{isPWA:Q,shouldShow:(0,rB.c9)(),hasCompleted:th,mounted:N,isBrowserOnboarding:te});var t=t$.X.getState();(Q||rB.r8)&&(0,rB.c9)()&&(!th||rB.rR)&&N&&!t.isActive&&(console.log("Starting Tutorial!"),tb())},[N,Q]);var tZ=(0,w.useMemo)(function(){return tm?{handleSwipe:tB,handleLongPress:function(t){return tF(t)}}:null},[tm,tB,tF]);return((0,w.useEffect)(function(){var t=function(t){console.log("\uD83C\uDFAF Tutorial Split Container Event:",{action:t.detail.action,teamPosition:t.detail.teamPosition,currentStep:null===(e=tg())||void 0===e?void 0:e.id});var e,n=t.detail,r=n.action,o=n.teamPosition;"open"===r?(console.log("\uD83D\uDCC2 Opening container with:",{teamPosition:o,isMenuOpen:ty.HB.getState().menu.isOpen}),Y(o),L(o),J(!0),requestAnimationFrame(function(){tC(!0),tD(!0)})):"close"===r&&(console.log("\uD83D\uDCC2 Closing container"),Y(null),L(null),J(!1),requestAnimationFrame(function(){tC(!1),tD(!1)}))};return window.addEventListener("tutorial:splitContainer",t),function(){window.removeEventListener("tutorial:splitContainer",t)}},[tC,tD,J,tg]),(0,w.useCallback)((h=rZ().mark(function t(e){var n,r,o,i,a,s,c,l;return rZ().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=ty.HB.getState().resultatKreidetafel,ty.HB.setState(function(t){return{resultatKreidetafel:rq(rq({},t.resultatKreidetafel),{},{swipePosition:"bottom",isFlipped:!1})}}),t.next=5,new Promise(function(t){return setTimeout(t,400)});case 5:if(r=document.querySelector(".kreidetafel-content"),o=document.querySelector(".statistik-container"),i=document.querySelector(".button-container"),!(!r||!o||!i||!(r instanceof HTMLElement)||!(o instanceof HTMLElement)||!(i instanceof HTMLElement))){t.next=10;break}throw Error("Erforderliche Elemente nicht gefunden");case 10:return a={maxHeight:o.style.maxHeight,overflowY:o.style.overflowY,buttonDisplay:i.style.display},o.style.maxHeight="none",o.style.overflowY="visible",i.style.display="none",t.prev=14,t.next=17,nl()(r,{useCORS:!0,logging:!1,width:r.scrollWidth,height:r.scrollHeight,scale:2});case 17:return s=t.sent,t.next=20,new Promise(function(t){s.toBlob(function(e){e&&t(e)},"image/png",1)});case 20:if(c=t.sent,!navigator.share){t.next=25;break}return l="".concat(e,"\n\nGeneriert von:\n\uD83D\uDC49 https://jassguru.web.app"),t.next=25,navigator.share({files:[new File([c],"jass-resultat.png",{type:"image/png"})],text:l});case 25:return t.prev=25,o.style.maxHeight=a.maxHeight,o.style.overflowY=a.overflowY,i.style.display=a.buttonDisplay,ty.HB.setState(function(t){return{resultatKreidetafel:rq(rq({},t.resultatKreidetafel),n)}}),t.finish(25);case 31:t.next=36;break;case 33:t.prev=33,t.t0=t.catch(0),console.error("Screenshot/Share Fehler:",t.t0);case 36:case"end":return t.stop()}},t,null,[[0,33],[14,,25,31]])}),p=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=h.apply(t,e);function i(t){r$(o,n,r,i,a,"next",t)}function a(t){r$(o,n,r,i,a,"throw",t)}i(void 0)})},function(t){return p.apply(this,arguments)}),[]),N)?(0,O.jsxs)("div",{className:"relative w-full h-full overflow-hidden bg-chalk-black prevent-interactions",onClick:tW,onContextMenu:function(t){return t.preventDefault()},style:{transform:"scale(".concat(tS,")"),transformOrigin:"center center",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(rF.default,{onCloseMenu:tX}),q&&(0,O.jsx)(rJ,{})]}),!Q&&(0,O.jsx)(rz,{show:ts&&tr,step:ta,content:tc,onNext:tl,onPrevious:tu,onDismiss:function(){},canBeDismissed:!1,isPWA:Q,isBrowserOnboarding:te}),tx&&!tm?(0,O.jsx)(eT,{}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(t6,{position:"top",height:tN,zShapeConfig:S,padding:"paddingTop",onSwipe:null!==(g=null==tZ?void 0:tZ.handleSwipe)&&void 0!==g?g:tB,y:tP,mainOpacity:tk,getBrightness:tA,onLongPress:function(t){return tF(t)},score:_,triggerBlendEffect:tV,isHistoryNavigationActive:t_.isInPast}),(0,O.jsx)(j.q.div,{style:{position:"absolute",left:"5%",width:"90%",top:tO-v/2,height:"".concat(v/2,"px"),transform:tP.to(function(t){return"translateY(".concat(-t,"px)")})},className:"bg-chalk-red"}),(0,O.jsx)(j.q.div,{style:{position:"absolute",left:"5%",width:"90%",top:tO,height:"".concat(v/2,"px"),transform:tL.to(function(t){return"translateY(".concat(t,"px)")})},className:"bg-chalk-red"}),(0,O.jsx)(eA,{currentPlayer:H,currentRound:B,opacity:tk.get(),isOpen:U,isGameStarted:!G,gameStartTime:null,roundStartTime:null}),(0,O.jsx)(t6,{position:"bottom",height:tE,zShapeConfig:S,padding:"paddingBottom",onSwipe:null!==(y=null==tZ?void 0:tZ.handleSwipe)&&void 0!==y?y:tB,y:tL,mainOpacity:tR,getBrightness:tG,onLongPress:function(t){return tF(t)},score:z,triggerBlendEffect:tV,isHistoryNavigationActive:tz.isInPast}),k&&(0,O.jsx)(eb,{isOpen:k,onClose:tK,onCancel:tK,initialValue:0,clickedPosition:I}),(0,O.jsx)(e2,{isOpen:U,onClose:tX,swipePosition:I||"bottom"}),(0,O.jsx)(nQ,{})]}),(0,O.jsx)(tw,{show:X.show,message:X.message,onConfirm:X.onConfirm,onDismiss:X.onCancel,swipePosition:I||"bottom"}),(0,O.jsx)(rS,{isOpen:V,onClose:function(){return Z(!1)}}),(0,O.jsx)(rX,{})]}):null},r5=function(){return(0,O.jsx)("div",{className:"w-screen h-screen relative z-10",children:(0,O.jsx)(r2,{middleLineThickness:3,zShapeConfig:{innerSpacing:50,sideSpacing:0,edgeSpacing:70}})})}},630:function(t,e,n){"use strict";n.d(e,{X:function(){return x}});var r=n(1993),o=n(782),i=n(9077),a=n(2807),s=n(3574),c=n(968),l=n(4319),u=n(1773),f=n(5308),d=n(4830),m=n(1239),h=[{id:c.RX.WELCOME,title:"Hoi z\xe4me!",content:"Bereit f\xfcr eine kleine F\xfchrung durch die App? F\xfchre die folgendenden Aktionen durch!",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-40}},image:"/welcome-guru.png",category:c.cz.BASIC,order:1,autoProgress:!1,onEnter:function(){console.log("\uD83C\uDFAC WELCOME onEnter"),window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"close",teamPosition:"bottom",stepId:c.RX.WELCOME}}))}},{id:c.RX.MENU_GESTURE,title:"Men\xfc \xf6ffnen",content:"Wische auf deiner H\xe4lfte der Jasstafel nach oben oder unten.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-90}},category:c.cz.BASIC,order:2,action:{type:"split",position:"bottom"},icon:s.Kgy,autoProgress:!1,onEnter:function(){window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"open",teamPosition:"bottom",stepId:c.RX.MENU_GESTURE}}))},onExit:function(){window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"close",teamPosition:"bottom",stepId:c.RX.MENU_GESTURE}}))}},{id:c.RX.WEIS,title:"Weise schreiben",content:"Tippe auf die Z-Linie um Weise einzutragen.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-90}},category:c.cz.BASIC,order:3,action:{type:"click",position:"bottom"},icon:u.KT8,autoProgress:!1,onExit:function(){l.HB.getState().setMenuOpen(!1)}},{id:c.RX.CALCULATOR_OPEN,title:"Punkte schreiben",content:"Dr\xfccke lange auf die Seite des z\xe4hlenden Teams, bis der Rechner erscheint. Tippe die Punkte ein, w\xe4hle die Farbe und best\xe4tige mit OK. Matsch hat seinen eigenen Knopf.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-90}},category:c.cz.BASIC,order:4,action:{type:"longpress",position:"bottom"},icon:u.KHI,autoProgress:!1,onEnter:function(){x.getState().setTutorialUIBlocking({calculatorClose:!1})},onExit:function(){x.getState().setTutorialUIBlocking({calculatorClose:!0})}},{id:c.RX.GAME_INFO,title:"Berg / Bedanken / Rechnen",content:"Doppelklicke auf die Seite des erfolgreichen Teams, um den Berg zu schreiben oder euch zu bedanken. Der orange Knopf hilft bei Berechnungen. Ausserdem ist hier auch die Pause-Funktion.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-90}},category:c.cz.BASIC,order:5,action:{type:"doubleclick",position:"bottom"},icon:f.Jf7,autoProgress:!1,onEnter:function(){x.getState().setTutorialUIBlocking({gameInfoClose:!1})},onExit:function(){l.HB.getState().closeAllOverlays(),x.getState().setTutorialUIBlocking({gameInfoClose:!1})}},{id:c.RX.RESULTAT_INFO,title:"Weiterjassen / Beenden",content:"Setze den Jass fort, beende ihn oder pr\xfcfe den Zwischenstand.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-90}},category:c.cz.BASIC,order:6,icon:d.cmy,autoProgress:!1,onEnter:function(){window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"open",teamPosition:"bottom",stepId:c.RX.RESULTAT_INFO}}))},onExit:function(){window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"close",teamPosition:"bottom",stepId:c.RX.RESULTAT_INFO}}))}},{id:c.RX.NAVIGATE_SCORES,title:"Punktestand korrigieren",content:"Swipe nach links oder rechts, um durch den Spielverlauf zu navigieren. Du kannst so den Punktestand jederzeit korrigieren.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-90}},category:c.cz.BASIC,order:7,icon:s.V4,autoProgress:!1,onEnter:function(){l.HB.getState().setMenuOpen(!1)}},{id:c.RX.NEW_GAME,title:"Neustart",content:"Hier startest du einen neuen Jass. Die alten Spiele werden dann gel\xf6scht.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-90}},category:c.cz.BASIC,order:8,action:{type:"split",position:"bottom"},icon:f.Z2m,autoProgress:!1,onEnter:function(){var t=l.HB.getState();t.setMenuOpen(!0),t.setOverlayPosition("bottom"),window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"open",teamPosition:"bottom",stepId:c.RX.NEW_GAME}})),x.getState().setTutorialUIBlocking({settingsClose:!0,calculatorClose:!0,gameInfoClose:!0,resultatKreidetafelClose:!0})},onExit:function(){var t=l.HB.getState();t.closeAllOverlays(),window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"close",teamPosition:"bottom",stepId:c.RX.NEW_GAME}})),t.tutorialBlockedUI={settingsClose:!1,calculatorClose:!1,gameInfoClose:!1,resultatKreidetafelClose:!1}}},{id:c.RX.JASS_SETTINGS,title:"Jass-Einstellungen",content:"Hier kannst du Zielpunkte, Farben und Multiplikatoren \xe4ndern. Bl\xe4ttere links oder rechts f\xfcr weitere Optionen.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-90}},category:c.cz.BASIC,order:9,action:{type:"split",position:"bottom"},icon:u.p4t,autoProgress:!1,onEnter:function(){var t=l.HB.getState();t.setMenuOpen(!0),t.setOverlayPosition("bottom"),window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"open",teamPosition:"bottom",stepId:c.RX.JASS_SETTINGS}})),t.tutorialBlockedUI={settingsClose:!0,calculatorClose:!0,gameInfoClose:!0,resultatKreidetafelClose:!0}},onExit:function(){var t=l.HB.getState();t.closeAllOverlays(),window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"close",teamPosition:"bottom",stepId:c.RX.JASS_SETTINGS}})),t.tutorialBlockedUI={settingsClose:!1,calculatorClose:!1,gameInfoClose:!1,resultatKreidetafelClose:!1}}},{id:c.RX.BASIC_COMPLETE,title:"Bingo!",content:"Du kennst nun alle wichtigen Funktionen. Du kannst jetzt losjassen!",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-40}},image:"/welcome-guru.png",category:c.cz.BASIC,order:10,autoProgress:!1,onEnter:function(){x.getState().markCategoryAsCompleted(c.cz.BASIC)},onExit:function(){x.getState().endTutorial(!0)}},{id:c.RX.SETTINGS,title:"Jass-Einstellungen",content:"Bevor wir loslegen, nehmen wir deine individuellen Einstellungen vor.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-90}},target:".settings-button",category:c.cz.SETTINGS,order:1,action:{type:"click"},icon:a.cPn,autoProgress:!1,hideNavigation:!0,navigation:{next:{targetStep:c.RX.SETTINGS_INTRO,skipSteps:!1}}},{id:c.RX.SETTINGS_INTRO,content:"Klicke auf die Kn\xf6pfe und w\xe4hle deine Pr\xe4ferenzen aus.",overlayPosition:{vertical:"bottom",horizontal:"center",offset:{y:-50}},category:c.cz.SETTINGS,order:2,autoProgress:!1,navigation:{next:{targetStep:c.RX.SETTINGS_NAVIGATE,skipSteps:!1},back:{targetStep:c.RX.SETTINGS,skipSteps:!1}},onEnter:function(){x.getState().setTutorialUIBlocking({settingsClose:!0})},onExit:function(){x.getState().setTutorialUIBlocking({settingsClose:!1})}},{id:c.RX.SETTINGS_NAVIGATE,content:"Wechsle zur n\xe4chsten Seite und nehme die Punkte-Einstellungen vor.",overlayPosition:{vertical:"bottom",horizontal:"center",offset:{y:120}},target:"#settings-navigation-next-button",category:c.cz.SETTINGS,order:3,action:{type:"click"},autoProgress:!0,hideNavigation:!0,navigation:{next:{targetStep:c.RX.SETTINGS_SCORES,skipSteps:!1},back:{targetStep:c.RX.SETTINGS_INTRO,skipSteps:!1}}},{id:c.RX.SETTINGS_SCORES,content:"Bestimme nun deine Zielpunktzahlen.",overlayPosition:{vertical:"bottom",horizontal:"center",offset:{y:-32}},category:c.cz.SETTINGS,order:4,autoProgress:!1,navigation:{next:{targetStep:c.RX.SETTINGS_NAVIGATE_STROKES,skipSteps:!1},back:{targetStep:c.RX.SETTINGS_NAVIGATE,skipSteps:!1}}},{id:c.RX.SETTINGS_NAVIGATE_STROKES,content:"Klicke wieder auf den Pfeil nach rechts, um die Striche-Einstellungen vorzunehmen.",overlayPosition:{vertical:"bottom",horizontal:"center",offset:{y:110}},category:c.cz.SETTINGS,order:5,action:{type:"click"},autoProgress:!0,hideNavigation:!0,navigation:{next:{targetStep:c.RX.SETTINGS_STROKES,skipSteps:!1},back:{targetStep:c.RX.SETTINGS_SCORES,skipSteps:!1}}},{id:c.RX.SETTINGS_STROKES,title:"Striche Einstellungen",content:"W\xe4hle wieviele Striche Schneider/Kontermatsch bei deiner Jassrunde z\xe4hlen.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-50}},category:c.cz.SETTINGS,order:6,autoProgress:!1,hideNavigation:!0,navigation:{next:{targetStep:c.RX.BINGO_SETTINGS,skipSteps:!1},back:{targetStep:c.RX.SETTINGS_NAVIGATE_STROKES,skipSteps:!1}},onExit:function(){var t=l.HB.getState();t.splitContainer.isOpen=!1,t.menu.isOpen=!1,t.closeAllOverlays(),t.setMenuOpen(!1),t.tutorialBlockedUI={settingsClose:!1,calculatorClose:!1,gameInfoClose:!1,resultatKreidetafelClose:!1},console.log("\uD83E\uDDF9 Cleaning up after settings:",{splitContainerOpen:t.splitContainer.isOpen,menuOpen:t.menu.isOpen})}},{id:c.RX.BINGO_SETTINGS,title:"Bingo!",content:"Du hast die Jass-Einstellungen abgeschlossen. Du kannst diese jederzeit wieder \xe4ndern. Du kannst jetzt losjassen!",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-40}},image:"/welcome-guru.png",category:c.cz.SETTINGS,order:8,autoProgress:!1},{id:c.RX.CALCULATOR,title:"Punkte eintragen",content:"Halte die Seite des z\xe4hlenden Spielers lange gedr\xfcckt, um Punkte einzutragen.",overlayPosition:{vertical:"bottom",horizontal:"center"},target:".split-container",category:c.cz.GAME,order:1,action:{type:"longpress"}},{id:c.RX.TIPS_WELCOME,title:"Tipps & Tricks",content:"Hier noch ein paar Tipps, die dir das Jassen erleichtern:",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-40}},image:"/welcome-guru.png",category:c.cz.TIPS,order:1,autoProgress:!1},{id:c.RX.TIPS_PLAYER_ORDER,title:"Spielerreihenfolge \xe4ndern",content:"Falls die Spielerreihenfolge ge\xe4ndert werden muss, einfach auf den Namen klicken und den gew\xfcnschten Spieler ausw\xe4hlen.",overlayPosition:{vertical:"center",horizontal:"center"},category:c.cz.TIPS,order:2,image:"/tutorial_pics/dropdown-namen.png",autoProgress:!1},{id:c.RX.TIPS_QUICK_CLOSE,title:"Schnelles Schliessen",content:"Du kannst alle Komponenten auch durch Klicken ausserhalb des Fensters schliessen - das ist oft schneller als den Schliessen-Button zu treffen.",overlayPosition:{vertical:"center",horizontal:"center"},category:c.cz.TIPS,order:3,icon:m.fZX,autoProgress:!1},{id:c.RX.TIPS_IPHONE_WAKE,title:"Tipp f\xfcr iPhone Nutzer",content:"Da die Wachhalte-Funktion auf iPhones nicht verf\xfcgbar ist, empfehlen wir dir die Auto-Sperre auf 5 Minuten einzustellen:\n\nEinstellungen  Bildschirm & Helligkeit  Automatische Sperre  5 Minuten",overlayPosition:{vertical:"center",horizontal:"center"},category:c.cz.TIPS,order:4,icon:m.t8I,autoProgress:!1,onExit:function(){var t=x.getState();t.markCategoryAsCompleted(c.cz.TIPS),t.endTutorial(!0)}}],p=n(5523);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return b(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===g(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var x=(0,r.U)()((0,o.tJ)(function(t,e){return{isActive:!1,currentStepIndex:0,hasCompletedTutorial:!1,steps:h,tutorialUIBlocking:{settingsClose:!1,calculatorClose:!1,gameInfoClose:!1,resultatKreidetafelClose:!1},completedCategories:[],isHelpMode:!1,activeEvents:new Set,setActive:function(n){return t({isActive:n,currentStepIndex:n?e().currentStepIndex:0})},startTutorial:function(n,r){if(i.r8||(0,p.E)()){var o,a=e();(!a.hasCompletedTutorial||i.rR||n)&&(a.cleanupStepEvents(),t({isActive:!0,isHelpMode:null!==(o=null==r?void 0:r.isHelpMode)&&void 0!==o&&o,currentStepIndex:n?a.steps.findIndex(function(t){return t.id===n}):0}))}},endTutorial:function(n){e().cleanupStepEvents(),t({isActive:!1,isHelpMode:!1,currentStepIndex:0,hasCompletedTutorial:n})},nextStep:function(){var n,r,o=e(),i=o.steps,a=o.currentStepIndex,s=i[a];if(console.log("\uD83C\uDFAF Tutorial nextStep:",{from:null==s?void 0:s.id,currentIndex:a,nextIndex:a+1,nextStep:null===(l=i[a+1])||void 0===l?void 0:l.id}),null==s||null===(u=s.onExit)||void 0===u||u.call(s),null!=s&&s.navigation&&"next"in s.navigation){var c=s.navigation.next;if(null!=c&&c.targetStep){var l,u,f,d,m=i.findIndex(function(t){return t.id===c.targetStep});if(-1!==m){t({currentStepIndex:m}),null===(f=i[m])||void 0===f||null===(d=f.onEnter)||void 0===d||d.call(f);return}}}var h=a+1;h<i.length&&(t({currentStepIndex:h}),null===(n=i[h])||void 0===n||null===(r=n.onEnter)||void 0===r||r.call(n))},previousStep:function(){var n,r=e(),o=r.steps,i=r.currentStepIndex,a=o[i];if(null!=a&&null!==(n=a.navigation)&&void 0!==n&&n.back){var s=o.find(function(t){var e;return t.id===(null===(e=a.navigation)||void 0===e||null===(e=e.back)||void 0===e?void 0:e.targetStep)});null!=s&&s.onEnter&&s.onEnter();var c=o.findIndex(function(t){var e;return t.id===(null===(e=a.navigation)||void 0===e||null===(e=e.back)||void 0===e?void 0:e.targetStep)});if(-1!==c){t({currentStepIndex:c});return}}if(i>0){var l=o[i-1];l.onEnter&&l.onEnter(),t({currentStepIndex:i-1})}},skipTutorial:function(){return t({isActive:!1,hasCompletedTutorial:!0})},getCurrentStep:function(){var t=e(),n=t.steps,r=t.currentStepIndex;return t.isActive&&n?n[r]:null},resetTutorial:function(){return t({isActive:!1,currentStepIndex:0,hasCompletedTutorial:!1})},setTutorialUIBlocking:function(e){return t(function(t){return{tutorialUIBlocking:S(S({},t.tutorialUIBlocking),e)}})},markCategoryAsCompleted:function(e){return t(function(t){return{completedCategories:[].concat(y(t.completedCategories),[e])}})},isCategoryCompleted:function(t){return e().completedCategories.includes(t)},exitHelpStep:function(){var n=e();n.isHelpMode&&(n.cleanupStepEvents(),t({isActive:!1,isHelpMode:!1,currentStepIndex:0}))},cleanupStepEvents:function(){e().activeEvents.forEach(function(t){document.removeEventListener(t,function(){})}),t(function(t){return{activeEvents:new Set,tutorialUIBlocking:{calculatorClose:!1,gameInfoClose:!1,settingsClose:!1,resultatKreidetafelClose:!1}}})},registerEvent:function(e){t(function(t){return{activeEvents:new Set([].concat(y(t.activeEvents),[e]))}})}}},{name:i.r8?"dev-tutorial-storage":"jass-tutorial-storage",storage:(0,o.FL)(function(){return localStorage}),partialize:function(t){return{hasCompletedTutorial:t.hasCompletedTutorial,completedCategories:t.completedCategories}}}))},4319:function(t,e,n){"use strict";n.d(e,{HB:function(){return T}});var r,o,i,a=n(1993),s=n(782),c=n(7266),l=n(430),u=n(9337);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return m(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach(function(e){g(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function g(t,e,n){var r;return(r=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===f(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(){y=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(e,n,r,i){var a,s,c=Object.create((n&&n.prototype instanceof b?n:b).prototype);return o(c,"_invoke",{value:(a=new k(i||[]),s=m,function(n,o){if(s===h)throw Error("Generator is already running");if(s===p){if("throw"===n)throw o;return{value:t,done:!0}}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=function e(n,r){var o=r.method,i=n.iterator[o];if(i===t)return r.delegate=null,"throw"===o&&n.iterator.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+o+"' method")),g;var a=d(i,n.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var s=a.arg;return s?s.done?(r[n.resultName]=s.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,g)}(i,a);if(c){if(c===g)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===m)throw s=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=h;var l=d(e,r,a);if("normal"===l.type){if(s=a.done?p:"suspendedYield",l.arg===g)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(s=p,a.method="throw",a.arg=l.arg)}})}),c}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var m="suspendedStart",h="executing",p="completed",g={};function b(){}function v(){}function S(){}var x={};l(x,a,function(){return this});var w=Object.getPrototypeOf,j=w&&w(w(C([])));j&&j!==n&&r.call(j,a)&&(x=j);var N=S.prototype=b.prototype=Object.create(x);function E(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var n;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,s){var c=d(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==f(u)&&r.call(u,"__await")?e.resolve(u.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):e.resolve(u).then(function(t){l.value=t,a(l)},function(t){return n("throw",t,a,s)})}s(c.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}})}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw TypeError(f(e)+" is not iterable")}return v.prototype=S,o(N,"constructor",{value:S,configurable:!0}),o(S,"constructor",{value:v,configurable:!0}),v.displayName=l(S,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,l(t,c,"GeneratorFunction")),t.prototype=Object.create(N),t},e.awrap=function(t){return{__await:t}},E(O.prototype),l(O.prototype,s,function(){return this}),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(N),l(N,c,"Generator"),l(N,a,function(){return this}),l(N,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function b(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){n(t);return}s.done?e(c):Promise.resolve(c).then(r,o)}var v=((r={}).INSTALL="INSTALL",r.INTRODUCTION="INTRODUCTION",r.SCREEN_TIME="SCREEN_TIME",r),S={farbe:"jass-farbe-settings",score:"jass-score-settings",pictogram:"jass-pictogram-settings",strokes:"jass-stroke-settings"},x=function(t,e){try{localStorage.setItem(S[t],JSON.stringify(e))}catch(e){console.error("Fehler beim Speichern von ".concat(t,":"),e)}},w=function(t){return x("farbe",t)},j=function(){return{isActive:!1,pressStartTime:null,chargeAmount:0}},N={values:c.vK.map(function(t){return t.multiplier}),isFlipped:!1},E={values:Object.fromEntries(l.J3.map(function(t){return[t.id,t.defaultValue]})),isFlipped:!1,enabled:Object.fromEntries(l.J3.map(function(t){return[t.id,!0]}))},O={calculator:{isOpen:!1,value:0,isFlipped:!1},gameInfo:{isOpen:!1},startScreen:{transitionState:"initial",names:{1:"",2:"",3:"",4:""},isOpen:!0},history:{warning:null},chargeEffects:{berg:{top:j(),bottom:j()},bedanken:{top:j(),bottom:j()},matsch:{top:j(),bottom:j()}},menu:{isOpen:!1,activeButton:null,showIntroduction:!1,showResetWarning:!1},resultatKreidetafel:{isOpen:!1,swipePosition:null,currentStatistic:"striche",animationComplete:!0},settings:{isOpen:!1,activeTab:"farben",cardStyle:"DE",pictogramConfig:{isEnabled:!0,mode:"svg"}},farbeSettings:N,scoreSettings:E,strokeSettings:u.wB,isGameInfoOpen:!1,isHistoryWarningOpen:!1,historyWarningCallback:null,lastDoubleClickPosition:null,historyWarning:{show:!1,message:"",onConfirm:function(){},onCancel:function(){}},isPaused:!1,strichStyle:{baseStrich:{length:20,width:1.5,color:"rgba(255, 255, 255, 0.9)",opacity:.9},diagonalStrich:{length:28,width:1.5,angle:45,offset:{x:-1,y:0}},container:{spacing:4,groupSpacing:8,scale:1}},overlayPosition:null,jassFinishNotification:{isOpen:!1,mode:"share",message:void 0,onShare:(o=y().mark(function t(){return y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}),i=function(){var t=this,e=arguments;return new Promise(function(n,r){var i=o.apply(t,e);function a(t){b(i,n,r,a,s,"next",t)}function s(t){b(i,n,r,a,s,"throw",t)}a(void 0)})},function(){return i.apply(this,arguments)}),onBack:function(){},onContinue:function(){}},onboarding:{currentStep:v.INSTALL,hasCompletedOnboarding:!0,show:!1,canBeDismissed:!0,isPWA:!1},isTutorialInfoOpen:!1,splitContainer:{isOpen:!1,position:"bottom"},tutorialBlockedUI:{settingsClose:!1,calculatorClose:!1,gameInfoClose:!1,resultatKreidetafelClose:!1},topSwipeAnimation:!1,bottomSwipeAnimation:!1,notifications:[],isSettingsOpen:!1,isCalculatorOpen:!1},T=(0,a.U)()((0,s.tJ)(function(t,e){return p(p({},O),{},{resetStartScreen:function(){return t(function(t){return p(p({},t),{},{startScreen:{transitionState:"initial",names:{1:"",2:"",3:"",4:""},isOpen:!0}})})},startCharge:function(e,n){return t(function(t){return{chargeEffects:p(p({},t.chargeEffects),{},g({},n,p(p({},t.chargeEffects[n]),{},g({},e,{isActive:!0,pressStartTime:Date.now(),chargeAmount:0}))))}})},updateCharge:function(n,r){var o=e().chargeEffects[r][n];if(o.isActive&&o.pressStartTime){var i=Date.now()-o.pressStartTime;t(function(t){return{chargeEffects:p(p({},t.chargeEffects),{},g({},r,p(p({},t.chargeEffects[r]),{},g({},n,p(p({},o),{},{chargeAmount:Math.min(i/1e3,1)})))))}})}},endCharge:function(e,n){return t(function(t){return{chargeEffects:p(p({},t.chargeEffects),{},g({},n,p(p({},t.chargeEffects[n]),{},g({},e,j()))))}})},resetChargeEffects:function(){return t(function(){return{chargeEffects:{berg:{top:j(),bottom:j()},bedanken:{top:j(),bottom:j()},matsch:{top:j(),bottom:j()}}}})},openCalculator:function(){var n=e();n.tutorialBlockedUI.calculatorClose||t({calculator:p(p({},n.calculator),{},{isOpen:!0})})},closeCalculator:function(){return t(function(t){return{calculator:p(p({},t.calculator),{},{isOpen:!1})}})},setCalculatorFlipped:function(e){return t(function(t){return{calculator:p(p({},t.calculator),{},{isFlipped:e})}})},setStartScreenState:function(e){return t(function(t){return{startScreen:p(p({},t.startScreen),{},{transitionState:e,isOpen:"complete"!==e})}})},setStartScreenNames:function(e){return t(function(t){return{startScreen:p(p({},t.startScreen),{},{names:e})}})},setMenuActiveButton:function(e){return t(function(t){return{menu:p(p({},t.menu),{},{activeButton:e})}})},setShowIntroduction:function(e){return t(function(t){return{menu:p(p({},t.menu),{},{showIntroduction:e})}})},setShowResetWarning:function(e){return t(function(t){return{menu:p(p({},t.menu),{},{showResetWarning:e})}})},resetAll:function(){return t(function(){return{calculator:{isOpen:!1,value:0,isFlipped:!1},gameInfo:{isOpen:!1},startScreen:{transitionState:"initial",names:{1:"",2:"",3:"",4:""},isOpen:!0},history:{warning:null},chargeEffects:{berg:{top:j(),bottom:j()},bedanken:{top:j(),bottom:j()},matsch:{top:j(),bottom:j()}},menu:{isOpen:!1,activeButton:null,showIntroduction:!1,showResetWarning:!1},resultatKreidetafel:{isOpen:!1,swipePosition:null,currentStatistic:"striche",animationComplete:!0},historyWarning:{show:!1,message:"",onConfirm:function(){},onCancel:function(){}}}})},setMenuOpen:function(e){return t(function(t){return{menu:p(p({},t.menu),{},{isOpen:e}),overlayPosition:e?t.overlayPosition:null}})},openResultatKreidetafel:function(e){return t({resultatKreidetafel:{isOpen:!0,swipePosition:e,currentStatistic:"striche",animationComplete:!1},overlayPosition:e})},closeResultatKreidetafel:function(){return t({resultatKreidetafel:{isOpen:!1,swipePosition:null,currentStatistic:"striche",animationComplete:!0}})},setGameInfoOpen:function(e){return t({isGameInfoOpen:e})},setHistoryWarningOpen:function(e){return t({isHistoryWarningOpen:e})},setHistoryWarningCallback:function(e){return t({historyWarningCallback:e})},setLastDoubleClickPosition:function(e){return t({lastDoubleClickPosition:e})},showHistoryWarning:function(e){t({historyWarning:{show:!0,message:e.message,onConfirm:e.onConfirm,onCancel:e.onCancel}})},closeHistoryWarning:function(){return t(function(t){return{historyWarning:p(p({},t.historyWarning),{},{show:!1})}})},pauseGame:function(){return t({isPaused:!0})},resumeGame:function(){return t({isPaused:!1})},setKreidetafelPosition:function(e){return t(function(t){return{resultatKreidetafel:p(p({},t.resultatKreidetafel),{},{swipePosition:e})}})},setKreidetafelStatistic:function(e){return t(function(t){return{resultatKreidetafel:p(p({},t.resultatKreidetafel),{},{currentStatistic:e})}})},setStrichStyle:function(e){return t(function(t){return{strichStyle:p(p({},t.strichStyle),e)}})},openFarbeSettings:function(){return t(function(t){return{settings:p(p({},t.settings),{},{isOpen:!0,activeTab:"farben"})}})},closeFarbeSettings:function(){return t(function(t){return{settings:p(p({},t.settings),{},{isOpen:!1})}})},setFarbeMultiplier:function(n,r){var o=e().farbeSettings,i=d(o.values);if(i[n]=r,i.every(function(t){return t>=0&&t<=8})){var a=p(p({},o),{},{values:i});w(a),t({farbeSettings:a})}},setFarbeFlipped:function(n){var r=p(p({},e().farbeSettings),{},{isFlipped:n});w(r),t({farbeSettings:r})},updateFarbeSettings:function(e){return t(function(t){var n=p(p({},t.farbeSettings),e);return(0,c.MZ)(n)?(x("farbe",n),{farbeSettings:n}):t})},openScoreSettings:function(){return t(function(t){return{settings:p(p({},t.settings),{},{isOpen:!0,activeTab:"scores"})}})},closeScoreSettings:function(){return t(function(t){return{settings:p(p({},t.settings),{},{isOpen:!1})}})},updateScoreSettings:function(e){return t(function(t){return{scoreSettings:p(p({},t.scoreSettings),e)}})},setScoreValue:function(e,n){(0,l.VM)(e,n)&&t(function(t){return{scoreSettings:p(p({},t.scoreSettings),{},{values:p(p({},t.scoreSettings.values),{},g({},e,n))})}})},toggleScoreEnabled:function(e){return t(function(t){return{scoreSettings:p(p({},t.scoreSettings),{},{enabled:p(p({},t.scoreSettings.enabled),{},g({},e,!t.scoreSettings.enabled[e]))})}})},setSettingsTab:function(e){return t(function(t){return{settings:p(p({},t.settings),{},{activeTab:e})}})},openSettings:function(){return t(function(t){return{settings:p(p({},t.settings),{},{isOpen:!0})}})},closeSettings:function(){return t(function(t){return{settings:p(p({},t.settings),{},{isOpen:!1})}})},cyclePictogramMode:function(){return t(function(t){var e,n=t.settings.pictogramConfig;return x("pictogram",e=n.isEnabled?"svg"===n.mode?{isEnabled:!0,mode:"emoji"}:{isEnabled:!1,mode:"svg"}:{isEnabled:!0,mode:"svg"}),{settings:p(p({},t.settings),{},{pictogramConfig:e})}})},updateScoreValue:function(e,n){return t(function(t){if(!(0,l.VM)(e,n))return t;var r=p({},t.scoreSettings.values);if(r[e]=n,"sieg"===e){var o=Math.floor(n/2);r.berg=Math.min(r.berg,o),r.schneider=Math.min(r.schneider,o)}var i=p(p({},t.scoreSettings),{},{values:r});return x("score",i),{scoreSettings:i}})},updateSettings:function(e,n){t(function(t){var r=p(p({},"farbe"===e?t.farbeSettings:t.scoreSettings),n);return x(e,r),g({},"".concat(e,"Settings"),r)})},setOverlayPosition:function(e){return t({overlayPosition:e})},showJassFinishNotification:function(e){return t({jassFinishNotification:p(p({mode:"share",message:{text:"",icon:""}},e),{},{isOpen:!0})})},closeJassFinishNotification:function(){return t({jassFinishNotification:{isOpen:!1,mode:"share",message:{text:"",icon:""}}})},setOnboardingStep:function(e){return t(function(t){return{onboarding:p(p({},t.onboarding),{},{currentStep:e})}})},completeOnboarding:function(){return t(function(t){return{onboarding:p(p({},t.onboarding),{},{hasCompletedOnboarding:!0})}})},showOnboarding:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t(function(t){return{onboarding:p(p({},t.onboarding),{},{show:!0,canBeDismissed:e,isPWA:n})}})},hideOnboarding:function(){return t(function(t){return{onboarding:p(p({},t.onboarding),{},{show:!1,hasCompletedOnboarding:!0})}})},setCardStyle:function(e){return t(function(t){return{settings:p(p({},t.settings),{},{cardStyle:e})}})},updateStrokeSettings:function(e){(0,u.qL)(e)&&t(function(t){return{strokeSettings:p(p({},t.strokeSettings),e)}})},setStrokeValue:function(e,n){(0,u.qL)(g({},e,n))&&t(function(t){return{strokeSettings:p(p({},t.strokeSettings),{},g({},e,n))}})},openTutorialInfo:function(){return t({isTutorialInfoOpen:!0})},closeTutorialInfo:function(){return t({isTutorialInfoOpen:!1})},closeAllOverlays:function(){return t(function(t){return p(p({},t),{},{menu:p(p({},t.menu),{},{isOpen:!1}),isGameInfoOpen:!1})})},openMenu:function(){return t(function(t){return p(p({},t),{},{menu:p(p({},t.menu),{},{isOpen:!0})})})},setSplitContainer:function(e,n){return t(function(t){return{splitContainer:{isOpen:e,position:n}}})},closeGameInfo:function(){return t(function(t){return{gameInfo:p(p({},t.gameInfo),{},{isOpen:!1})}})},tutorialBlockedUI:{settingsClose:!1,calculatorClose:!1,gameInfoClose:!1,resultatKreidetafelClose:!1},openGameInfo:function(){e().tutorialBlockedUI.gameInfoClose||t({gameInfo:{isOpen:!0}})},setTopSwipeAnimation:function(e){return t({topSwipeAnimation:e})},setBottomSwipeAnimation:function(e){return t({bottomSwipeAnimation:e})},showNotification:function(e){var n=p(p({},e),{},{id:crypto.randomUUID(),timestamp:Date.now()});t(function(t){return{notifications:[].concat(d(t.notifications),[n])}})},removeNotification:function(e){t(function(t){return{notifications:t.notifications.filter(function(t){return t.id!==e})}})},setResultatPosition:function(e){return t(function(t){return{resultatKreidetafel:p(p({},t.resultatKreidetafel),{},{swipePosition:e})}})},setResultatAnimationComplete:function(e){return t(function(t){return{resultatKreidetafel:p(p({},t.resultatKreidetafel),{},{animationComplete:e})}})},canOpenGameInfo:function(){var t=e();return!(t.startScreen.isOpen||t.settings.isOpen||t.isCalculatorOpen||t.menu.isOpen||t.resultatKreidetafel.isOpen||t.jassFinishNotification.isOpen||t.isTutorialInfoOpen||t.splitContainer.isOpen)},setStartScreenOpen:function(e){return t(function(t){return{startScreen:p(p({},t.startScreen),{},{isOpen:e})}})}})},{name:"jass-ui-storage",partialize:function(t){return{farbeSettings:t.farbeSettings,scoreSettings:t.scoreSettings,strokeSettings:t.strokeSettings,settings:p(p({},t.settings),{},{cardStyle:t.settings.cardStyle,pictogramConfig:t.settings.pictogramConfig})}}}));T.persist.rehydrate()},968:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){var o;return(o=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===r(o)?o:String(o))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{RX:function(){return s},cz:function(){return c}});var i,a,s=((i={}).WELCOME="WELCOME",i.MENU_GESTURE="MENU_GESTURE",i.CALCULATOR_OPEN="CALCULATOR_OPEN",i.CALCULATOR_INPUT="CALCULATOR_INPUT",i.GAME_INFO="GAME_INFO",i.RESULTAT_INFO="RESULTAT_INFO",i.BASIC_COMPLETE="BASIC_COMPLETE",i.SETTINGS="SETTINGS",i.SETTINGS_INTRO="SETTINGS_INTRO",i.SETTINGS_CARDS="SETTINGS_CARDS",i.SETTINGS_PICTOGRAMS="SETTINGS_PICTOGRAMS",i.SETTINGS_MULTIPLIER="SETTINGS_MULTIPLIER",i.SETTINGS_CONFIGURE="SETTINGS_CONFIGURE",i.SETTINGS_NAVIGATE="SETTINGS_NAVIGATE",i.SETTINGS_SCORES="SETTINGS_SCORES",i.SETTINGS_NAVIGATE_STROKES="SETTINGS_NAVIGATE_STROKES",i.SETTINGS_STROKES="SETTINGS_STROKES",i.NAVIGATE_SCORES="NAVIGATE_SCORES",i.BINGO_SETTINGS="BINGO_SETTINGS",i.CALCULATOR="CALCULATOR",i.WEIS="WEIS",i.HISTORY="HISTORY",i.BERG_INFO="BERG_INFO",i.GAME_CONTROL="GAME_CONTROL",i.GAME_MONITOR="GAME_MONITOR",i.TIPS_TRICKS="TIPS_TRICKS",i.NEW_GAME="NEW_GAME",i.JASS_SETTINGS="JASS_SETTINGS",i.TIPS_WELCOME="TIPS_WELCOME",i.TIPS_QUICK_CLOSE="TIPS_QUICK_CLOSE",i.TIPS_IPHONE_WAKE="TIPS_IPHONE_WAKE",i.TIPS_PLAYER_ORDER="TIPS_PLAYER_ORDER",i),c=((a={}).BASIC="basic",a.GAME="game",a.SETTINGS="settings",a.ADVANCED="advanced",a.TIPS="tips",a);o(o(o(o(o({},c.BASIC,"Grundlegende Bedienung"),c.GAME,"Spielablauf"),c.SETTINGS,"Einstellungen"),c.ADVANCED,"Erweiterte Funktionen"),c.TIPS,"Tipps & Tricks")},5523:function(t,e,n){"use strict";n.d(e,{E:function(){return r}});var r=function(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://")}},9077:function(t,e,n){"use strict";n.d(e,{c9:function(){return a},r8:function(){return o},rR:function(){return i}});var r=n(630),o=!1,i=!0,a=function(){return!!o&&!!i||!r.X.getState().hasCompletedTutorial}},8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2932)}])}},function(t){t.O(0,[391,838,509,127,130,396,365,738,443,754,888,774,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);