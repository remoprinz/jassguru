(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{1554:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return N}});var r=n(7294),o=n(9679),i=n(3114),a=n(630),s=n(968),c=n(1773),u=n(8605),l=n(5893);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===f(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var h=function(t){var e=t.onClick,n=t.className,r=t.children,o=(0,u.m)(e);return(0,l.jsx)("button",m(m({},o.handlers),{},{className:"\n        min-w-[140px] h-12 px-6 rounded-full text-white font-semibold\n        transition-colors duration-100 flex items-center justify-center\n        ".concat(o.buttonClasses,"\n        ").concat(void 0===n?"":n,"\n      "),children:r}))},p=function(t){var e=t.onNext,n=t.showBackButton,r=void 0===n||n,o=t.isFirstStep,i=void 0!==o&&o,s=t.isLastStep,u=void 0!==s&&s,f=(0,a.X)(),d=f.previousStep,m=f.nextStep;return(0,l.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[r&&!i&&(0,l.jsxs)(h,{onClick:d,className:"bg-gray-600 hover:bg-gray-700 active:bg-gray-600",children:[(0,l.jsx)(c.x_l,{className:"mr-2"}),"Zur\xfcck"]}),(0,l.jsxs)(h,{onClick:function(){u&&e?e():m()},className:"bg-yellow-600 hover:bg-yellow-700 active:bg-yellow-600 \n          ".concat(!r||i?"ml-auto":""),children:[u?"Fertig":"Weiter",!u&&(0,l.jsx)(c.Z1Y,{className:"ml-2"})]})]})},g=n(4319),y=n(1418);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===b(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function x(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var j=function(t){var e=t.target,n=x(r.useState(null),2),i=n[0],a=n[1],s=r.useRef(0);return(r.useEffect(function(){var t=function(){if(e){var t=document.querySelector(e);if(t){var r=t.getBoundingClientRect();r.width>0&&r.height>0?(a(r),s.current=0):n()}else n()}},n=function(){s.current<10?(s.current+=1,setTimeout(t,100)):console.error("Failed to find target element: ".concat(e))};t();var r=function(){return t()};return window.addEventListener("nextButtonReady",r),function(){window.removeEventListener("nextButtonReady",r)}},[e]),i&&0!==i.width&&0!==i.height)?(0,l.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute",style:{top:i.top,left:i.left,width:i.width,height:i.height,border:"2px solid rgba(255, 255, 255, 0.8)",borderRadius:"8px",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.5)",zIndex:1e3,pointerEvents:"none"}}):null},E=function(t){var e={position:"fixed",transform:""},n=function(t){return"".concat(.1*t,"vh")},r=function(t){return"".concat(.1*t,"vw")};switch(t.vertical){case"top":e.top="20vh";break;case"center":e.top="50vh",e.transform="translateY(-50%)";break;case"bottom":e.bottom="20vh"}switch(t.horizontal){case"left":e.left="20%";break;case"center":e.left="50%",e.transform?e.transform+=" translateX(-50%)":e.transform="translateX(-50%)";break;case"right":e.right="20%"}return t.offset&&("number"==typeof t.offset.y&&("bottom"===t.vertical?e.bottom="calc(20vh + ".concat(n(t.offset.y),")"):e.top="calc(".concat("center"===t.vertical?"50vh":"20vh"," + ").concat(n(t.offset.y),")")),"number"==typeof t.offset.x&&("right"===t.horizontal?e.right="calc(20% + ".concat(r(t.offset.x),")"):e.left="calc(".concat("center"===t.horizontal?"50%":"20%"," + ").concat(r(t.offset.x),")"))),e.transform||delete e.transform,e},N=(0,r.memo)(function(t){t.onCloseMenu;var e=(0,a.X)(),n=e.isActive,c=e.getCurrentStep,u=e.nextStep,f=(e.previousStep,e.endTutorial),d=e.isHelpMode,m=e.exitHelpStep,h=e.markCategoryAsCompleted;(0,g.HB)(function(t){return t.closeSettings});var b=x((0,r.useState)(!0),2),v=b[0],w=b[1],N=x((0,r.useState)(!1),2),O=N[0],T=N[1],P=c();(0,y.i)("splitContainer",w),(0,y.i)("calculator",w),(0,y.i)("gameInfo",w),(0,y.i)("settings",w);var C=(0,r.useCallback)(function(){null!=P&&P.onExit&&P.onExit(),m()},[P,m]),k=(0,r.useCallback)(function(){var t=g.HB.getState();t.splitContainer.isOpen=!1,t.menu.isOpen=!1,t.closeAllOverlays(),t.setMenuOpen(!1),a.X.getState().setTutorialUIBlocking({calculatorClose:!1,gameInfoClose:!1,settingsClose:!1,resultatKreidetafelClose:!1}),null!=P&&P.category&&h(P.category),f(O)},[null==P?void 0:P.category,f,h,O]),A=(0,r.useCallback)(function(){I()},[]);if((0,r.useEffect)(function(){if((null==P?void 0:P.target)==="save-settings"){var t;null===(t=document.getElementById("save-settings"))||void 0===t||t.addEventListener("click",A)}return function(){var t;null===(t=document.getElementById("save-settings"))||void 0===t||t.removeEventListener("click",A)}},[P,A]),(0,r.useEffect)(function(){var t=!P||P.id!==s.RX.CALCULATOR_OPEN&&P.id!==s.RX.GAME_INFO;return a.X.getState().setTutorialUIBlocking({calculatorClose:t,gameInfoClose:t,settingsClose:!0,resultatKreidetafelClose:!0}),function(){a.X.getState().setTutorialUIBlocking({calculatorClose:!1,gameInfoClose:!1,settingsClose:!1,resultatKreidetafelClose:!1})}},[null==P?void 0:P.id]),(0,r.useEffect)(function(){if((null==P?void 0:P.id)===s.RX.CALCULATOR_OPEN){var t=function(t){w(!1)};return document.addEventListener("calculatorOpen",t),function(){document.removeEventListener("calculatorOpen",t),w(!0)}}if((null==P?void 0:P.id)===s.RX.GAME_INFO){var e=function(){w(!1)};return document.addEventListener("gameInfoOpen",e),function(){document.removeEventListener("gameInfoOpen",e),w(!0)}}if((null==P?void 0:P.id)===s.RX.RESULTAT_INFO){var n=function(){w(!1)};return document.addEventListener("resultatKreidetafelOpen",n),function(){document.removeEventListener("resultatKreidetafelOpen",n),w(!0)}}},[null==P?void 0:P.id]),(0,r.useEffect)(function(){if((null==P?void 0:P.id)===s.RX.JASS_SETTINGS){var t=function(){w(!1)};return document.addEventListener("settingsOpen",t),function(){document.removeEventListener("settingsOpen",t),w(!0)}}},[null==P?void 0:P.id]),!n||!P)return null;var I=function(){var t=c();(null==t?void 0:t.id)===s.RX.SETTINGS_NAVIGATE_STROKES&&u()};return(0,l.jsxs)(i.M,{children:[(0,l.jsxs)(o.E.div,{className:"fixed inset-0 z-50",style:{pointerEvents:"none"},children:[P.target&&(0,l.jsx)(j,{target:P.target}),P.id===s.RX.SETTINGS&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"fixed left-0 right-0 top-0 bg-transparent",style:{height:"calc(50% - 40px)",pointerEvents:"auto",zIndex:1002}}),(0,l.jsx)("div",{className:"fixed left-0 right-0 bg-transparent",style:{top:"calc(50% + 40px)",bottom:0,pointerEvents:"auto",zIndex:1002}})]})]},"tutorial-overlay-backdrop"),v&&(0,l.jsxs)(o.E.div,{className:"bg-gray-800 rounded-lg shadow-lg flex flex-col items-center text-center w-10/12 max-w-md fixed\n            ".concat(P.title?"p-6":"py-4 px-6"),style:S(S({},E(P.overlayPosition)),{},{zIndex:1001,pointerEvents:"auto"}),children:[P.title&&(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4 text-white",children:P.title}),P.icon&&(0,l.jsx)(P.icon,{className:"w-12 h-12 text-yellow-600 mb-4"}),P.image&&(0,l.jsx)("img",{src:P.image,alt:"",className:"w-64 h-64 mb-6 rounded-lg object-cover"}),(0,l.jsx)("p",{className:"text-white text-lg max-w-[90%] ".concat(P.title?"":"my-2"),children:P.content})]},"tutorial-overlay-content"),!P||P.hideNavigation?null:(0,l.jsx)(o.E.div,{className:"fixed left-1/2 transform -translate-x-1/2 z-[1001]",style:{bottom:"4vh"},children:(0,l.jsxs)("div",{className:"flex flex-col items-center w-full max-w-md px-8 mb-8 mx-auto",children:[(0,l.jsx)("div",{className:"w-full flex items-center justify-between gap-4 mb-4",children:d?(0,l.jsx)("button",{onClick:C,className:"bg-yellow-600 hover:bg-yellow-700 text-white font-bold  py-3 px-8 rounded-full w-[180px] mx-auto block",children:"Verstanden"}):(0,l.jsx)(p,{showBackButton:!P.hideBackButton,isFirstStep:P.id===s.RX.WELCOME,isLastStep:P.id===s.RX.BASIC_COMPLETE,onNext:P.id===s.RX.BASIC_COMPLETE?k:void 0})}),!d&&P.id===s.RX.BASIC_COMPLETE&&(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 text-white mt-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"neverShowAgain",checked:O,onChange:function(t){return T(t.target.checked)},className:"w-4 h-4 rounded border-gray-300 text-yellow-600 focus:ring-yellow-500"}),(0,l.jsx)("label",{htmlFor:"neverShowAgain",className:"text-sm whitespace-nowrap",children:"Tutorial nicht mehr anzeigen"})]})]})},"tutorial-overlay-navigation")]},"tutorial-overlay")})},7266:function(t,e,n){"use strict";n.d(e,{MZ:function(){return i},vK:function(){return o}});var r={backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"},o=[{id:"mis\xe8re",name:"Mis\xe8re",multiplier:1,order:1,emojiStyle:{backgroundColor:"bg-[#f87171] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#f87171]"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"eicheln",name:"Eicheln",multiplier:7,order:7,emojiStyle:{backgroundColor:"bg-[#65a30d] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#65a30d]"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"rosen",name:"Rosen",multiplier:4,order:3,emojiStyle:{backgroundColor:"bg-[#fde047] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#fde047]"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"schellen",name:"Schellen",multiplier:2,order:4,emojiStyle:{backgroundColor:"bg-[#fbbf24] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#fbbf24]"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"schilten",name:"Schilten",multiplier:3,order:5,emojiStyle:{backgroundColor:"bg-[#64748b] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#6b7280]"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"obe",name:"Obe",multiplier:5,order:6,emojiStyle:{backgroundColor:"bg-[#0891b2] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#0284c7]"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"une",name:"Une",multiplier:6,order:7,emojiStyle:{backgroundColor:"bg-[#0369a1] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#854d0e]"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"dreimal",name:"3x3",multiplier:4,order:8,emojiStyle:{backgroundColor:"bg-[#f0abfc] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#f0abfc]"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"quer",name:"Quer",multiplier:7,order:9,emojiStyle:{backgroundColor:"bg-[#f87171] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#0891b2]"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"slalom",name:"Slalom",multiplier:7,order:10,emojiStyle:{backgroundColor:"bg-white group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-white"},standardStyle:r,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}}];o.map(function(t){return t.multiplier});var i=function(t){return!t.values||t.values.every(function(t){return t>=0&&t<=8})}},9337:function(t,e,n){"use strict";n.d(e,{Pj:function(){return a},qL:function(){return s},wB:function(){return i}});var r,o=((r={}).JASSGROUP="JASSGROUP",r),i={schneider:2,kontermatsch:2};o.JASSGROUP;var a={berg:1,sieg:2,matsch:1,schneider:i.schneider,kontermatsch:i.kontermatsch},s=function(t){return!!((void 0===t.schneider||[1,2].includes(t.schneider))&&(void 0===t.kontermatsch||[1,2].includes(t.kontermatsch)))}},430:function(t,e,n){"use strict";n.d(e,{FA:function(){return r},J3:function(){return i},M:function(){return o},VM:function(){return s}});var r=157,o=257,i=[{id:"sieg",name:"Sieg",defaultValue:5e3,maxValue:1e4,order:1},{id:"berg",name:"Berg",defaultValue:2500,maxValue:5e3,order:2},{id:"schneider",name:"Schneider",defaultValue:2500,maxValue:5e3,order:3}];i[0].defaultValue,i[1].defaultValue,i[2].defaultValue;var a=function(t){var e=i.find(function(e){return e.id===t});if(!e)throw Error("Ung\xfcltiger Score-Mode: ".concat(t));return e},s=function(t,e){var n=a(t);if(e<0)return!1;if("sieg"===t)return e<=n.maxValue;var r=Math.floor(a("sieg").defaultValue/2);return e<=Math.min(n.maxValue,r)}},8605:function(t,e,n){"use strict";n.d(e,{m:function(){return i}});var r=n(7294);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var i=function(t){var e,n=function(t){if(Array.isArray(t))return t}(e=(0,r.useState)(!1))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{for(i=(n=n.call(t)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,2)||function(t,e){if(t){if("string"==typeof t)return o(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=n[0],a=n[1],s=function(t){null==t||t.preventDefault(),a(!0)},c=function(e){null==e||e.preventDefault(),a(!1),t()};return{isPressedDown:i,handlers:{onMouseDown:s,onMouseUp:c,onMouseLeave:function(){return a(!1)},onTouchStart:s,onTouchEnd:c},buttonClasses:"\n      transition-all duration-100\n      ".concat(i?"scale-95 opacity-80":"scale-100 opacity-100","\n    ")}}},1418:function(t,e,n){"use strict";n.d(e,{i:function(){return l}});var r,o=n(630),i=n(968);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n){var r;return(r=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===a(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=(s(s(s(s(s(s(s(s(s(s(r={},i.RX.SETTINGS,"settings"),i.RX.SETTINGS_INTRO,"settings"),i.RX.SETTINGS_CARDS,"settings"),i.RX.SETTINGS_PICTOGRAMS,"settings"),i.RX.SETTINGS_MULTIPLIER,"settings"),i.RX.SETTINGS_CONFIGURE,"settings"),i.RX.SETTINGS_NAVIGATE,"settings"),i.RX.CALCULATOR,"calculator"),i.RX.GAME_INFO,"gameInfo"),i.RX.NEW_GAME,"splitContainer"),s(r,i.RX.RESULTAT_INFO,"splitContainer")),u=n(7294),l=function(t,e){var n=(0,o.X)(),r=n.isActive,a=n.getCurrentStep,s=n.registerEvent,l=a();return((0,u.useEffect)(function(){if(l&&e&&"calculator"===t&&l.id===i.RX.CALCULATOR_OPEN){var n=function(){return e(!1)};return document.addEventListener("calculatorOpen",n),s("calculatorOpen"),function(){document.removeEventListener("calculatorOpen",n),e(!0)}}},[t,null==l?void 0:l.id,e]),null!=l&&l.id&&("calculator"===t&&["CALCULATOR_OPEN","CALCULATOR_INPUT"].includes(l.id)||"gameInfo"===t&&l.id===i.RX.GAME_INFO))?{preventClose:!0}:{preventClose:!!(r&&l&&c[l.id]===t)}}},959:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return rI}});var r,o,i,a,s,c,u,l,f,d,m,h,p,g,y,b,v,S,x,w=n(7294),j=n(32);function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var N=function(){var t,e=function(t){if(Array.isArray(t))return t}(t=(0,w.useState)(function(){return window.innerHeight}))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{for(i=(n=n.call(t)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,2)||function(t,e){if(t){if("string"==typeof t)return E(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=e[0],r=e[1];return(0,w.useEffect)(function(){var t=function(){var t=window.innerHeight;r(t),document.documentElement.style.setProperty("--vh","".concat(t,"px"))};t();var e=setTimeout(t,100);return window.addEventListener("resize",t),window.addEventListener("orientationchange",t),function(){clearTimeout(e),window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[]),n},O=n(5893),T=function(t){var e=t.className,n=t.outerStrokeWidth,r=void 0===n?2:n,o=t.diagonalStrokeWidth,i=t.position,a=t.onShapeRendered,s=(0,w.useRef)(null);(0,w.useEffect)(function(){if(s.current&&a){var t=s.current.getBoundingClientRect();a({width:t.width,height:t.height,left:t.left,top:t.top})}},[a]);var c=Math.sqrt(2);return(0,O.jsx)("svg",{ref:s,className:e,viewBox:"0 0 120 100",preserveAspectRatio:"xMidYMid meet",children:(0,O.jsxs)("g",{transform:"top"===i?"translate(0, 0)":"none",children:[(0,O.jsx)("path",{d:"M0 0 L110 0",stroke:"currentColor",strokeWidth:r,fill:"none"}),(0,O.jsx)("path",{d:"M0 100 L110 0",stroke:"currentColor",strokeWidth:(void 0===o?.75:o)*c,fill:"none"}),(0,O.jsx)("path",{d:"M0 100 L110 100",stroke:"currentColor",strokeWidth:r,fill:"none"})]})})},P=function(t){var e=t.onSwipeUp,n=t.onSwipeDown,r=t.onSwipeLeft,o=t.onSwipeRight,i=t.threshold,a=void 0===i?50:i,s=t.element;(0,w.useEffect)(function(){var t=null,i=null,c=function(e){e.target.closest('[data-swipe-area="'.concat(s,'"]'))&&(t=e.touches[0].clientX,i=e.touches[0].clientY)},u=function(s){if(null!==t&&null!==i){var c=s.touches[0].clientX,u=s.touches[0].clientY,l=t-c,f=i-u;Math.abs(l)>Math.abs(f)?Math.abs(l)>a&&(l>0&&r?r():l<0&&o&&o(),t=null,i=null):Math.abs(f)>a&&(f>0&&e?e():f<0&&n&&n(),t=null,i=null)}};return document.addEventListener("touchstart",c),document.addEventListener("touchmove",u),function(){document.removeEventListener("touchstart",c),document.removeEventListener("touchmove",u)}},[e,n,r,o,a,s])},C=n(796);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==k(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==k(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===k(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}(0,C.ZP)("div")({position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start"}),(0,C.ZP)(j.q.div,{shouldForwardProp:function(t){return"isVertical"!==t&&"color"!==t}})(function(t){var e=t.isVertical;return{position:"absolute",backgroundColor:t.color,width:"2px",height:e?"100%":"2px",transformOrigin:"top left"}});var L=(0,C.ZP)("div")(function(t){return{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",transform:t.isRotated?"rotate(180deg)":"rotate(0)",transformOrigin:"center center"}}),R=function(t){var e=t.stricheCount,n=(t.stricheCounts,t.einheitWert),r=t.strichColor,o=t.animationDuration,i=(t.isActive,t.direction),a=t.edgeOffset,s=t.strichSpacing,c=void 0===s?10:s,u=t.einheitSpacing,l=void 0===u?50:u,f=t.position,d=t.isRotated,m=t.xSize,h=void 0===m?20:m,p=t.isXMode,g=void 0!==p&&p,y=t.xAngle,b=void 0===y?15:y,v=(t.xAlignment,t.isDiagonal,t.diagonalAngle,t.diagonalStrichHeight),S=void 0===v?"100%":v,x=t.diagonalStrichWidth,E=void 0===x?"2px":x,N=(t.diagonalStrichOffset,t.diagonalStrichAngle),T=void 0===N?0:N,P=t.topDiagonalStrichOffset,C=t.bottomDiagonalStrichOffset,k=t.topDiagonalStrichAngle,A=void 0===k?0:k,R=t.bottomDiagonalStrichAngle,M=void 0===R?0:R,G=t.diagonalStrichOffset100er,_=t.diagonalStrichOffset20er,D=t.diagonalStrichAngle100er,z=t.diagonalStrichAngle20er,H=t.xSpacing,B=void 0===H?10:H,F=t.xOffset100erTop,U=void 0===F?63:F,W=t.xOffset100erBottom,X=void 0===W?40:W;t.offset;var J=Math.floor(e/5),K=e%5,V=e>0;(0,j.q_)({from:{scaleY:0},to:{scaleY:V?1:0},config:I(I({},j.vc.stiff),{},{duration:void 0===o?1e3:o})});var Z=(0,w.useCallback)(function(t,e,o){var s=Math.floor(t/5),u=t%5,d=s*(l+4*c),m=u*c;if(4===u){var h,p,g=3*c;100===n&&G?(h=G,p=D||T):20===n&&_?(h=_,p=z||T):(h="top"===f?P:C,p="top"===f?A:M);var y=I(I({position:"absolute",height:S,width:E},"top"===f?{right:"calc(".concat(a+d+g,"px + ").concat(h.horizontal," ").concat(100===n?"- 0px":"",")"),top:"calc(0px + ".concat(h.vertical,")")}:{left:"calc(".concat(a+d,"px + ").concat(h.horizontal,")"),bottom:"calc(0px + ".concat(h.vertical,")")}),{},{transform:"rotate(".concat(p,"deg)"),transformOrigin:"bottom left",backgroundColor:r});return(0,O.jsx)("div",{style:y},"strich-".concat(t))}if(o){if("ltr"===i){var b,v="bottom"===f&&0===n?0:5;b={left:"".concat(a+d+m+v,"px")}}else b={right:"".concat(a+d+m,"px")};var x=I({position:"absolute",height:"100%",width:"2px"},b);return(0,O.jsx)("div",{style:I(I({},x),{},{backgroundColor:r})},"strich-".concat(t))}return null},[r,i,a,S,E,T,c,l,f,P,C,A,M,n,G,_,D,z]),q=(0,w.useCallback)(function(t){return(0,O.jsxs)(w.Fragment,{children:[[0,1,2,3].map(function(e){return Z(5*t+e,!1,!0)}),Z(5*t+4,!1,!1)," "]},"einheit-".concat(t))},[Z]),Y=(0,w.useMemo)(function(){return Array.from({length:J}).map(function(t,e){return q(e)})},[J,q]),$=(0,w.useMemo)(function(){return Array.from({length:K}).map(function(t,e){return Z(5*J+e,!1,e<4)})},[K,J,Z]),Q=(0,w.useMemo)(function(){if(V){var t=e-1;return Z(t,!0,t%5<4)}return null},[V,e,Z]),tt=(0,w.useCallback)(function(){return Array.from({length:Math.ceil(e/2)}).map(function(t,e){return"".concat(35*e,"px")})},[e]),te=(0,w.useCallback)(function(){return tt().map(function(t,n){var o=2*n+2<=e,i=2*n+1===e,a={position:"absolute",width:"0%",height:"104%",top:"50%",transform:"translateY(-50%)"};return"top"===f?a.right="calc(".concat(t," + 40px)"):a.left="calc(".concat(t," + 20px)"),(0,O.jsxs)("div",{style:a,children:[(0,O.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:r,transform:"rotate(".concat(b,"deg)"),transformOrigin:"center",opacity:o||i?1:0}}),(0,O.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:r,transform:"rotate(-".concat(b,"deg)"),transformOrigin:"center",opacity:o?1:0}})]},"x-".concat(n))})},[tt,e,b,r,f]),tn=(0,w.useCallback)(function(){var t=Math.floor(e/10);return t>0?(0,O.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:Array.from({length:t}).map(function(t,e){return(0,O.jsxs)("div",{style:I(I({position:"absolute"},"top"===f?{right:"".concat(23+e*(h+15),"px")}:{left:"".concat(23+e*(h+15),"px")}),{},{top:"50%",transform:"translateY(-50%)",width:"".concat(h,"px"),height:"107%"}),children:[(0,O.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:r,transform:"rotate(".concat(b,"deg)"),transformOrigin:"center"}}),(0,O.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:r,transform:"rotate(-".concat(b,"deg)"),transformOrigin:"center"}})]},"hundred-x-".concat(e))})}):null},[e,r,h,b,f]),tr=(0,w.useMemo)(function(){if(g)return te();if(100===n){var t=Math.floor(e/10),r=e-10*t,o=t*(h+B),i=null!=U?U:63,a=null!=X?X:40;return(0,O.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[tn(),r>0&&(0,O.jsx)("div",{style:I(I({position:"absolute"},"top"===f?{right:t>0?"calc(".concat(o,"px + ").concat(i,"px)"):"calc(".concat(25,"px + 16px)")}:{left:t>0?"calc(".concat(o,"px + ").concat(a,"px)"):"calc(".concat(25,"px - 8px)")}),{},{top:0,bottom:0,width:"".concat(r*c,"px")}),children:Array.from({length:r}).map(function(t,e){return Z(e,!1,!0)})})]})}if(20!==n)return(0,O.jsxs)(O.Fragment,{children:[Y,$,Q]});var s=Math.floor(e/5),u=e%5,d=s*(l+4*c)+u*c;return(0,O.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:(0,O.jsxs)("div",{style:I(I({position:"absolute"},"top"===f?{right:"25px"}:{left:"0px"}),{},{top:0,bottom:0,width:"".concat(d,"px")}),children:[Array.from({length:s}).map(function(t,e){return q(e)}),Array.from({length:u}).map(function(t,e){return Z(5*s+e,!1,e<4)})]})})},[e,n,g,te,tn,h,B,f,c,Z,Y,$,Q,l,q]);return(0,w.useEffect)(function(){},[e]),(0,O.jsx)(L,{isRotated:void 0!==d&&d,children:tr})},M=n(1993);function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(){_=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(e,n,r,i){var a,s,c=Object.create((n&&n.prototype instanceof g?n:g).prototype);return o(c,"_invoke",{value:(a=new T(i||[]),s=d,function(n,o){if(s===m)throw Error("Generator is already running");if(s===h){if("throw"===n)throw o;return{value:t,done:!0}}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=function e(n,r){var o=r.method,i=n.iterator[o];if(i===t)return r.delegate=null,"throw"===o&&n.iterator.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+o+"' method")),p;var a=f(i,n.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var s=a.arg;return s?s.done?(r[n.resultName]=s.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,p)}(i,a);if(c){if(c===p)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var u=f(e,r,a);if("normal"===u.type){if(s=a.done?h:"suspendedYield",u.arg===p)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=h,a.method="throw",a.arg=u.arg)}})}),c}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",m="executing",h="completed",p={};function g(){}function y(){}function b(){}var v={};u(v,a,function(){return this});var S=Object.getPrototypeOf,x=S&&S(S(P([])));x&&x!==n&&r.call(x,a)&&(v=x);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var n;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==G(l)&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return n("throw",t,a,s)})}s(c.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}})}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw TypeError(G(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(E.prototype),u(E.prototype,s,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),u(w,c,"Generator"),u(w,a,function(){return this}),u(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function D(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){n(t);return}s.done?e(c):Promise.resolve(c).then(r,o)}function z(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){D(i,r,o,a,s,"next",t)}function s(t){D(i,r,o,a,s,"throw",t)}a(void 0)})}}function H(t){var e=function(t,e){if("object"!==G(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==G(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===G(e)?e:String(e)}var B=new(s=function t(){var e,n;(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,t),n="jass_sessions",(e=H(e="STORAGE_KEY"))in this?Object.defineProperty(this,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[e]=n},c=[{key:"getStorageKey",value:function(t){return"".concat(this.STORAGE_KEY,"_").concat(t)}},{key:"saveSession",value:(o=z(_().mark(function t(e){var n,r;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=this.getStorageKey(e.id),t.next=4,localStorage.setItem(n,JSON.stringify(e));case 4:return t.next=6,this.listSessions();case 6:if((r=t.sent).find(function(t){return t.id===e.id})){t.next=11;break}return r.push(e),t.next=11,localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r));case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(0),console.error("Fehler beim Speichern der Session:",t.t0),t.t0;case 17:case"end":return t.stop()}},t,this,[[0,13]])})),function(t){return o.apply(this,arguments)})},{key:"loadSession",value:(i=z(_().mark(function t(e){var n;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=localStorage.getItem(this.getStorageKey(e))){t.next=3;break}throw Error("Session ".concat(e," nicht gefunden"));case 3:return t.abrupt("return",JSON.parse(n));case 4:case"end":return t.stop()}},t,this)})),function(t){return i.apply(this,arguments)})},{key:"listSessions",value:(a=z(_().mark(function t(){var e;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=localStorage.getItem(this.STORAGE_KEY),t.abrupt("return",e?JSON.parse(e):[]);case 5:return t.prev=5,t.t0=t.catch(0),console.error("Fehler beim Laden der Sessions:",t.t0),t.abrupt("return",[]);case 9:case"end":return t.stop()}},t,this,[[0,5]])})),function(){return a.apply(this,arguments)})}],function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H(r.key),r)}}(s.prototype,c),Object.defineProperty(s,"prototype",{writable:!1}),s),F={top:[2,4],bottom:[1,3]},U=F,W=function(t){U=t},X=function(t){return{horizontal:(t.matsch||0)+(t.kontermatsch||0),vertikal:(t.berg||0)+(t.sieg||0)+(t.schneider||0)}},J=function(t){var e=t%4+1;return e>=1&&e<=4?e:1},K=function(t,e){if(!t)return e;var n=t.teams.top.striche.sieg>0?"top":t.teams.bottom.striche.sieg>0?"bottom":null;if(!n)return e;var r=U["top"===n?"bottom":"top"],o=t.currentPlayer;if(r.includes(o))return o;for(var i=J(o);!r.includes(i);)i=J(i);return i};function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t){return function(t){if(Array.isArray(t))return q(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return q(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==V(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==V(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===V(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Q=function(t){return Math.max(0,t)},tt=(0,M.U)(function(t,e){return{jassStartTime:null,gameStartTime:null,roundStartTime:null,history:{jass:[],games:[],rounds:[]},isPaused:!1,pauseStartTime:null,totalPausedTime:0,lastJassDuration:0,startJassTimer:function(){t(function(t){return $($({},t),{},{jassStartTime:Date.now(),history:$($({},t.history),{},{jass:[].concat(Z(t.history.jass),[{startTime:Date.now()}])})})})},startGameTimer:function(){t(function(t){return $($({},t),{},{gameStartTime:Date.now(),history:$($({},t.history),{},{games:[].concat(Z(t.history.games),[{startTime:Date.now()}])})})})},startRoundTimer:function(){t(function(t){return $($({},t),{},{roundStartTime:Date.now(),history:$($({},t.history),{},{rounds:[].concat(Z(t.history.rounds),[{startTime:Date.now()}])})})})},completeRound:function(){var e=Date.now();t(function(t){var n=Z(t.history.rounds),r=n[n.length-1];return r&&(r.endTime=e,r.duration=e-r.startTime),$($({},t),{},{roundStartTime:null,history:$($({},t.history),{},{rounds:n})})})},completeGame:function(){var e=Date.now();t(function(t){var n=Z(t.history.games),r=n[n.length-1];return r&&(r.endTime=e,r.duration=e-r.startTime),$($({},t),{},{gameStartTime:null,roundStartTime:null,history:$($({},t.history),{},{games:n})})})},completeJass:function(){var n=Date.now(),r=e(),o=r.jassStartTime?n-r.jassStartTime:0;t(function(t){return $($({},t),{},{lastJassDuration:o,jassStartTime:null,gameStartTime:null,roundStartTime:null,history:$($({},t.history),{},{jass:t.history.jass.slice(0,-1)})})})},getAnalytics:function(){var t=e(),n=e().getCurrentTime(),r=t.gameStartTime?Q(n-t.gameStartTime):0;return{totalJassTime:t.jassStartTime?Q(n-t.jassStartTime):t.lastJassDuration,currentGameDuration:r}},resetRoundTimer:function(){t(function(t){return $($({},t),{},{roundStartTime:null})})},resetGameTimers:function(){t(function(t){return $($({},t),{},{gameStartTime:null,roundStartTime:null})})},resetAllTimers:function(){t(function(t){return $($({},t),{},{jassStartTime:null,gameStartTime:null,roundStartTime:null,history:{jass:[],games:[],rounds:[]}})})},pauseTimer:function(){t(function(t){return $($({},t),{},{isPaused:!0,pauseStartTime:Date.now()})})},resumeTimer:function(){t(function(t){var e=t.pauseStartTime?Date.now()-t.pauseStartTime:0;return $($({},t),{},{isPaused:!1,pauseStartTime:null,totalPausedTime:t.totalPausedTime+e})})},getCurrentTime:function(){var t=e(),n=Date.now(),r=t.isPaused&&t.pauseStartTime?Q(n-t.pauseStartTime):0;return Q(n-(t.totalPausedTime+r))},prepareJassEnd:function(){var t=Date.now(),n=e();return n.jassStartTime?t-n.jassStartTime:0},finalizeJassEnd:function(){t(function(t){return $($({},t),{},{jassStartTime:null,gameStartTime:null,roundStartTime:null,history:$($({},t.history),{},{jass:t.history.jass.slice(0,-1)})})})}}}),te=function(t,e){return t.reduce(function(t,n){var r,o,i,a,s,c,u,l,f,d;return{berg:t.berg+(null!==(r=null===(o=n.teams[e].striche)||void 0===o?void 0:o.berg)&&void 0!==r?r:0),sieg:t.sieg+(null!==(i=null===(a=n.teams[e].striche)||void 0===a?void 0:a.sieg)&&void 0!==i?i:0),matsch:t.matsch+(null!==(s=null===(c=n.teams[e].striche)||void 0===c?void 0:c.matsch)&&void 0!==s?s:0),schneider:t.schneider+(null!==(u=null===(l=n.teams[e].striche)||void 0===l?void 0:l.schneider)&&void 0!==u?u:0),kontermatsch:t.kontermatsch+(null!==(f=null===(d=n.teams[e].striche)||void 0===d?void 0:d.kontermatsch)&&void 0!==f?f:0)}},{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0})},tn=function(t){return t.berg+t.sieg+t.schneider};function tr(t){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function to(t){return function(t){if(Array.isArray(t))return ti(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ti(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ti(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ti(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ta(){ta=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(e,n,r,i){var a,s,c=Object.create((n&&n.prototype instanceof g?n:g).prototype);return o(c,"_invoke",{value:(a=new T(i||[]),s=d,function(n,o){if(s===m)throw Error("Generator is already running");if(s===h){if("throw"===n)throw o;return{value:t,done:!0}}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=function e(n,r){var o=r.method,i=n.iterator[o];if(i===t)return r.delegate=null,"throw"===o&&n.iterator.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+o+"' method")),p;var a=f(i,n.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var s=a.arg;return s?s.done?(r[n.resultName]=s.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,p)}(i,a);if(c){if(c===p)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var u=f(e,r,a);if("normal"===u.type){if(s=a.done?h:"suspendedYield",u.arg===p)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=h,a.method="throw",a.arg=u.arg)}})}),c}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",m="executing",h="completed",p={};function g(){}function y(){}function b(){}var v={};u(v,a,function(){return this});var S=Object.getPrototypeOf,x=S&&S(S(P([])));x&&x!==n&&r.call(x,a)&&(v=x);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var n;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==tr(l)&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return n("throw",t,a,s)})}s(c.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}})}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw TypeError(tr(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(E.prototype),u(E.prototype,s,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),u(w,c,"Generator"),u(w,a,function(){return this}),u(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function ts(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){n(t);return}s.done?e(c):Promise.resolve(c).then(r,o)}function tc(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){ts(i,r,o,a,s,"next",t)}function s(t){ts(i,r,o,a,s,"throw",t)}a(void 0)})}}function tu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function tl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tu(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==tr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==tr(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===tr(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var tf=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";return console.log("\uD83D\uDCDD Creating Game Entry:",{id:t,startingPlayer:e,sessionId:n}),{id:t,timestamp:Date.now(),teams:{top:td(),bottom:td()},sessionId:n,currentRound:1,startingPlayer:e,initialStartingPlayer:e,currentPlayer:e,roundHistory:[],currentHistoryIndex:-1,historyState:{isNavigating:!1,lastNavigationTimestamp:Date.now()},isGameStarted:!1,isRoundCompleted:!1,isGameCompleted:!1}},td=function(){return{bergActive:!1,bedankenActive:!1,isSigned:!1,striche:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0},total:0,jassPoints:0,weisPoints:0,playerStats:{1:{striche:0,points:0,weisPoints:0},2:{striche:0,points:0,weisPoints:0},3:{striche:0,points:0,weisPoints:0},4:{striche:0,points:0,weisPoints:0}}}},tm={isJassStarted:!1,currentSession:{id:"initial",gruppeId:"default",startedAt:Date.now(),playerNames:{1:"",2:"",3:"",4:""},games:[],metadata:{}},currentRound:1,currentGameId:1,isJassCompleted:!1,teams:{top:td(),bottom:td()},games:[],currentGameCache:null},th=(0,M.U)()(function(t,e){var n,r;return tl(tl({},tm),{},{saveSession:(n=tc(ta().mark(function t(){var n,r,o,i,a,s,c;return ta().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=e(),i=tz.getState(),a=te(o.games,"top"),s=te(o.games,"bottom"),c={id:"session_".concat(Date.now()),gruppeId:"default",startedAt:(null===(n=o.games[0])||void 0===n?void 0:n.timestamp)||Date.now(),endedAt:Date.now(),playerNames:i.playerNames,games:o.games.map(function(t){return t.id}),metadata:{location:"Standard Location",notes:""},statistics:{gamesPlayed:o.games.length,totalDuration:Date.now()-((null===(r=o.games[0])||void 0===r?void 0:r.timestamp)||Date.now()),scores:{top:o.teams.top.total,bottom:o.teams.bottom.total},weisCount:o.games.reduce(function(t,e){return t+(e.teams.top.weisPoints+e.teams.bottom.weisPoints)},0),stricheCount:{berg:a.berg+s.berg,sieg:a.sieg+s.sieg,matsch:a.matsch+s.matsch,schneider:a.schneider+s.schneider,kontermatsch:a.kontermatsch+s.kontermatsch}}},t.prev=5,t.next=8,B.saveSession(c);case 8:return t.abrupt("return",c.id);case 11:throw t.prev=11,t.t0=t.catch(5),console.error("Fehler beim Speichern der Session:",t.t0),t.t0;case 15:case"end":return t.stop()}},t,null,[[5,11]])})),function(){return n.apply(this,arguments)}),loadSession:(r=tc(ta().mark(function t(e){return ta().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.loadSession(e);case 3:t.sent,t.next=10;break;case 6:throw t.prev=6,t.t0=t.catch(0),console.error("Fehler beim Laden der Session:",t.t0),t.t0;case 10:case"end":return t.stop()}},t,null,[[0,6]])})),function(t){return r.apply(this,arguments)}),startJass:function(e){var n=tf(1,e.initialStartingPlayer,"default");console.log("\uD83C\uDCCF First Game Created:",n),t({currentGameId:1,games:[n],currentSession:{id:"jass_".concat(Date.now()),gruppeId:"default",startedAt:Date.now(),playerNames:e.playerNames,games:[1],metadata:{location:"Standard Location",notes:""},statistics:{gamesPlayed:1,totalDuration:0,scores:{top:0,bottom:0},weisCount:0,stricheCount:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0}}}}),t({isJassStarted:!0}),tt.getState().startJassTimer()},finalizeGame:function(){var n=e(),r=tz.getState(),o=n.games.find(function(t){return t.id===n.currentGameId});if(o){var i=tl(tl({},o),{},{teams:{top:tl(tl({},o.teams.top),{},{jassPoints:r.scores.top,total:r.scores.top,striche:tl({},r.striche.top)}),bottom:tl(tl({},o.teams.bottom),{},{jassPoints:r.scores.bottom,total:r.scores.bottom,striche:tl({},r.striche.bottom)})},roundHistory:r.roundHistory,currentRound:r.currentRound,currentPlayer:r.currentPlayer,currentHistoryIndex:r.currentHistoryIndex,historyState:r.historyState,isGameStarted:r.isGameStarted,isRoundCompleted:r.isRoundCompleted,isGameCompleted:!0});t({games:n.games.map(function(t){return t.id===o.id?i:t})})}},resetJass:function(){t(tm)},undoNewGame:function(){var n=e();if(!(n.games.length<=1)){var r=n.games.slice(0,-1),o=r[r.length-1];if(o){var i=tz.getState();i.resetGamePoints(),i.setScore("top",o.teams.top.jassPoints),i.setScore("bottom",o.teams.bottom.jassPoints);var a=n.games[n.games.length-1],s=tl({},n.teams);s.top=tl(tl({},s.top),{},{jassPoints:s.top.jassPoints-a.teams.top.jassPoints,total:s.top.total-a.teams.top.jassPoints}),s.bottom=tl(tl({},s.bottom),{},{jassPoints:s.bottom.jassPoints-a.teams.bottom.jassPoints,total:s.bottom.total-a.teams.bottom.jassPoints}),t({games:r,currentGameId:o.id,teams:s})}}},navigateToGame:function(n){var r,o,i,a=e(),s=a.games.find(function(t){return t.id===n});if(s){var c=n===a.games.length,u=s.roundHistory.length-1,l=s.roundHistory[u],f=null!==(r=null==l?void 0:l.roundState)&&void 0!==r?r:{roundNumber:s.currentRound,nextPlayer:s.currentPlayer};tz.setState({scores:{top:s.teams.top.jassPoints,bottom:s.teams.bottom.jassPoints},striche:{top:s.teams.top.striche,bottom:s.teams.bottom.striche},roundHistory:s.roundHistory,currentRound:f.roundNumber,currentPlayer:f.nextPlayer,currentHistoryIndex:c?u:-1,historyState:{isNavigating:!c,lastNavigationTimestamp:Date.now()},isGameStarted:!0,isRoundCompleted:null!==(o=null==l?void 0:l.isRoundFinalized)&&void 0!==o&&o,isGameCompleted:null!==(i=s.isGameCompleted)&&void 0!==i&&i}),t({currentGameId:n,teams:s.teams})}},navigateToPreviousGame:function(){var t=e();return t.currentGameId>1&&(e().navigateToGame(t.currentGameId-1),!0)},navigateToNextGame:function(){var t=e();return t.currentGameId<t.games.length&&(e().navigateToGame(t.currentGameId+1),!0)},canNavigateBack:function(){return e().currentGameId>1},canNavigateForward:function(){var t=e();return t.currentGameId<t.games.length},calculateTotalPoints:function(){var t=e();return{top:t.teams.top.total,bottom:t.teams.bottom.total}},calculateTotalJassPoints:function(){var t=e();return{top:t.teams.top.jassPoints,bottom:t.teams.bottom.jassPoints}},getGameHistory:function(){return e().games},getCurrentGame:function(){var t=e();return t.games.find(function(e){return e.id===t.currentGameId})},getVisibleGames:function(){var t=e();return t.games.filter(function(e){return e.id<=t.currentGameId})},getState:function(){return e()},setState:function(e){return t(e)},subscribe:function(t){return th.subscribe(t)},updateWeisPoints:function(e,n){t(function(t){var r=tl({},t.teams);return r[e].weisPoints+=n,r[e].total+=n,{teams:r}})},updateCurrentGame:function(e){t(function(t){var n=t.games.find(function(e){return e.id===t.currentGameId});if(!n)return t;var r=e.teams?{top:tl(tl({},n.teams.top),e.teams.top),bottom:tl(tl({},n.teams.bottom),e.teams.bottom)}:n.teams,o=tl(tl(tl({},n),e),{},{teams:r});return tl(tl({},t),{},{games:t.games.map(function(t){return t.id===o.id?o:t})})})},getTotalsUpToGame:function(t){return e().games.filter(function(e){return e.id<=t}).reduce(function(t,e){return{striche:{top:{berg:t.striche.top.berg+e.teams.top.striche.berg,sieg:t.striche.top.sieg+e.teams.top.striche.sieg,matsch:t.striche.top.matsch+e.teams.top.striche.matsch,schneider:t.striche.top.schneider+e.teams.top.striche.schneider,kontermatsch:t.striche.top.kontermatsch+e.teams.top.striche.kontermatsch},bottom:{berg:t.striche.bottom.berg+e.teams.bottom.striche.berg,sieg:t.striche.bottom.sieg+e.teams.bottom.striche.sieg,matsch:t.striche.bottom.matsch+e.teams.bottom.striche.matsch,schneider:t.striche.bottom.schneider+e.teams.bottom.striche.schneider,kontermatsch:t.striche.bottom.kontermatsch+e.teams.bottom.striche.kontermatsch}},punkte:{top:t.punkte.top+e.teams.top.total,bottom:t.punkte.bottom+e.teams.bottom.total}}},{striche:{top:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0},bottom:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0}},punkte:{top:0,bottom:0}})},startGame:function(){var n=e();if(!n.currentSession){console.error("Keine g\xfcltige Session gefunden");return}var r=tz.getState(),o=n.currentGameId+1,i=K(n.games.find(function(t){return t.id===n.currentGameId})||null,r.startingPlayer),a=tf(o,i,n.currentSession.id);tz.setState({currentPlayer:i,startingPlayer:i,scores:{top:0,bottom:0},weisPoints:{top:0,bottom:0},striche:{top:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0},bottom:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0}},roundHistory:[],currentRound:1,isGameStarted:!0,isRoundCompleted:!1,isGameCompleted:!1}),t(function(t){var e,n,r;return tl(tl({},t),{},{currentGameId:o,games:[].concat(to(t.games),[a]),currentSession:tl(tl({},t.currentSession),{},{games:[].concat(to(t.currentSession.games),[o]),statistics:tl(tl({},t.currentSession.statistics),{},{gamesPlayed:((null===(e=t.currentSession.statistics)||void 0===e?void 0:e.gamesPlayed)||0)+1,totalDuration:Date.now()-t.currentSession.startedAt,scores:{top:t.teams.top.total,bottom:t.teams.bottom.total},weisCount:(null===(n=t.currentSession.statistics)||void 0===n?void 0:n.weisCount)||0,stricheCount:(null===(r=t.currentSession.statistics)||void 0===r?void 0:r.stricheCount)||{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0}})})})}),e().saveSession().catch(console.error);var s=tt.getState();s.resetGameTimers(),s.startGameTimer(),s.startRoundTimer()}})}),tp=function(t){var e={100:Math.floor(t/100),50:0,20:0},n=t%100;return n>=50&&(e[50]=Math.floor(n/50),n%=50),n>=20&&(e[20]=Math.floor(n/20),n%=20),{striche:e,restZahl:n}},tg=n(4319),ty=n(1773),tb=n(3114),tv=n(9679),tS="Willst du wirklich die Vergangenheit \xe4ndern? Dies wird alle nachfolgenden Eintr\xe4ge l\xf6schen!",tx=function(t){var e=t.message,n=t.onConfirm,r=t.onDismiss,o=t.show,i=t.swipePosition,a=void 0===i?"bottom":i,s=(0,tg.HB)().closeHistoryWarning,c=(0,w.useCallback)(function(){s(),n()},[n,s]),u=(0,w.useCallback)(function(){s(),r()},[r,s]);return(0,O.jsx)(tb.M,{children:o&&(0,O.jsxs)(tv.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-[9999] p-4 pointer-events-auto",children:[(0,O.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:u}),(0,O.jsx)(tv.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white z-10\n              ".concat("top"===a?"rotate-180":""),children:(0,O.jsxs)("div",{className:"".concat("top"===a?"rotate-180":""),children:[(0,O.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[(0,O.jsx)(ty.gJy,{className:"w-12 h-12 text-yellow-600 mb-2"}),(0,O.jsx)("p",{className:"text-center mb-6",children:e})]}),(0,O.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,O.jsx)("button",{onClick:c,className:"flex-1 bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors text-lg font-semibold",children:"Ja"}),(0,O.jsx)("button",{onClick:u,className:"flex-1 bg-gray-600 text-white px-6 py-2 rounded-full hover:bg-gray-700 transition-colors text-lg font-semibold",children:"Abbrechen"})]})]})})]})})},tw=n(9337),tj={Misère:{DE:"Mis\xe8re",FR:"Mis\xe8re"},Eicheln:{DE:"Eichel",FR:"Schaufel"},Rosen:{DE:"Rosen",FR:"Kreuz"},Schellen:{DE:"Schellen",FR:"Herz"},Schilten:{DE:"Schilten",FR:"Ecke"},Obe:{DE:"Obe",FR:"Obe"},Une:{DE:"Unde",FR:"Unde"},"3x3":{DE:"3x3",FR:"3x3"},Quer:{DE:"Quer",FR:"Quer"},Slalom:{DE:"Slalom",FR:"Slalom"}};function tE(t){return(tE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tN(t){return function(t){if(Array.isArray(t))return tO(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return tO(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tO(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function tP(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tT(Object(n),!0).forEach(function(e){tC(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function tC(t,e,n){var r;return(r=function(t,e){if("object"!==tE(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==tE(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===tE(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tk={berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0},tA={1:"",2:"",3:"",4:""},tI={isNavigating:!1,lastNavigationTimestamp:null},tL=function(t,e){return{top:t.top+e.top,bottom:t.bottom+e.bottom,weisPoints:t}},tR=function(t){return{currentPlayer:t,startingPlayer:t,initialStartingPlayer:t,isGameStarted:!1,currentRound:1,weisPoints:{top:0,bottom:0},jassPoints:{top:0,bottom:0},scores:{top:0,bottom:0},striche:{top:tP({},tk),bottom:tP({},tk)},roundHistory:[],currentRoundWeis:[],isGameCompleted:!1,isRoundCompleted:!1,farbeSettings:{colors:[],multipliers:[]},scoreSettings:{scores:[],enabled:[]},playerNames:tA,currentHistoryIndex:-1,historyState:tI}},tM=function(t,e,n,r){var o=tg.HB.getState().settings,i=(null==r?void 0:r.cardStyle)||o.cardStyle,a={id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),timestamp:Date.now(),roundId:t.currentRound,weisPoints:tP({},t.weisPoints),jassPoints:tP({},t.jassPoints),scores:tP({},t.scores),weisActions:tN(t.currentRoundWeis),currentPlayer:t.currentPlayer,visualStriche:{top:e.getVisualStriche("top"),bottom:e.getVisualStriche("bottom")},previousRoundId:t.roundHistory.length>0?t.roundHistory[t.roundHistory.length-1].roundId:void 0,nextRoundId:void 0,roundState:{roundNumber:t.currentRound,nextPlayer:t.currentPlayer},striche:{top:tP({},t.striche.top),bottom:tP({},t.striche.bottom)}};return"weis"===n?tP(tP({},a),{},{actionType:"weis",isRoundFinalized:!1,isCompleted:!1}):tP(tP({},a),{},{actionType:"jass",isRoundFinalized:!0,isCompleted:!0,farbe:null!=r&&r.farbe?tj[r.farbe][i]:null==r?void 0:r.farbe,cardStyle:i,strichType:null==r?void 0:r.strichType})},tG=function(t){return Math.max(0,t)},t_=function(t,e){var n=t.currentHistoryIndex,r=t.roundHistory.slice(0,n+1);return{roundHistory:[].concat(tN(r),[e]),currentHistoryIndex:r.length,historyState:{isNavigating:!1,lastNavigationTimestamp:Date.now()}}},tD=function(t,e){return t.striche.top[e]>0?"top":t.striche.bottom[e]>0?"bottom":void 0},tz=(0,M.U)(function(t,e){return tP(tP({},tR(1)),{},{startGame:function(){var n=th.getState(),r=!n.isJassStarted,o=e();r?(console.log("\uD83C\uDFAE Starting first game of Jass"),n.startJass({playerNames:o.playerNames,initialStartingPlayer:o.currentPlayer})):(console.log("\uD83C\uDFAE Starting next game"),t({currentPlayer:K(n.getCurrentGame()||null,o.currentPlayer)}),n.startGame()),t({isGameStarted:!0})},startRound:function(){var n=e(),r=tt.getState();1===n.currentRound&&r.startGameTimer(),r.startRoundTimer(),t(function(){return{isRoundCompleted:!1,farbe:void 0,currentRoundWeis:[]}})},finalizeRound:function(n,r,o,i){var a=tt.getState(),s=tg.HB.getState().settings;t(function(t){var c,u=tg.HB.getState().strokeSettings,l={top:t.jassPoints.top+r,bottom:t.jassPoints.bottom+o},f=tP({},t.striche);if(i){var d="kontermatsch"==(c=t.currentPlayer%2==("top"===i.team?0:1)?"matsch":"kontermatsch")?u.kontermatsch:tw.Pj[c];f[i.team]=tP(tP({},f[i.team]),{},tC({},c,f[i.team][c]+d)),console.log("\uD83C\uDFB2 Aktualisierte Striche:",{team:i.team,type:c,settings:u,increment:d,vorher:t.striche[i.team][c],nachher:f[i.team][c]})}var m=tL(t.weisPoints,l),h=J(t.currentPlayer),p=tP(tP({},t),{},{jassPoints:l,scores:m,striche:f,isRoundCompleted:!0,currentRound:t.currentRound+1,currentPlayer:h,currentRoundWeis:[],farbe:n}),g=tM(p,e(),"jass",{farbe:n,strichType:c,cardStyle:s.cardStyle});return th.getState().updateCurrentGame({teams:{top:{jassPoints:l.top,weisPoints:t.weisPoints.top,striche:f.top,total:m.top,bergActive:t.striche.top.berg>0,bedankenActive:!1,isSigned:!1,playerStats:{1:{striche:0,points:0,weisPoints:0},2:{striche:0,points:0,weisPoints:0},3:{striche:0,points:0,weisPoints:0},4:{striche:0,points:0,weisPoints:0}}},bottom:{jassPoints:l.bottom,weisPoints:t.weisPoints.bottom,striche:f.bottom,total:m.bottom,bergActive:t.striche.bottom.berg>0,bedankenActive:!1,isSigned:!1,playerStats:{1:{striche:0,points:0,weisPoints:0},2:{striche:0,points:0,weisPoints:0},3:{striche:0,points:0,weisPoints:0},4:{striche:0,points:0,weisPoints:0}}}},roundHistory:[].concat(tN(t.roundHistory),[g]),currentRound:t.currentRound+1,currentPlayer:h}),a.resetRoundTimer(),a.startRoundTimer(),tP(tP({},p),{},{roundHistory:[].concat(tN(t.roundHistory),[g]),currentHistoryIndex:t.roundHistory.length})})},updateScore:function(e,n,r){t(function(t){var o=tP({},t.scores);return o[e]=tG(n),o["top"===e?"bottom":"top"]=tG(r),{scores:o}})},addStrich:function(e,n){t(function(t){var r=tP(tP({},t.striche[e]),{},tC({},n,t.striche[e][n]+1));return th.getState().updateCurrentGame({teams:tC({},e,{striche:r})}),console.log("\uD83C\uDFB2 Strich hinzugef\xfcgt:",{team:e,type:n,newValue:r[n],allStriche:r}),tP(tP({},t),{},{striche:tP(tP({},t.striche),{},tC({},e,r))})})},addWeisPoints:function(n,r){t(function(t){var o=tP({},t.weisPoints);o[n]+=r;var i=tL(o,t.jassPoints),a={position:n,points:r},s=tM(tP(tP({},t),{},{weisPoints:o,scores:i,currentRoundWeis:[].concat(tN(t.currentRoundWeis),[a]),currentRound:t.currentRound}),e(),"weis"),c=t_(t,s);return tP(tP({},t),{},{weisPoints:o,scores:i,currentRoundWeis:[].concat(tN(t.currentRoundWeis),[a])},c)});var o=e();console.group("\uD83C\uDFB2 WEIS UPDATE:"),console.log("Team:",n),console.log("Points:",r),console.log("New State:",{weisPoints:o.weisPoints,currentRoundWeis:o.currentRoundWeis,scores:o.scores}),console.groupEnd()},undoLastWeis:function(){t(function(t){return{currentRoundWeis:t.currentRoundWeis.slice(0,-1)}})},finalizeGame:function(){t(function(){return{isGameCompleted:!0}})},resetGame:function(){var n=th.getState();e(),t(function(t){var e;return tP(tP({},tR(t.currentPlayer)),{},{playerNames:(null===(e=n.currentSession)||void 0===e?void 0:e.playerNames)||t.playerNames,scoreSettings:t.scoreSettings,farbeSettings:t.farbeSettings})})},resetGamePoints:function(){t(function(){return{scores:{top:0,bottom:0}}})},setScore:function(e,n){t(function(t){var r=tP({},t.scores);return r[e]=tG(n),{scores:r}})},setPlayerNames:function(e){t(function(){return{playerNames:e}})},updateScoreByStrich:function(n,r){var o=e(),i=tg.HB.getState().showHistoryWarning,a=function(){t(function(t){var o=tP({},t.scores);o[n]+=r;var i=tM(tP(tP({},t),{},{scores:o}),e(),"jass");return tP({scores:o},t_(t,i))})};if(o.currentHistoryIndex<o.roundHistory.length-1){i({message:tS,onConfirm:a,onCancel:function(){return e().jumpToLatest()}});return}a()},getVisualStriche:function(t){var n=tp(e().scores[t]),r=n.striche,o=n.restZahl;return{stricheCounts:{20:r["20"],50:r["50"],100:r["100"]},restZahl:o}},showHistoryWarning:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return e().jumpToLatest()},o=e();o.currentHistoryIndex<o.roundHistory.length-1?tg.HB.getState().showHistoryWarning({message:t,onConfirm:n,onCancel:r}):n()},navigateHistory:function(n){var r=e(),o=Date.now();r.historyState.lastNavigationTimestamp&&o-r.historyState.lastNavigationTimestamp<300||t(function(t){var r="forward"===n?t.currentHistoryIndex+1:t.currentHistoryIndex-1;if(r<-1||r>t.roundHistory.length)return t;if(-1===r)return tP(tP({},tR(t.startingPlayer)),{},{playerNames:t.playerNames,scoreSettings:t.scoreSettings,farbeSettings:t.farbeSettings,roundHistory:t.roundHistory,currentHistoryIndex:-1,historyState:{isNavigating:!0,lastNavigationTimestamp:o}});var i=t.roundHistory[r],a=tP(tP({},t),{},{currentRound:i.roundState.roundNumber,currentPlayer:i.roundState.nextPlayer,weisPoints:tP({},i.weisPoints),jassPoints:tP({},i.jassPoints),scores:tP({},i.scores),striche:JSON.parse(JSON.stringify(i.striche)),currentRoundWeis:tN(i.weisActions),isRoundCompleted:i.isCompleted,farbe:"jass"===i.actionType?i.farbe:void 0,currentHistoryIndex:r,historyState:{isNavigating:!0,lastNavigationTimestamp:o}});if(r===t.roundHistory.length){var s=e();return tP(tP({},a),{},{currentRound:s.currentRound,isRoundCompleted:!1,farbe:void 0})}return a})},canNavigateForward:function(){var t=e();return t.currentHistoryIndex<t.roundHistory.length-1},canNavigateBackward:function(){return e().currentHistoryIndex>-1},jumpToLatest:function(){var n=e();if(0!==n.roundHistory.length){var r,o=n.roundHistory[n.roundHistory.length-1];t(tP(tP({},n),{},{weisPoints:o.weisPoints,jassPoints:o.jassPoints,scores:o.scores,currentPlayer:o.currentPlayer,currentRound:o.roundId,striche:{top:{berg:(r=o.visualStriche).top.stricheCounts.berg||0,sieg:r.top.stricheCounts.sieg||0,matsch:r.top.stricheCounts.matsch||0,schneider:r.top.stricheCounts.schneider||0,kontermatsch:r.top.stricheCounts.kontermatsch||0},bottom:{berg:r.bottom.stricheCounts.berg||0,sieg:r.bottom.stricheCounts.sieg||0,matsch:r.bottom.stricheCounts.matsch||0,schneider:r.bottom.stricheCounts.schneider||0,kontermatsch:r.bottom.stricheCounts.kontermatsch||0}},currentRoundWeis:o.weisActions,currentHistoryIndex:n.roundHistory.length-1,historyState:{isNavigating:!1,lastNavigationTimestamp:Date.now()}}))}},validateHistoryAction:function(){var t=e();return t.currentHistoryIndex===t.roundHistory.length-1},syncHistoryState:function(e){t(function(t){return tP(tP({},t),{},{roundHistory:[].concat(tN(t.roundHistory),[e]),currentHistoryIndex:t.roundHistory.length,historyState:{isNavigating:!1,lastNavigationTimestamp:Date.now()}})})},logGameHistory:function(){var t=e().roundHistory.filter(function(t){return t.isRoundFinalized}).map(function(t){return{roundId:t.roundId,farbe:"jass"===t.actionType?t.farbe:void 0,strichInfo:"jass"===t.actionType?t.strichInfo:void 0,timestamp:new Date(t.timestamp).toLocaleString("de-CH"),points:{top:t.jassPoints.top,bottom:t.jassPoints.bottom},weisPoints:{top:t.weisPoints.top,bottom:t.weisPoints.bottom},totalPoints:{top:t.scores.top,bottom:t.scores.bottom}}});return console.log("Spielverlauf:",t),t},updateWeisPoints:function(n,r){e(),t(function(t){var o=tP({},t.weisPoints);o[n]+=r;var i={top:t.jassPoints.top+o.top,bottom:t.jassPoints.bottom+o.bottom},a={position:n,points:r},s=tM(tP(tP({},t),{},{weisPoints:o,scores:i,currentRoundWeis:[].concat(tN(t.currentRoundWeis),[a])}),e(),"weis"),c=t_(t,s);return console.log("\uD83C\uDFB2 Weis-Update:",{position:n,points:r,newWeisPoints:o,newScores:i}),tP(tP({},t),{},{weisPoints:o,scores:i,currentRoundWeis:[].concat(tN(t.currentRoundWeis),[a])},c)})},restoreRoundState:function(e){t(function(t){return tP(tP({},t),{},{currentRound:e.roundState.roundNumber,currentPlayer:e.roundState.nextPlayer})})},isBergActive:function(t){return e().striche[t].berg>0},isSiegActive:function(t){return e().striche[t].sieg>0},addBerg:function(e){t(function(t){var n,r=tg.HB.getState().scoreSettings;if(!(null!=r&&null!==(n=r.enabled)&&void 0!==n&&n.berg))return t;var o=tD(t,"berg"),i=tP({},t.striche);return o===e?i[e].berg=0:o||(i[e].berg=1,i["top"===e?"bottom":"top"].berg=0),tP(tP({},t),{},{striche:i})})},addSieg:function(e){t(function(t){var n=tg.HB.getState(),r=n.scoreSettings,o=n.strokeSettings,i=tD(t,"sieg"),a=null==r||null===(s=r.enabled)||void 0===s||!s.berg||t.striche.top.berg>0||t.striche.bottom.berg>0;if(i===e)return tP(tP({},t),{},{striche:tP(tP({},t.striche),{},tC({},e,tP(tP({},t.striche[e]),{},{sieg:0,schneider:0})))});if(!i&&a){var s,c,u="top"===e?"bottom":"top",l=tP(tP({},t),{},{striche:tP(tP({},t.striche),{},tC(tC({},e,tP(tP({},t.striche[e]),{},{sieg:tw.Pj.sieg})),u,tP(tP({},t.striche[u]),{},{sieg:0})))});return null!=r&&null!==(c=r.enabled)&&void 0!==c&&c.schneider&&t.scores[u]<r.values.schneider&&(l.striche[e].schneider=o.schneider),l}return t})},addSchneider:function(e){t(function(t){var n=tg.HB.getState(),r=n.scoreSettings,o=n.strokeSettings;if(console.log("\uD83C\uDFB2 Settings beim Schneider:",{scoreSettings:r,strokeSettings:o,team:e,currentStriche:t.striche[e]}),!(t.striche[e].sieg>0))return t;var i="top"===e?"bottom":"top",a=t.scores[i],s=r.enabled.schneider&&a<r.values.schneider;return tP(tP({},t),{},{striche:tP(tP({},t.striche),{},tC(tC({},e,tP(tP({},t.striche[e]),{},{schneider:s?o.schneider:0})),i,tP(tP({},t.striche[i]),{},{schneider:0})))})})},addMatsch:function(e){t(function(t){var n=tg.HB.getState().strokeSettings,r=t.currentPlayer%2==0,o=r&&"top"===e||!r&&"bottom"===e?"kontermatsch":"matsch",i="kontermatsch"===o?n.kontermatsch:tw.Pj.matsch;return console.log("\uD83C\uDFB2 Matsch/Kontermatsch hinzuf\xfcgen:",{team:e,strichTyp:o,settings:n,increment:i}),tP(tP({},t),{},{striche:tP(tP({},t.striche),{},tC({},e,tP(tP({},t.striche[e]),{},tC({},o,t.striche[e][o]+i))))})})},getTotalStriche:function(t){var n,r,o=e(),i=tg.HB.getState().scoreSettings,a=o.striche[t],s=0;return null!=i&&null!==(n=i.enabled)&&void 0!==n&&n.berg&&(s+=a.berg),s+=a.sieg,null!=i&&null!==(r=i.enabled)&&void 0!==r&&r.schneider&&(s+=a.schneider),s+=a.matsch+a.kontermatsch},completeRound:function(){var e=tt.getState();t(function(t){return tP(tP({},t),{},{isRoundCompleted:!0,currentRound:t.currentRound+1})}),e.resetRoundTimer()}})});function tH(t){return(tH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function tU(t,e,n){var r;return(r=function(t,e){if("object"!==tH(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==tH(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===tH(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}tz.subscribe(function(t){console.log("\uD83D\uDD04 GameStore State nach Update:",{currentPlayer:t.currentPlayer,startingPlayer:t.startingPlayer,currentRound:t.currentRound,isRoundCompleted:t.isRoundCompleted})});var tW=(0,C.ZP)("div")({position:"absolute",width:"75%",maxWidth:"320px",height:"80%",top:"10%",left:"50%",transform:"translateX(-50%)",pointerEvents:"none"}),tX=(0,C.ZP)("div")(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tF(Object(n),!0).forEach(function(e){tU(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tF(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({position:"absolute",width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-start",padding:"0 10px",boxSizing:"border-box",pointerEvents:"auto",cursor:"pointer"},t.customStyle)}),tJ=(0,C.ZP)("span")(function(t){var e=t.position;return tU(tU(tU(tU(tU(tU({position:"absolute"},"top"===e?"left":"right","10px"),"top","50%"),"transform","top"===e?"translateY(-50%) rotate(180deg)":"translateY(-50%)"),"color","rgba(255, 255, 255, 0.8)"),"fontSize","16px"),"fontWeight","bold")}),tK=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-43,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0%",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0%",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0%",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"0%";return"bottom"===t?{"100er":{height:"20%",top:"calc(-3.5% + ".concat(r,")"),left:"-4%",width:"105%"},"50er":{height:"20%",top:"70%",left:"9%",width:"95%",transform:"rotate(".concat(e,"deg)"),transformOrigin:"top left"},"20er":{height:"20%",bottom:"calc(-4.5% + ".concat(i,")"),left:"2%",width:"80%"},restzahl:{height:"20%",top:"76%",right:"-2%",width:"16%"}}:{"20er":{height:"20%",top:"calc(-4.5% + ".concat(o,")"),right:"2%",width:"80%"},"50er":{height:"20%",bottom:"14%",left:"22%",width:"95%",transform:"rotate(".concat(e,"deg)"),transformOrigin:"bottom left"},"100er":{height:"20%",bottom:"calc(-3.5% + ".concat(n,")"),right:"-4%",width:"105%"},restzahl:{height:"20%",bottom:"76%",left:"-2%",width:"16%"}}},tV=(0,C.ZP)("div")(function(t){return{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",transform:t.isRotated?"rotateX(180deg) rotateY(180deg) rotateZ(180deg)":"none",transformOrigin:"center center"}}),tZ=function(t){if("restzahl"===t)return"restzahl";var e=parseInt(t);return 20===e||50===e||100===e?e:20},tq=function(t){var e=t.position,n=(t.onBlendEffect,t.top100erOffset),r=t.bottom100erOffset,o=t.top20erOffset,i=t.bottom20erOffset,a=tz(),s=(a.updateScoreByStrich,a.addWeisPoints,a.currentHistoryIndex,a.roundHistory,a.showHistoryWarning,a.getVisualStriche);a.jumpToLatest;var c=(0,tg.HB)();c.setGameInfoOpen,c.setLastDoubleClickPosition,c.closeHistoryWarning;var u=s(e),l=tK(e,-43,void 0===n?"2%":n,void 0===r?"2%":r,void 0===o?"2%":o,void 0===i?"2%":i);return(0,O.jsx)(tW,{children:(0,O.jsx)(tV,{isRotated:"top"===e,children:Object.entries(l).map(function(t){var n=function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{for(i=(n=n.call(t)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,2)||function(t,e){if(t){if("string"==typeof t)return tB(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tB(t,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1],i=tZ(r),a="restzahl"===i?u.restZahl:u.stricheCounts[i]||0;return(0,O.jsx)(tX,{customStyle:o,"data-strich-box":"true","data-position":e,"data-box-type":r,children:"restzahl"===i?(0,O.jsx)(tJ,{position:e,children:u.restZahl}):(0,O.jsx)(R,{stricheCount:a,stricheCounts:u.stricheCounts,einheitWert:i,strichColor:"rgb(255, 255, 255)",animationDuration:100,isActive:!0,direction:"top"===e?"rtl":"ltr",edgeOffset:0,isXMode:50===i,xAngle:18,xAlignment:"top"===e?"right":"left",isDiagonal:!0,diagonalAngle:"top"===e?-43:43,diagonalStrichHeight:"116%",diagonalStrichWidth:"2px",diagonalStrichOffset:{vertical:"0%",horizontal:"0%"},diagonalStrichAngle:"top"===e?-25:25,topDiagonalStrichOffset:{vertical:"0%",horizontal:"0%"},bottomDiagonalStrichOffset:{vertical:"0%",horizontal:"0%"},topDiagonalStrichAngle:30,bottomDiagonalStrichAngle:30,position:e,diagonalStrichOffset100er:{vertical:"top"===e?"-18%":"3%",horizontal:"top"===e?"10%":"-5%"},diagonalStrichOffset20er:{vertical:"top"===e?"-20%":"3.5%",horizontal:"top"===e?"5.5%":"-1.5%"},diagonalStrichAngle100er:35,diagonalStrichAngle20er:35})},r)})})})},tY=n(630),t$=n(968);function tQ(t){return(tQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function t0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function t1(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?t0(Object(n),!0).forEach(function(e){t2(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t0(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function t2(t,e,n){var r;return(r=function(t,e){if("object"!==tQ(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==tQ(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===tQ(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t5(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return t3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t3(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t3(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var t4=(0,w.forwardRef)(function(t,e){var n=t.position,r=t.height,o=t.zShapeConfig,i=t.padding,a=t.onSwipe,s=t.y,c=t.mainOpacity,u=t.getBrightness,l=t.onLongPress,f=t.score,d=t.triggerBlendEffect,m=(t.isHistoryNavigationActive,t.onDoubleClick),h=(0,tg.HB)(function(t){return t.splitContainer}),p=h.isOpen,g=h.position,y=t5((0,w.useState)(null),2),b=y[0],v=y[1],S=(0,tY.X)(),x=S.isActive,E=S.getCurrentStep,N=t5((0,w.useState)(0),2),C=N[0],k=N[1],A=function(){var t,e,r,o=Date.now();if(o-C<300){console.log("\uD83D\uDD0D Potential double-click detected, skipping longpress");return}console.log("\uD83D\uDD0D MouseDown:",{isTutorialActive:x,currentStep:null===(t=E())||void 0===t?void 0:t.id,shouldAllowPress:!x||(null===(e=E())||void 0===e?void 0:e.id)===t$.RX.CALCULATOR_OPEN}),x&&(null===(r=E())||void 0===r?void 0:r.id)!==t$.RX.CALCULATOR_OPEN?console.log("❌ LongPress blocked"):(console.log("✅ Setting timer for longpress"),v(setTimeout(function(){console.log("⏰ Timer fired - calling onLongPress"),l(n)},400))),k(o)},I=function(){b&&clearTimeout(b)};(0,w.useEffect)(function(){return function(){b&&clearTimeout(b)}},[b]),P({onSwipeLeft:function(){return a("left",n)},onSwipeRight:function(){return a("right",n)},onSwipeUp:function(){return a("up",n)},onSwipeDown:function(){return a("down",n)},element:n});var L=t2(t2(t2(t2(t2(t2({width:"100%",position:"absolute",left:0,right:0,overflow:"visible",height:"".concat(r,"px")},n,0),i,"env(safe-area-inset-top)"),"userSelect","none"),"WebkitUserSelect","none"),"WebkitTouchCallout","none"),"touchAction","none"),R=t2(t2({position:"absolute",width:"110%",left:"-1%"},"top"===n?"bottom":"top","".concat(1.5*o.innerSpacing,"px")),"height","calc(100% - ".concat(1.5*o.edgeSpacing+.8*o.innerSpacing,"px)")),M=function(t){var e=new Date().getTime(),r=e-C;if(r<300&&r>0){var o=E();if(x){if((null==o?void 0:o.id)===t$.RX.GAME_INFO){null==m||m(n);return}t.preventDefault(),t.stopPropagation();return}null==m||m(n)}k(e)};return(0,O.jsxs)(j.q.div,{style:t1(t1({},L),{},{transform:s.to(function(t){return p&&n===g?"translateY(".concat("top"===n?-100:100,"%)"):0===t?"none":"translateY(".concat("top"===n?-t:t,"px)")})}),"data-swipe-area":n,onMouseDown:A,onMouseUp:I,onTouchStart:function(t){A(),M(t)},onTouchEnd:I,onContextMenu:function(t){return t.preventDefault()},onDoubleClick:function(t){var e=E();if(x){if((null==e?void 0:e.id)===t$.RX.GAME_INFO){null==m||m(n);return}t.preventDefault(),t.stopPropagation();return}null==m||m(n)},children:[(0,O.jsx)("div",{style:R,children:(0,O.jsx)(T,{className:"w-full h-full text-chalk-red",position:n,isReversed:"top"===n})}),(0,O.jsx)(j.q.div,{style:t1(t1({},{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"white",pointerEvents:"none"}),{},{opacity:s.to(u)})}),(0,O.jsx)(j.q.div,{className:"absolute inset-0 flex items-center justify-center",style:{opacity:c},children:(0,O.jsx)("span",{className:"text-gray-300 text-[9rem] opacity-50 select-none",style:{transform:"top"===n?"rotate(180deg)":"none"},children:f})}),(0,O.jsx)(tq,{position:n,onBlendEffect:d})]})});function t6(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var t8=function(t){var e,n=t.initialPosition,r=t.maxOffset;t.position;var o=function(t){if(Array.isArray(t))return t}(e=(0,j.q_)(function(){return{y:n,mainOpacity:1,oppositeOpacity:1,config:{mass:1,tension:120,friction:26,clamp:!0,duration:250}}}))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{for(i=(n=n.call(t)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,2)||function(t,e){if(t){if("string"==typeof t)return t6(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t6(t,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],a=o[1];return{y:i.y,mainOpacity:i.mainOpacity,oppositeOpacity:i.oppositeOpacity,animateSwipe:function(t){"boolean"==typeof t?a.start({y:t?r:n,mainOpacity:1,oppositeOpacity:1}):a.start({mainOpacity:0,oppositeOpacity:0,config:{duration:125},onRest:function(){a.start({mainOpacity:1,oppositeOpacity:1,config:{duration:125}})}})},getBrightness:function(t){return"number"!=typeof t||isNaN(t)||"number"!=typeof r||0===r?0:Math.max(0,Math.min(t/r*.45,.45))}}},t7=n(3280),t9=n(9883),et=function(t,e){if(!(t<.3)){var n=document.querySelector(".matsch-button");if(n)for(var r=n.getBoundingClientRect(),o=(r.left+r.width/2)/window.innerWidth,i=(r.top+r.height/2)/window.innerHeight,a=10+(t-.3)*30,s=function(t,n,r,a){(0,t9.Z)({particleCount:r,angle:e?(t+180)%360:t,spread:n,origin:{x:o,y:i},colors:["#FF0000","#FFA500","#FFFF00","#00FF00","#0000FF","#800080"],scalar:a,gravity:e?-1:1,ticks:300})},c=0;c<360;c+=45)s(c,55,Math.floor(.3*a),1.2),s(c,25,Math.floor(.4*a),.8),s(c,10,Math.floor(.3*a),.4)}},ee=n(7266),en=n(430),er=["Eicheln","Rosen","Schellen","Schilten"],eo={Misère:"\uD83E\uDD2E",Eicheln:"\uD83C\uDF33",Rosen:"\uD83C\uDF39",Schellen:"\uD83D\uDD14",Schilten:"\uD83D\uDEE1️",Obe:"\uD83D\uDC47",Une:"\uD83D\uDC47","3x3":"3️⃣",Quer:"↕️",Slalom:"⛷️"},ei={Misère:"\uD83E\uDD2E",Eicheln:"♠️",Rosen:"♣️",Schellen:"♥️",Schilten:"♦️",Obe:"\uD83D\uDC46",Une:"\uD83D\uDC47","3x3":"3️⃣",Quer:"↕️",Slalom:"⛷️"},ea={},es=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DE",r="".concat(t,"-").concat(e,"-").concat(n);if(ea[r])return ea[r];if("emoji"===e){var o="DE"===n?eo:ei;return ea[r]=o[t],ea[r]}var i=tj[t][n].toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,""),a="/assets/pictograms/standardDE/".concat(i,".").concat(er.includes(t)?"png":"svg");return ea[r]=a,a},ec=n(8605);function eu(t){return(eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function el(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ef(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?el(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==eu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==eu(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===eu(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ed(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return em(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return em(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function em(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var eh=function(t){var e,n,r=t.isOpen,o=t.onClose,i=t.initialValue,a=void 0===i?0:i,s=t.clickedPosition,c=tz(),u=c.finalizeRound,l=c.currentHistoryIndex,f=c.roundHistory,d=c.showHistoryWarning,m=c.jumpToLatest,h=c.validateHistoryAction,p=(0,tg.HB)(),g=p.calculator,y=p.setCalculatorFlipped,b=p.farbeSettings,v=p.settings,S=v.pictogramConfig,x=v.cardStyle,E=(0,tY.X)(),N=E.isActive,T=(0,E.getCurrentStep)(),P=ed((0,w.useState)((null==a?void 0:a.toString())||"0"),2),C=P[0],k=P[1],A=ed((0,w.useState)("0"),2),I=A[0],L=A[1],R=ed((0,w.useState)("0"),2),M=R[0],G=R[1],_=ed((0,w.useState)(1),2),D=_[0],z=_[1],H=ed((0,w.useState)(null),2),B=H[0],F=H[1],U=ed((0,w.useState)(new Set),2),W=(U[0],U[1]),X=ed((0,w.useState)(!1),2),J=X[0],K=X[1],V=ed((0,w.useState)(!1),2),Z=V[0],q=V[1],Y=ed((0,w.useState)(0),2),$=Y[0],Q=Y[1],tt=ed((0,w.useState)(null),2),te=tt[0],tn=tt[1],tr=ed((0,w.useState)(0),2),to=tr[0],ti=tr[1],ta=ed((0,w.useState)(!1),2),ts=ta[0],tc=ta[1],tu=(0,j.q_)({opacity:r?1:0,transform:"scale(".concat(r?1:.95,") rotate(").concat(g.isFlipped?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20}});(0,w.useEffect)(function(){r&&y(!1)},[r,y]),(0,w.useEffect)(function(){r&&s&&y("top"===s)},[r,s,y]),(0,w.useEffect)(function(){tc(!0)},[]);var tl=function(t,e){if("0"===t)L("0"),G("0");else if(t===en.M.toString())L("0"),G((en.M*e).toString());else{var n=parseInt(t,10);L((Math.max(en.FA-n,0)*e).toString()),G((n*e).toString())}};(0,w.useEffect)(function(){tl(C,D)},[C,D]);var tf=function(){return!isNaN(parseInt(C,10))&&null!==B},td=function(t){if(!J){var e=Date.now();e-to<100||(ti(e),k(function(e){if("0"===e)return t.toString();var n=e+t.toString();return parseInt(n,10)<=en.FA?n:e}),W(function(e){return new Set(e).add(t)}),setTimeout(function(){W(function(e){var n=new Set(e);return n.delete(t),n})},100))}},tm=function(t,e){F(t),z(e),tl(C,e)},th=(0,w.useCallback)(function(){if(tf()&&B){var t=parseInt(M,10),e=parseInt(I,10),n={top:"top"===s?t:e,bottom:"bottom"===s?t:e};if(!h()){d(tS,function(){u(B,n.top,n.bottom,J?{team:s,type:"matsch"}:void 0),o()},function(){return m()});return}u(B,n.top,n.bottom,J?{team:s,type:"matsch"}:void 0),o()}},[tf,B,M,I,s,J,l,f.length,d,m,u,o,h]),tp=function(){y(!g.isFlipped)},ty=function(t){null==t||t.stopPropagation(),k("257"),L("0"),G((257*D).toString()),K(!0),et($,g.isFlipped)},tb=(g.isFlipped,[1,2,3,4,5,6,7,8,9]),tv=ee.vK.map(function(t,e){return{color:t.name,multiplier:b.values[e]}}).filter(function(t){return t.multiplier>0}).sort(function(t,e){return t.multiplier-e.multiplier}),tx=function(t,e,n){var r,o,i,a=ee.vK.find(function(e){return e.name===t});return e?"bg-orange-500":"FR"===x?(null==a||null===(o=a.frStyle)||void 0===o?void 0:o.backgroundColor)||"bg-gray-600":"emoji"===n?(null==a||null===(i=a.emojiStyle)||void 0===i?void 0:i.backgroundColor)||"bg-gray-600":(null==a||null===(r=a.standardStyle)||void 0===r?void 0:r.backgroundColor)||"bg-gray-600"},tw=function(t){return S.isEnabled||"une"!==t.toLowerCase()?"FR"!==x||S.isEnabled?t:({Eicheln:"Schaufel",Rosen:"Kreuz",Schellen:"Herz",Schilten:"Ecke"})[t]||t:"Unde"},tj=function(t,e){var n=(0,ec.m)(function(){return tm(t,e)}),r=n.handlers,o=n.buttonClasses,i="mis\xe8re"===t.toLowerCase()&&B===t;return(0,O.jsx)("button",ef(ef({},r),{},{className:"p-1 rounded text-white select-none text-xs h-12 flex items-center justify-center ".concat(B===t?"active":""," ").concat(tx(t,B===t,S.mode)," ").concat(o),"aria-label":"".concat(t),children:ts&&S.isEnabled?"emoji"===S.mode?(0,O.jsx)("span",{className:"text-2xl",children:es(t,"emoji",x)}):(0,O.jsx)("img",{src:es(t,"svg",x),alt:t,className:"w-10 h-10 object-contain ".concat(i?"invert brightness-0":""),onError:function(e){e.currentTarget.style.display="none";var n=e.currentTarget.parentElement;n&&(n.textContent=tw(t))}}):tw(t)}),t)},tE=function(t){var e=(0,ec.m)(function(){return td(t)}),n=(e.isPressedDown,e.handlers),r=e.buttonClasses;return(0,O.jsx)("button",ef(ef({},n),{},{className:"bg-gray-600 text-white p-4 rounded select-none text-2xl ".concat(r),children:t}),t)},tN=(0,ec.m)(ty);tN.isPressedDown,tN.handlers,tN.buttonClasses;var tO=(0,ec.m)(function(){k("0"),L("0"),z(1),F(null),K(!1)}),tT=tO.handlers,tP=tO.buttonClasses,tC=(0,ec.m)(th),tk=tC.handlers,tA=tC.buttonClasses;return(0,w.useEffect)(function(){console.log("\uD83E\uDDEE Calculator Effect:",{isOpen:r,isTutorialActive:N,currentStepId:null==T?void 0:T.id,shouldClose:r&&N&&(null==T?void 0:T.id)!==t$.RX.CALCULATOR_OPEN}),r&&N&&((null==T?void 0:T.id)===t$.RX.CALCULATOR_OPEN?window.dispatchEvent(new CustomEvent("calculatorOpen")):(console.log("\uD83D\uDEAB Closing calculator"),o()))},[r,N,T,o]),(0,w.useEffect)(function(){r&&document.dispatchEvent(new Event("calculatorOpen"))},[r]),(0,O.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300 prevent-interactions ".concat(r?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:o,onContextMenu:function(t){return t.preventDefault()},children:(0,O.jsxs)(j.q.div,{style:tu,className:"relative w-11/12 max-w-md",children:[(0,O.jsx)("button",{onClick:function(t){t.stopPropagation(),tp()},className:"absolute bottom-full mb-[-10px] left-1/2 transform -translate-x-1/2 \n            text-white hover:text-gray-300 transition-all duration-1000\n            w-24 h-24 flex items-center justify-center\n            rounded-full\n            ".concat(g.isFlipped?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,O.jsx)(t7.bxQ,{className:"w-8 h-8"})}),(0,O.jsx)("button",{onClick:function(t){t.stopPropagation(),o()},className:"absolute right-2 top-2 p-2 text-gray-400 hover:text-white transition-colors z-10",children:(0,O.jsx)(t7.q5L,{size:24})}),(0,O.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg transition-all duration-700 flex flex-col items-center",onClick:function(t){return t.stopPropagation()},children:[(0,O.jsx)("h2",{className:"text-white text-xl mb-4 text-center select-none",children:"Runde schreiben"}),(0,O.jsxs)("div",{className:"flex flex-col w-full space-y-4",children:[(0,O.jsx)("input",{type:"text",value:C,readOnly:!0,className:"w-full bg-gray-700 text-white text-6xl p-4 rounded select-none text-center"}),(0,O.jsxs)("div",{className:"flex justify-between items-stretch w-full space-x-2 h-10",children:[(0,O.jsxs)("div",{className:"w-1/3 bg-gray-700 text-white p-1 rounded select-none flex items-center justify-end relative",children:[(0,O.jsx)("div",{className:"text-xs absolute top-0 left-1",children:"Gegner:"}),(0,O.jsx)("div",{className:"text-xl pr-1",children:I})]}),(0,O.jsx)("button",{onClick:ty,onMouseDown:function(){q(!0),Q(0),tn(setInterval(function(){Q(function(t){return Math.min(t+1,20)})},100))},onMouseUp:function(){q(!1),te&&clearInterval(te),ty()},onMouseLeave:function(){q(!1),te&&clearInterval(te)},onTouchStart:function(){q(!0),Q(0),tn(setInterval(function(){Q(function(t){return Math.min(t+1,20)})},100))},onTouchEnd:function(){q(!1),te&&clearInterval(te),ty()},className:"w-1/3 p-1 rounded select-none transition-all duration-100 text-lg flex items-center justify-center matsch-button ".concat(J?"bg-orange-500 text-white":Z?"bg-gray-600 text-white scale-95 opacity-80":"bg-gray-700 text-white hover:bg-orange-500 scale-100 opacity-100"),disabled:J,children:"Matsch"}),(0,O.jsxs)("div",{className:"w-1/3 bg-gray-700 text-white p-1 rounded select-none flex items-center justify-end relative",children:[(0,O.jsx)("div",{className:"text-xs absolute top-0 left-1",children:"Total:"}),(0,O.jsx)("div",{className:"text-xl pr-1",children:M})]})]})]}),(0,O.jsx)("div",{className:"mt-4"}),(0,O.jsx)("div",{className:(e=tv.length,n="grid grid-cols-5 gap-2 mb-4 w-full group ".concat(B?"has-active":""),e<=4?n.replace("grid-cols-5","grid-cols-4"):e<=6?n.replace("grid-cols-5","grid-cols-3"):e<=8?n.replace("grid-cols-5","grid-cols-4"):n),children:tv.map(function(t){return tj(t.color,t.multiplier)})}),(0,O.jsxs)("div",{className:"grid grid-cols-3 gap-3 w-full",children:[tb.map(function(t){return tE(t)}),(0,O.jsx)("button",ef(ef({},tT),{},{className:"bg-red-600 text-white p-4 rounded select-none text-2xl ".concat(tP),children:"C"})),tE(0),(0,O.jsx)("button",ef(ef({},tk),{},{disabled:!tf()||!B,className:"bg-green-600 text-white p-4 rounded select-none text-2xl ".concat(tA,"\n                ").concat(tf()&&B?"":"opacity-50 cursor-not-allowed"),children:"OK"}))]})]})]})})};function ep(t){return(ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eg(){eg=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(e,n,r,i){var a,s,c=Object.create((n&&n.prototype instanceof g?n:g).prototype);return o(c,"_invoke",{value:(a=new T(i||[]),s=d,function(n,o){if(s===m)throw Error("Generator is already running");if(s===h){if("throw"===n)throw o;return{value:t,done:!0}}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=function e(n,r){var o=r.method,i=n.iterator[o];if(i===t)return r.delegate=null,"throw"===o&&n.iterator.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+o+"' method")),p;var a=f(i,n.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var s=a.arg;return s?s.done?(r[n.resultName]=s.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,p)}(i,a);if(c){if(c===p)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var u=f(e,r,a);if("normal"===u.type){if(s=a.done?h:"suspendedYield",u.arg===p)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=h,a.method="throw",a.arg=u.arg)}})}),c}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",m="executing",h="completed",p={};function g(){}function y(){}function b(){}var v={};u(v,a,function(){return this});var S=Object.getPrototypeOf,x=S&&S(S(P([])));x&&x!==n&&r.call(x,a)&&(v=x);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var n;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==ep(l)&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return n("throw",t,a,s)})}s(c.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}})}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw TypeError(ep(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(E.prototype),u(E.prototype,s,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),u(w,c,"Generator"),u(w,a,function(){return this}),u(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function ey(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function eb(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ey(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==ep(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ep(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ep(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ev(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){n(t);return}s.done?e(c):Promise.resolve(c).then(r,o)}function eS(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ex(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ex(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ex(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var ew=function(){tz().startGame;var t,e,n=(0,tg.HB)().setStartScreenState,r=th();tt();var o=(0,tY.X)(),i=eS((0,w.useState)({1:"",2:"",3:"",4:""}),2),a=i[0],s=i[1],c=eS((0,w.useState)(F),2),u=c[0];c[1];var l=eS((0,w.useState)(1),2),f=l[0],d=l[1],m=function(t){return Object.values(t).every(function(t){return""!==t.trim()})},h=function(t){m(a)&&d(t)},p=(t=eg().mark(function t(){var e,i,s,c,l,d,m;return eg().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o.isActive&&(console.log("\uD83C\uDF93 Force ending tutorial on game start..."),o.endTutorial(!0)),tg.HB.getState().resetStartScreen(),console.log("\uD83C\uDFAE StartScreen.handleStart:",{startingPlayer:f,teamConfig:u,validatedNames:l={1:(null===(e=a[1])||void 0===e?void 0:e.trim())||"Spieler 1",2:(null===(i=a[2])||void 0===i?void 0:i.trim())||"Spieler 2",3:(null===(s=a[3])||void 0===s?void 0:s.trim())||"Spieler 3",4:(null===(c=a[4])||void 0===c?void 0:c.trim())||"Spieler 4"}}),W(u),console.log("\uD83D\uDCDD Ordered Names:",d={1:l[u.bottom.includes(1)?1:2],2:l[u.top.includes(2)?2:1],3:l[u.bottom.includes(3)?3:4],4:l[u.top.includes(4)?4:3]}),r.startJass({playerNames:d,initialStartingPlayer:f}),tz.setState({playerNames:d,currentPlayer:f,startingPlayer:f}),console.log("\uD83C\uDFB2 GameStore Updated:",tz.getState()),tz.setState(function(t){return eb(eb({},t),{},{isGameStarted:!0,currentRound:1,isGameCompleted:!1,isRoundCompleted:!1})}),(m=tt.getState()).resetGameTimers(),m.startGameTimer(),m.startRoundTimer(),n("starting"),t.next=18,new Promise(function(t){return setTimeout(t,300)});case 18:n("complete");case 19:case"end":return t.stop()}},t)}),e=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){ev(i,r,o,a,s,"next",t)}function s(t){ev(i,r,o,a,s,"throw",t)}a(void 0)})},function(){return e.apply(this,arguments)});return(0,O.jsx)(tb.M,{children:(0,O.jsxs)(tv.E.div,{className:"fixed inset-0 flex flex-col items-center justify-center bg-gray-900 bg-opacity-90 z-50 p-4",children:[(0,O.jsxs)("div",{className:"bg-gray-800 bg-opacity-95 rounded-xl p-6 w-full max-w-xs space-y-6 shadow-lg text-center",children:[(0,O.jsx)("h2",{className:"text-2xl font-bold text-white text-center mb-4",children:m(a)?"Startspieler w\xe4hlen":"Spielernamen eingeben"}),(0,O.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Sitzreihenfolge:"}),(0,O.jsxs)("div",{className:"space-y-4",children:[(0,O.jsx)("input",{type:"text","data-player":"1",placeholder:"Spieler 1 (Team 1) - Dein Ger\xe4t",value:a[1],onChange:function(t){return s(function(e){return eb(eb({},e),{},{1:t.target.value})})},onClick:function(){return h(1)},className:"w-full p-2 outline-none ".concat(u.bottom.includes(1)?"bg-gray-500":"bg-gray-800"," \n                border transition-all duration-150 rounded-xl text-white placeholder-gray-300 \n                ").concat(m(a)?1===f?"border-yellow-500 ring-2 ring-yellow-500 focus:ring-yellow-500 focus:border-yellow-500":"border-gray-600 hover:bg-gray-700 cursor-pointer focus:ring-yellow-500 focus:border-yellow-500":"border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500")}),(0,O.jsx)("input",{type:"text","data-player":"2",placeholder:"Spieler 2 (Team 2)",value:a[2],onChange:function(t){return s(function(e){return eb(eb({},e),{},{2:t.target.value})})},onClick:function(){return h(2)},className:"w-full p-2 outline-none ".concat(u.top.includes(2)?"bg-gray-700":"bg-gray-800"," \n                border transition-all duration-150 rounded-xl text-white placeholder-gray-300 \n                ").concat(m(a)?2===f?"border-yellow-500 ring-2 ring-yellow-500 focus:ring-yellow-500 focus:border-yellow-500":"border-gray-600 hover:bg-gray-700 cursor-pointer focus:ring-yellow-500 focus:border-yellow-500":"border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500")}),(0,O.jsx)("input",{type:"text","data-player":"3",placeholder:"Spieler 3 (Team 1)",value:a[3],onChange:function(t){return s(function(e){return eb(eb({},e),{},{3:t.target.value})})},onClick:function(){return h(3)},className:"w-full p-2 outline-none ".concat(u.bottom.includes(3)?"bg-gray-500":"bg-gray-800"," \n                border transition-all duration-150 rounded-xl text-white placeholder-gray-300 \n                ").concat(m(a)?3===f?"border-yellow-500 ring-2 ring-yellow-500 focus:ring-yellow-500 focus:border-yellow-500":"border-gray-600 hover:bg-gray-700 cursor-pointer focus:ring-yellow-500 focus:border-yellow-500":"border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500")}),(0,O.jsx)("input",{type:"text","data-player":"4",placeholder:"Spieler 4 (Team 2)",value:a[4],onChange:function(t){return s(function(e){return eb(eb({},e),{},{4:t.target.value})})},onClick:function(){return h(4)},className:"w-full p-2 outline-none ".concat(u.top.includes(4)?"bg-gray-700":"bg-gray-800"," \n                border transition-all duration-150 rounded-xl text-white placeholder-gray-300 \n                ").concat(m(a)?4===f?"border-yellow-500 ring-2 ring-yellow-500":"border-gray-600 hover:bg-gray-700 cursor-pointer":"border-gray-600 focus:ring-2 focus:ring-green-500 focus:border-green-500")})]}),(0,O.jsx)(tv.E.button,{onClick:function(t){d(function(t){return t%4+1})},className:"w-full p-2 bg-yellow-600 text-white rounded-xl  transition-colors border-b-4 border-yellow-900",whileTap:{scale:.95},animate:{opacity:1},transition:{duration:0},children:"Rosen 10 (Startspieler)"})]}),(0,O.jsx)(tv.E.button,{initial:{scale:.9},animate:{scale:1},whileTap:{scale:.95},onClick:p,className:"bg-green-600 text-white text-2xl font-bold py-6 px-12 rounded-xl shadow-lg hover:bg-green-700 transition-colors mt-6 border-b-4 border-green-900",children:"START"})]})})};function ej(t){return(ej="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function eN(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eE(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==ej(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ej(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ej(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var eO=function(t){var e=t.currentPlayer,n=t.opacity,r=t.isOpen,o=t.isGameStarted,i=tz().playerNames,a=(0,j.q_)({from:{opacity:0},to:{opacity:r?0:n},config:{duration:150},delay:r?0:750,immediate:r});if(r)return null;var s=function(t){var n=t?[1,3]:[2,4],r=n[0],o=n[1],a=i[r]||"Spieler ".concat(r),s=i[o]||"Spieler ".concat(o);return(0,O.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,O.jsx)("span",{className:e===r?"text-white font-semibold text-xl":"text-gray-500",children:a}),(0,O.jsx)("span",{className:"text-gray-500",children:"+"}),(0,O.jsx)("span",{className:e===o?"text-white font-semibold text-xl":"text-gray-500",children:s})]})};return(0,O.jsxs)(j.q.div,{className:"absolute inset-x-0 flex flex-col items-center justify-center pointer-events-none",style:eN(eN({},a),{},{top:"calc(50% - 4rem)",height:"3.5rem"}),children:[(0,O.jsx)("div",{className:"absolute w-full flex justify-center top-[4.5rem]",children:o?s(!0):"START"}),(0,O.jsx)("div",{className:"absolute w-full flex justify-center bottom-0",children:(0,O.jsx)("div",{className:"rotate-180",children:o?s(!1):"START"})})]})},eT=n(4830),eP=function(t){var e=t.onConfirm,n=t.onDismiss,r=t.show,o=t.swipePosition,i=void 0===o?"bottom":o;return(0,O.jsx)(tb.M,{children:r&&(0,O.jsxs)(tv.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-[9999] p-4 pointer-events-auto\n            ".concat("top"===i?"rotate-180":""),children:[(0,O.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:n}),(0,O.jsxs)(tv.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white z-10\n              ".concat("top"===i?"rotate-180":""),children:[(0,O.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[(0,O.jsx)(ty.gJy,{className:"w-12 h-12 text-yellow-600 mb-2"}),(0,O.jsx)("p",{className:"text-center mb-6",children:"M\xf6chten Sie wirklich das Spiel zur\xfccksetzen? Alle Daten werden gel\xf6scht."})]}),(0,O.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,O.jsx)("button",{onClick:e,className:"flex-1 bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors text-lg font-semibold",children:"Ja"}),(0,O.jsx)("button",{onClick:n,className:"flex-1 bg-gray-600 text-white px-6 py-2 rounded-full hover:bg-gray-700 transition-colors text-lg font-semibold",children:"Abbrechen"})]})]})]})})},eC=n(5152),ek=n.n(eC),eA=n(1418);function eI(t){return(eI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eL(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return eR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eR(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eR(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function eG(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(e){e_(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function e_(t,e,n){var r;return(r=function(t,e){if("object"!==eI(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==eI(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===eI(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var eD=[0,1,2,3,4,5,6,7,8],ez={sieg:{min:0,max:(null===(m=en.J3.find(function(t){return"sieg"===t.id}))||void 0===m?void 0:m.maxValue)||1e4,default:(null===(h=en.J3.find(function(t){return"sieg"===t.id}))||void 0===h?void 0:h.defaultValue)||2e3},berg:{min:0,max:(null===(p=en.J3.find(function(t){return"berg"===t.id}))||void 0===p?void 0:p.maxValue)||5e3,default:(null===(g=en.J3.find(function(t){return"berg"===t.id}))||void 0===g?void 0:g.defaultValue)||2e3},schneider:{min:0,max:(null===(y=en.J3.find(function(t){return"schneider"===t.id}))||void 0===y?void 0:y.maxValue)||5e3,default:(null===(b=en.J3.find(function(t){return"schneider"===t.id}))||void 0===b?void 0:b.defaultValue)||1e3}},eH=function(t){var e=t.multiplier,n=t.onMultiplierClick;return(0,O.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 rounded-lg text-lg font-bold transition-all duration-150\n      ".concat(0===e?"bg-gray-600/50 text-gray-400 hover:bg-gray-700/50":"bg-orange-500 text-white hover:bg-orange-600 active:scale-95 active:opacity-80"),children:0===e?"-":"".concat(e,"x")})},eB=function(t){var e=t.isEnabled,n=t.mode,r=t.onClick,o=(0,ec.m)(r),i=o.handlers,a=o.buttonClasses;return(0,O.jsx)("button",eG(eG({},i),{},{className:"px-4 py-2 rounded-lg text-lg font-bold transition-all duration-150\n        ".concat(e?"bg-green-500 text-white hover:bg-green-600":"bg-gray-600/50 text-gray-400 hover:bg-gray-700/50"," ").concat(a),children:e?"svg"===n?"Standard":"Emojis":"Nein"}))},eF=function(t){var e=t.farbe,n=t.mode,r=(0,tg.HB)().settings,o=es(e,n,r.cardStyle),i=tj[e][r.cardStyle];return(0,O.jsx)("div",{className:"flex items-center justify-center w-8 h-8",children:"emoji"===n?(0,O.jsx)("span",{className:"text-2xl",children:o}):(0,O.jsx)("img",{src:o,alt:i,className:"w-6 h-6 object-contain"})})},eU=function(t){var e=t.style,n=t.isActive,r=t.onClick,o=(0,ec.m)(r),i=o.handlers,a=o.buttonClasses;return(0,O.jsx)("button",eG(eG({},i),{},{className:"px-3 py-1 rounded ".concat(n?"bg-green-500 text-white":"bg-gray-700 text-gray-300"," ").concat(a),children:e}))},eW=function(t){var e=t.value,n=t.isActive,r=t.onClick,o=(0,ec.m)(r),i=o.handlers,a=o.buttonClasses;return(0,O.jsx)("button",eG(eG({},i),{},{className:"px-4 py-2 rounded-lg text-xl font-bold transition-all duration-150 ".concat(n?"bg-green-500 text-white hover:bg-green-600":"bg-gray-700 text-gray-300 hover:bg-gray-600"," ").concat(a),children:e}))},eX=ek()(function(){return Promise.resolve(function(){var t=(0,eA.i)("settings").preventClose,e=(0,tg.HB)(),n=e.settings,r=e.farbeSettings,o=e.scoreSettings,i=e.updateFarbeSettings,a=e.updateScoreSettings,s=e.closeSettings,c=e.setSettingsTab,u=e.cyclePictogramMode,l=e.setCardStyle,f=e.strokeSettings,d=e.updateStrokeSettings;e.tutorialBlockedUI,e.openSettings;var m=eL((0,w.useState)(r.values),2),h=m[0],p=m[1],g=eL((0,w.useState)(o.values),2),y=g[0],b=g[1],v=eL((0,w.useState)(o.enabled),2),S=v[0],x=v[1],E=eL((0,w.useState)(!1),2),N=E[0],T=E[1],P=eL((0,w.useState)(f),2),C=P[0],k=P[1],A=(0,j.q_)({opacity:n.isOpen?1:0,transform:"scale(".concat(n.isOpen?1:.95,") rotate(").concat(N?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20}}),I=(0,w.useRef)(null),L=(0,tY.X)(function(t){return t.getCurrentStep()}),R=null==L?void 0:L.id.startsWith("SETTINGS_"),M=t||R,G=function(t){M||!I.current||I.current.contains(t.target)||_()};(0,w.useEffect)(function(){if(n.isOpen)return document.addEventListener("mousedown",G),function(){document.removeEventListener("mousedown",G)}},[n.isOpen,t]),(0,w.useEffect)(function(){b(o.values),x(o.enabled)},[o]);var _=function(){M&&(null==L?void 0:L.id)!==t$.RX.SETTINGS_STROKES||(i({values:h,isFlipped:N}),a({values:y,enabled:S}),d(C),s())},D=function(t){p(function(e){var n=e[t],r=(eD.indexOf(n)+1)%eD.length;return e.map(function(e,n){return n===t?eD[r]:e})})},z=function(t,e){b(function(n){var r=eG({},n),o=parseInt(e.toString().replace(/^0+/,""))||0;if("sieg"===t){var i=Math.max(1e3,Math.min(o,ez[t].max));r.sieg=i;var a=Math.floor(i/2);r.berg=a,r.schneider=a}else if("berg"===t){var s=Math.min(o,ez.berg.max);r.berg=s,r.schneider=s,r.sieg=Math.max(1e3,2*s)}else{var c=Math.floor(n.sieg/2);r[t]=Math.min(o,c)}return r})},H=function(t){x(function(e){return eG(eG({},e),{},e_({},t,!e[t]))})},B=function(){var t=["farben","scores","strokes"],e=(t.indexOf(n.activeTab)+1)%t.length;c(t[e]);var r=tY.X.getState().getCurrentStep();((null==r?void 0:r.id)===t$.RX.SETTINGS_NAVIGATE&&"scores"===t[e]||(null==r?void 0:r.id)===t$.RX.SETTINGS_NAVIGATE_STROKES&&"strokes"===t[e])&&tY.X.getState().nextStep()};return(0,O.jsx)(tb.M,{children:n.isOpen&&(0,O.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-40 bg-black/50 px-4",children:(0,O.jsx)(j.q.div,{ref:I,style:A,className:"w-full max-w-lg p-4 max-h-[85vh]",children:(0,O.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 relative",children:[(0,O.jsx)("button",{onClick:function(){return T(!N)},disabled:M,className:"absolute bottom-full mb-[-10px] left-1/2 transform -translate-x-1/2 \n                  text-white transition-all duration-1000\n                  w-24 h-24 flex items-center justify-center\n                  rounded-full\n                  ".concat(M?"opacity-50 cursor-not-allowed text-gray-500":"hover:text-gray-300","\n                  ").concat(N?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,O.jsx)(t7.bxQ,{className:"w-8 h-8"})}),(0,O.jsx)("button",{onClick:_,disabled:M,className:"absolute right-2 top-2 p-2 text-gray-400 \n                  ".concat(M?"opacity-50 cursor-not-allowed":"hover:text-white"," \n                  transition-colors"),children:(0,O.jsx)(t7.q5L,{size:24})}),(0,O.jsx)("h2",{className:"text-2xl font-bold text-white text-center mb-6",children:function(){switch(n.activeTab){case"farben":return"Farben Einstellungen";case"scores":return"Punkte Einstellungen";case"strokes":return"Striche Einstellungen";default:return""}}()}),"farben"===n.activeTab&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{className:"mb-4",children:(0,O.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-3 rounded-lg",children:[(0,O.jsx)("span",{className:"text-white text-lg",children:"Jasskarten"}),(0,O.jsxs)("div",{className:"flex gap-2",children:[(0,O.jsx)(eU,{style:"DE",isActive:"DE"===n.cardStyle,onClick:function(){return l("DE")}}),(0,O.jsx)(eU,{style:"FR",isActive:"FR"===n.cardStyle,onClick:function(){return l("FR")}})]})]})}),(0,O.jsxs)("div",{className:"space-y-4 max-h-[40vh] overflow-y-auto pr-2",children:[(0,O.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-3 rounded-lg",children:[(0,O.jsx)("span",{className:"text-white text-lg",children:"Piktogramme"}),(0,O.jsx)(eB,{isEnabled:n.pictogramConfig.isEnabled,mode:n.pictogramConfig.mode,onClick:u})]}),ee.vK.map(function(t,e){return(0,O.jsxs)("div",{className:"flex items-center bg-gray-700/50 p-3 rounded-lg",children:[(0,O.jsx)("span",{className:"text-white text-lg w-12",children:tj[t.name][n.cardStyle]}),(0,O.jsx)("div",{className:"flex-1 flex justify-center items-center",children:n.pictogramConfig.isEnabled&&(0,O.jsx)(eF,{farbe:t.name,mode:n.pictogramConfig.mode})}),(0,O.jsx)(eH,{multiplier:h[e],onMultiplierClick:function(){return D(e)}})]},t.id)})]})]}),"scores"===n.activeTab&&(0,O.jsxs)("div",{className:"space-y-6",children:[(0,O.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-3 rounded-lg",children:[(0,O.jsx)("span",{className:"text-white text-lg",children:"Sieg-Punkte"}),(0,O.jsx)("input",{type:"number",value:y.sieg,onChange:function(t){return z("sieg",parseInt(t.target.value)||0)},onFocus:function(t){return t.target.select()},className:"w-24 px-3 py-2 bg-gray-600 text-white rounded-lg text-right focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",min:ez.sieg.min,max:ez.sieg.max,style:{WebkitAppearance:"none",MozAppearance:"textfield"}})]}),(0,O.jsxs)("div",{className:"bg-gray-700/50 rounded-lg overflow-hidden",children:[(0,O.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-gray-600",children:[(0,O.jsx)("span",{className:"text-white text-lg",children:"Berg aktiviert"}),(0,O.jsx)("button",{onClick:function(){return H("berg")},className:"px-4 py-2 rounded-lg text-lg font-bold transition-all duration-150\n              ".concat(S.berg?"bg-green-500 text-white hover:bg-green-600":"bg-gray-600/50 text-gray-400 hover:bg-gray-700/50"),children:S.berg?"Ja":"Nein"})]}),S.berg&&(0,O.jsxs)("div",{className:"flex items-center justify-between p-3",children:[(0,O.jsx)("span",{className:"text-white text-lg",children:"Berg-Punkte"}),(0,O.jsx)("input",{type:"number",value:y.berg,onChange:function(t){return z("berg",parseInt(t.target.value)||0)},onFocus:function(t){return t.target.select()},className:"w-24 px-3 py-2 bg-gray-600 text-white rounded-lg text-right focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",min:ez.berg.min,max:Math.floor(y.sieg/2),style:{WebkitAppearance:"none",MozAppearance:"textfield"}})]})]}),(0,O.jsxs)("div",{className:"bg-gray-700/50 rounded-lg overflow-hidden",children:[(0,O.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-gray-600",children:[(0,O.jsx)("span",{className:"text-white text-lg",children:"Schneider aktiviert"}),(0,O.jsx)("button",{onClick:function(){return H("schneider")},className:"px-4 py-2 rounded-lg text-lg font-bold transition-all duration-150\n              ".concat(S.schneider?"bg-green-500 text-white hover:bg-green-600":"bg-gray-600/50 text-gray-400 hover:bg-gray-700/50"),children:S.schneider?"Ja":"Nein"})]}),S.schneider&&(0,O.jsxs)("div",{className:"flex items-center justify-between p-3",children:[(0,O.jsx)("span",{className:"text-white text-lg",children:"Schneider-Punkte"}),(0,O.jsx)("input",{type:"number",value:y.schneider,onChange:function(t){return z("schneider",parseInt(t.target.value)||0)},onFocus:function(t){return t.target.select()},className:"w-24 px-3 py-2 bg-gray-600 text-white rounded-lg text-right focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",min:ez.schneider.min,max:Math.floor(y.sieg/2),style:{WebkitAppearance:"none",MozAppearance:"textfield"}})]})]})]}),"strokes"===n.activeTab&&(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)("div",{className:"space-y-4",children:[(0,O.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-4 rounded-lg min-h-[4rem]",children:[(0,O.jsx)("span",{className:"text-lg text-white",children:"Schneider-Striche"}),(0,O.jsxs)("div",{className:"flex gap-3",children:[(0,O.jsx)(eW,{value:1,isActive:1===C.schneider,onClick:function(){return k(function(t){return eG(eG({},t),{},{schneider:1})})}}),(0,O.jsx)(eW,{value:2,isActive:2===C.schneider,onClick:function(){return k(function(t){return eG(eG({},t),{},{schneider:2})})}})]})]}),(0,O.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-4 rounded-lg min-h-[4rem]",children:[(0,O.jsx)("span",{className:"text-lg text-white",children:"Kontermatsch-Striche"}),(0,O.jsxs)("div",{className:"flex gap-3",children:[(0,O.jsx)(eW,{value:1,isActive:1===C.kontermatsch,onClick:function(){return k(function(t){return eG(eG({},t),{},{kontermatsch:1})})}}),(0,O.jsx)(eW,{value:2,isActive:2===C.kontermatsch,onClick:function(){return k(function(t){return eG(eG({},t),{},{kontermatsch:2})})}})]})]})]})}),(0,O.jsxs)("div",{className:"mt-8 flex justify-center items-center space-x-6",children:[(0,O.jsx)(eJ,{direction:"left",onClick:B}),(0,O.jsx)(eK,{onClick:_}),(0,O.jsx)(eJ,{direction:"right",onClick:B})]})]})})})})})},{ssr:!1}),eJ=(0,w.memo)(function(t){var e=t.direction,n=t.onClick,r=(0,w.useRef)(null),o=(0,ec.m)(n),i=o.handlers,a=o.buttonClasses,s="left"===e?t7.YFh:t7.Tfp,c=(0,tY.X)(function(t){return t.getCurrentStep()}),u="right"===e?"settings-navigation-next-button":"settings-navigation-prev-button",l=(null==c?void 0:c.id)===t$.RX.SETTINGS_NAVIGATE_STROKES&&"left"===e||(null==c?void 0:c.id)===t$.RX.SETTINGS_NAVIGATE&&"left"===e;return(0,O.jsx)("button",eG(eG({},i),{},{ref:r,id:u,"data-testid":u,disabled:l,className:"p-3 text-white transition-colors\n        bg-gray-700 rounded-lg hover:bg-gray-600 ".concat(a,"\n        ").concat(l?"opacity-50 cursor-not-allowed":""),children:(0,O.jsx)(s,{size:32})}))}),eK=function(t){var e=t.onClick,n=(0,ec.m)(e).buttonClasses,r=(0,tY.X)(function(t){return t.getCurrentStep()}),o=(0,tY.X)(function(t){return t.nextStep}),i=(null==r?void 0:r.id)===t$.RX.SETTINGS_NAVIGATE_STROKES;return(0,O.jsx)("button",{onClick:function(){e(),(null==r?void 0:r.id)===t$.RX.SETTINGS_STROKES&&o(),window.dispatchEvent(new CustomEvent("settingsSaved"))},disabled:i,className:"py-3 px-8 bg-yellow-600 text-white rounded-lg font-medium text-lg\n        hover:bg-yellow-700 transition-all duration-150 ".concat(n,"\n        ").concat(i?"opacity-50 cursor-not-allowed":""),children:"Speichern"})};function eV(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return eZ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eZ(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eZ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}ek()(function(){return Promise.resolve().then(n.bind(n,1554))},{loading:function(){return null},ssr:!1});var eq=function(t){var e=t.isOpen,n=t.onClose,r=t.swipePosition,o=(0,tg.HB)(),i=o.openResultatKreidetafel,a=o.openFarbeSettings,s=eV((0,w.useState)(null),2),c=s[0],u=s[1],l=eV((0,w.useState)(!1),2),f=l[0],d=l[1],m=(0,tY.X)(function(t){return t.getCurrentStep()}),h=(0,tY.X)().isCategoryCompleted,p={hidden:{opacity:0,y:0},visible:{opacity:1,y:0}},g=function(t){u(t),setTimeout(function(){return u(null)},150)},y=function(){g("trash"),tg.HB.getState().showNotification({message:"M\xf6chten Sie wirklich das Spiel zur\xfccksetzen? Alle Daten werden gel\xf6scht.",type:"warning",isFlipped:"top"===r,actions:[{label:"Ja",onClick:b},{label:"Abbrechen",onClick:function(){}}]})},b=(0,w.useCallback)(function(){var t=th.getState(),e=tz.getState(),r=tg.HB.getState(),o=tt.getState();t.resetJass(),e.resetGame(),r.resetAll(),o.resetAllTimers(),d(!1),n()},[n]),v=(0,w.useCallback)(function(){i(r),setTimeout(function(){n()},100)},[i,r,n]),S=(0,w.useCallback)(function(){a(),(null==m?void 0:m.id)===t$.RX.JASS_SETTINGS&&document.dispatchEvent(new Event("settingsOpen"))},[a,m]),x=(0,w.useCallback)(function(){Object.values(t$.cz).some(function(t){return!h(t)})?(tg.HB.getState().openTutorialInfo(),setTimeout(function(){n()},100)):n()},[n,h]),j=[{icon:ty.AMf,onClick:y,color:"bg-red-500",id:"trash","data-tutorial":"new-game-button"},{icon:ty.DAO,onClick:x,color:"bg-blue-500",id:"info"},{icon:ty.p4t,onClick:S,color:"bg-yellow-500",id:"farbe",className:"settings-button"},{icon:eT.cmy,onClick:v,color:"bg-green-500",id:"resultat"}],E=[{icon:eT.cmy,onClick:v,color:"bg-green-500",id:"resultat"},{icon:ty.p4t,onClick:S,color:"bg-yellow-500",id:"farbe",className:"settings-button"},{icon:ty.DAO,onClick:x,color:"bg-blue-500",id:"info"},{icon:ty.AMf,onClick:y,color:"bg-red-500",id:"trash"}],N="top"===r?E:j;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(tv.E.div,{className:"absolute inset-x-0 top-1/2 transform -translate-y-1/2 flex justify-center items-center h-16 z-10 ".concat(e?"opacity-100":"opacity-0 pointer-events-none"," transition-opacity duration-300"),variants:{hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.05}}},initial:"hidden",animate:e?"visible":"hidden",children:(0,O.jsx)("div",{className:"flex justify-center space-x-10",children:N.map(function(t){var e=t.icon,n=t.onClick,o=t.color,i=t.id,a=t.className,s=t["data-tutorial"];return(0,O.jsx)(tv.E.button,{onClick:n,"data-tutorial":s,disabled:(null==m?void 0:m.id)===t$.RX.SETTINGS&&"settings-button"!==a||(null==m?void 0:m.id)===t$.RX.MENU_GESTURE&&"resultat"!==i||(null==m?void 0:m.id)===t$.RX.RESULTAT_INFO&&"resultat"!==i||(null==m?void 0:m.id)===t$.RX.NEW_GAME&&"trash"!==i||(null==m?void 0:m.id)===t$.RX.JASS_SETTINGS&&"farbe"!==i,className:"".concat("w-12 h-12 p-2 rounded-xl shadow-md transition-transform hover:scale-110"," ").concat(o," ").concat(a||""," text-white\n                ").concat((null==m?void 0:m.id)===t$.RX.RESULTAT_INFO&&"resultat"===i||(null==m?void 0:m.id)===t$.RX.NEW_GAME&&"trash"===i||(null==m?void 0:m.id)===t$.RX.JASS_SETTINGS&&"farbe"===i?"ring-4 ring-white ring-opacity-50 animate-pulse":"","\n                ").concat((null==m?void 0:m.id)===t$.RX.SETTINGS&&"settings-button"!==a||(null==m?void 0:m.id)===t$.RX.MENU_GESTURE||(null==m?void 0:m.id)===t$.RX.RESULTAT_INFO&&"resultat"!==i||(null==m?void 0:m.id)===t$.RX.NEW_GAME&&"trash"!==i||(null==m?void 0:m.id)===t$.RX.JASS_SETTINGS&&"farbe"!==i?"opacity-50 cursor-not-allowed":""),variants:p,onMouseDown:function(){return g(i)},onTouchStart:function(){return g(i)},children:(0,O.jsx)(e,{className:"w-full h-full ".concat(c===i?"opacity-70":""),style:{transform:"top"===r?"rotate(180deg)":"none"}})},i)})})}),(0,O.jsx)(eX,{}),(0,O.jsx)(eP,{show:f,onConfirm:b,onDismiss:function(){return d(!1)}})]})},eY=n(8407),e$=n(5480);function eQ(t){return function(t){if(Array.isArray(t))return e0(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return e0(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e0(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e0(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function e1(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var e2={baseStrich:{length:38,width:3,color:"#FFFFFF",opacity:1},diagonalStrich:{length:54,width:3.5,angle:-45,offset:{x:0,y:10}},container:{spacing:10,groupSpacing:12,scale:1,stackSpacing:0}},e5=e$.ZP.div(v||(v=e1(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  \n  /* Basis-Styles */\n  min-height: ",";\n  \n  /* Container-spezifische Positionierung */\n  ","\n"])),function(t){return"horizontal"===t.type?"16px":"50px"},function(t){return"horizontal"===t.type?"\n    transform: rotate(-90deg);\n    transform-origin: left center;\n    margin: 1px 0px;\n    padding-left: 0px; // Horizontale Gruppe kann nach rechts verschoben werden\n  ":"\n    margin: -14px 0 -6px -30px; // Negativer margin-left f\xfcr vertikale Gruppe\n  "}),e3=(0,e$.ZP)(j.q.div)(S||(S=e1(["\n  position: absolute;\n  background-color: ",";\n  opacity: ",";\n  transition: all 0.2s ease;\n\n  ","\n"])),e2.baseStrich.color,e2.baseStrich.opacity,function(t){return(t.$type,t.$isDiagonal)?"\n        width: ".concat(e2.diagonalStrich.length,"px;\n        height: ").concat(e2.diagonalStrich.width,"px;\n        transform: rotate(").concat(e2.diagonalStrich.angle,"deg);\n        transform-origin: left center;\n        z-index: 2;\n      "):"\n      width: ".concat(e2.baseStrich.width,"px;\n      height: ").concat(e2.baseStrich.length,"px;\n    ")}),e4=(0,e$.ZP)(j.q.div)(x||(x=e1(["\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  margin-right: ",";\n"])),function(t){return"horizontal"===t.$type?"8px":"12px"}),e6=function(t){return"horizontal"===t?{left:"".concat(-.2*e2.container.spacing,"px"),top:"18px",transform:"rotate(-50deg)"}:{left:"".concat(3*e2.container.spacing-32,"px"),top:"18px",transform:"rotate(-45deg)"}},e8=function(t){var e=t.type,n=t.count,r=t.position;t.style;var o=(0,j.q_)({from:{progress:0},to:{progress:n},config:{tension:400,friction:15}});return(0,O.jsx)(e5,{type:e,children:function(){for(var t=[],i=Math.floor(n/5),a=n%5,s=function(n){t.push((0,O.jsxs)(e4,{$type:e,children:[eQ([,,,,]).map(function(t,i){return(0,O.jsx)(e3,{$type:e,$position:r,style:{opacity:o.progress.to(function(t){return t>5*n+i?1:0}),transform:o.progress.to(function(t){return t>5*n+i?"scale(1)":"scale(0)"}),left:"".concat(i*e2.container.spacing,"px")}},"strich-".concat(n,"-").concat(i))}),(0,O.jsx)(e3,{$type:e,$position:r,$isDiagonal:!0,style:{opacity:o.progress.to(function(t){return t>5*n+4?1:0}),transform:o.progress.to(function(t){return t>5*n+4?e6(e).transform:"scale(0)"}),left:e6(e).left,top:e6(e).top}},"diagonal-".concat(n))]},"group-".concat(n)))},c=0;c<i;c++)s(c);return a>0&&t.push((0,O.jsx)(e4,{$type:e,children:eQ(Array(a)).map(function(t,n){return(0,O.jsx)(e3,{$type:e,$position:r,style:{opacity:o.progress.to(function(t){return t>5*i+n?1:0}),transform:o.progress.to(function(t){return t>5*i+n?"scale(1)":"scale(0)"}),left:"".concat(n*e2.container.spacing,"px")}},"rest-".concat(n))})},"remainder")),t}()})},e7=function(t){var e=t.spielNummer,n=t.topTeam,r=t.bottomTeam,o=t.showJassPoints,i=t.gameId,a=th(function(t){return t.currentGameId}),s=th(function(t){return t.getCurrentGame()}),c=tz(function(t){return t.striche}),u=tz(function(t){return t.weisPoints}),l=tz(function(t){return t.jassPoints});if(i>a)return null;var f=i===a,d=f?{striche:c.top,jassPoints:l.top+u.top,total:null==s?void 0:s.teams.top.total}:n,m=f?{striche:c.bottom,jassPoints:l.bottom+u.bottom,total:null==s?void 0:s.teams.bottom.total}:r,h=X(d.striche),p=X(m.striche);return(0,O.jsxs)("div",{className:"grid grid-cols-[0.5fr_5fr_5fr] gap-4 items-center py-2 last:border-b-0 border-b border-gray-700",children:[(0,O.jsx)("div",{className:"text-gray-400 text-center pl-2",children:e}),(0,O.jsx)("div",{className:"flex justify-center -ml-[-22px]",children:o?(0,O.jsx)("div",{className:"text-xl text-white text-center w-[90px]",children:m.jassPoints||0}):(0,O.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,O.jsx)(e8,{type:"horizontal",count:p.horizontal,position:"bottom"}),(0,O.jsx)(e8,{type:"vertikal",count:p.vertikal,position:"bottom"})]})}),(0,O.jsx)("div",{className:"flex justify-center -ml-[-10px]",children:o?(0,O.jsx)("div",{className:"text-xl text-white text-center w-[100px]",children:d.jassPoints||0}):(0,O.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,O.jsx)(e8,{type:"horizontal",count:h.horizontal,position:"top"}),(0,O.jsx)(e8,{type:"vertikal",count:h.vertikal,position:"top"})]})})]})},e9=function(t){t.teams;var e=t.games,n=t.currentGameId;t.onSwipe;var r=tz();return(0,O.jsx)("div",{className:"flex flex-col w-full space-y-4",children:e.map(function(t,e){return(0,O.jsx)(e7,{gameId:t.id,spielNummer:e+1,topTeam:{striche:t.id===n?r.striche.top:t.teams.top.striche},bottomTeam:{striche:t.id===n?r.striche.bottom:t.teams.bottom.striche},showJassPoints:!1},"game-".concat(t.id))})})},nt=function(t){var e=t.teams,n=t.games,r=t.currentGameId;tz(function(t){return t.scores});var o=tz(function(t){return t.weisPoints}),i=tz(function(t){return t.jassPoints}),a=(0,j.q_)({from:{opacity:.3,transform:"scale(0.97)"},to:{opacity:1,transform:"scale(1)"},reset:!0,key:"".concat(i.top+i.bottom+o.top+o.bottom),config:{tension:280,friction:20}});return(0,O.jsx)(j.q.div,{style:a,className:"flex flex-col w-full",children:n.map(function(t,n){return(0,O.jsx)(e7,{gameId:t.id,spielNummer:n+1,topTeam:{striche:t.id===r?e.top.striche:t.teams.top.striche,jassPoints:t.id===r?i.top+o.top:t.teams.top.jassPoints+(t.teams.top.weisPoints||0)},bottomTeam:{striche:t.id===r?e.bottom.striche:t.teams.bottom.striche,jassPoints:t.id===r?i.bottom+o.bottom:t.teams.bottom.jassPoints+(t.teams.bottom.weisPoints||0)},showJassPoints:!0},t.id)})})};console.log("STATISTIC_MODULES wird geladen");var ne=[{id:"striche",title:"Strichergebnis",component:e9,calculateData:function(t){return{top:t.teams.top.total,bottom:t.teams.bottom.total}}},{id:"jasspunkte",title:"Punkte",component:nt,calculateData:function(t){return{top:t.teams.top.jassPoints,bottom:t.teams.bottom.jassPoints}}}];console.log("STATISTIC_MODULES:",ne);var nn=n(2865),nr=n.n(nn);function no(t){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ni(){ni=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(e,n,r,i){var a,s,c=Object.create((n&&n.prototype instanceof g?n:g).prototype);return o(c,"_invoke",{value:(a=new T(i||[]),s=d,function(n,o){if(s===m)throw Error("Generator is already running");if(s===h){if("throw"===n)throw o;return{value:t,done:!0}}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=function e(n,r){var o=r.method,i=n.iterator[o];if(i===t)return r.delegate=null,"throw"===o&&n.iterator.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+o+"' method")),p;var a=f(i,n.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var s=a.arg;return s?s.done?(r[n.resultName]=s.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,p)}(i,a);if(c){if(c===p)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var u=f(e,r,a);if("normal"===u.type){if(s=a.done?h:"suspendedYield",u.arg===p)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=h,a.method="throw",a.arg=u.arg)}})}),c}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",m="executing",h="completed",p={};function g(){}function y(){}function b(){}var v={};u(v,a,function(){return this});var S=Object.getPrototypeOf,x=S&&S(S(P([])));x&&x!==n&&r.call(x,a)&&(v=x);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var n;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==no(l)&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return n("throw",t,a,s)})}s(c.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}})}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw TypeError(no(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(E.prototype),u(E.prototype,s,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),u(w,c,"Generator"),u(w,a,function(){return this}),u(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function na(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){n(t);return}s.done?e(c):Promise.resolve(c).then(r,o)}function ns(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){na(i,r,o,a,s,"next",t)}function s(t){na(i,r,o,a,s,"throw",t)}a(void 0)})}}var nc=function(){(0,tg.HB)(function(t){return t.jassFinishNotification});var t=(0,tg.HB)(),e=t.jassFinishNotification,n=e.isOpen,r=e.message,o=void 0===r?{text:"Jass beendet!",icon:"♥️"}:r,i=e.mode,a=void 0===i?"share":i,s=e.onShare,c=void 0===s?ns(ni().mark(function t(){return ni().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)})):s,u=e.onBack,l=void 0===u?function(){}:u,f=e.onContinue,d=void 0===f?function(){}:f,m=t.closeJassFinishNotification,h=(0,tg.HB)(function(t){return"top"===t.resultatKreidetafel.swipePosition}),p=(0,w.useMemo)(function(){if("string"!=typeof o&&o.icon)return[o.icon];var t=[],e=("string"==typeof o?o:o.text).toLowerCase();return e.includes("schneider")?t.push("✂️"):(e.includes("unentschieden")?t.push("\uD83E\uDD1D"):e.includes("vernichtend")?t.push("\uD83D\uDCA5"):e.includes("knapp")&&t.push("\uD83D\uDE05"),e.includes("matsch")&&t.push("\uD83D\uDCAA"),e.includes("rekord")&&t.push("\uD83C\uDFC6"),(e.includes("schnell")||e.includes("blitz"))&&t.push("⚡"),(e.includes("langsam")||e.includes("gem\xfctlich"))&&t.push("��"),0===t.length&&("share"===a?t.push("\uD83C\uDF89"):t.push("string"==typeof o?"\uD83C\uDFB2":o.icon))),t},[o,a]),g=(0,w.useCallback)(ns(ni().mark(function t(){var e,n,r;return ni().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!c){t.next=4;break}return t.next=4,c();case 4:if(e="string"==typeof o?o:o.text,n="https://jassguru.web.app",r="".concat(e,"\n\nGeneriert mit \uD83D\uDC49 ").concat(n),!navigator.share){t.next=20;break}return t.prev=8,t.next=11,navigator.share({text:r});case 11:t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(8),console.error("Share failed:",t.t0),t.next=18,navigator.clipboard.writeText(r);case 18:t.next=22;break;case 20:return t.next=22,navigator.clipboard.writeText(r);case 22:m(),t.next=28;break;case 25:t.prev=25,t.t1=t.catch(0),console.error("Share error:",t.t1);case 28:case"end":return t.stop()}},t,null,[[0,25],[8,13]])})),[c,o,m]),y=(0,w.useCallback)(function(){l&&l(),m()},[l,m]),b=(0,w.useCallback)(function(){d&&d(),m()},[d,m]);return(0,w.useEffect)(function(){n&&tg.HB.setState(function(t){return{}})},[n]),(0,O.jsx)(tb.M,{children:n&&(0,O.jsxs)(tv.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-[9999] ".concat(h?"rotate-180":""),children:[(0,O.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:y}),(0,O.jsxs)(tv.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white z-10",children:[(0,O.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[(0,O.jsx)("div",{className:"text-6xl mb-2 flex gap-2",children:p.map(function(t,e){return(0,O.jsx)("span",{children:t},e)})}),(0,O.jsx)("div",{className:"text-center mb-6",children:(0,O.jsx)("p",{className:"mb-2",children:"string"==typeof o?o:o.text})})]}),(0,O.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,O.jsx)("button",{onClick:y,className:"flex-1 bg-gray-600 text-white px-6 py-2 rounded-full hover:bg-gray-700 transition-colors text-lg font-semibold",children:"Zur\xfcck"}),"share"===a?(0,O.jsx)("button",{onClick:g,className:"flex-1 bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors text-lg font-semibold",children:"Teilen"}):(0,O.jsx)("button",{onClick:b,className:"flex-1 bg-green-600 text-white px-6 py-2 rounded-full hover:bg-green-700 transition-colors text-lg font-semibold",children:"Weiterjassen!"})]})]})]})})},nu=[function(t){return{text:"Was f\xfcr ein spannendes Spiel - nur ".concat(Math.abs(t.gesamtStand.team1-t.gesamtStand.team2)," Striche trennen die Teams!"),icon:"\uD83D\uDE05"}},function(t){return{text:"Das ist Nervenkitzel pur - die Teams trennen nur wenige Striche!",icon:"\uD83C\uDFAF"}},function(t){return{text:"Kopf an Kopf - hier ist noch alles m\xf6glich!",icon:"\uD83E\uDD1D"}},function(t){return{text:"Ein echter Krimi - jeder Strich z\xe4hlt jetzt!",icon:"\uD83C\uDFB2"}},function(t){return{text:"So eng war's schon lange nicht mehr - wer beh\xe4lt die Nerven?",icon:"\uD83C\uDFAF"}}],nl=[function(t){var e=t.previousGesamtStand.team1-t.previousGesamtStand.team2,n=t.gesamtStand.team1-t.gesamtStand.team2;return e<-3&&n>0||e>3&&n<0?{text:"Was f\xfcr eine Aufholjagd! ".concat(t.winnerNames.join(" & ")," drehen einen ").concat(Math.abs(e),"-Punkte-R\xfcckstand!"),icon:"\uD83D\uDD04"}:null},function(t){var e=t.previousGesamtStand.team1-t.previousGesamtStand.team2,n=t.gesamtStand.team1-t.gesamtStand.team2;return e<-3&&n>0||e>3&&n<0?{text:"".concat(t.winnerNames.join(" & ")," beweisen Kampfgeist - vom R\xfcckstand zum Sieg!"),icon:"\uD83D\uDCAA"}:null}],nf=[function(t){return{text:"Autsch! ".concat(t.loserNames.join(" & ")," wurden beschneidert! Das tut weh!"),icon:"✂️"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," haben gek\xe4mpft wie das tapfere Schneiderlein... am Ende wurden sie trotzdem beschnitten!"),icon:"✂️"}},function(t){return{text:"Schnipp, schnapp, Schneider! ".concat(t.loserNames.join(" & ")," wurden zurechtgestutzt!"),icon:"✂️"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben ").concat(t.loserNames.join(" & ")," regelrecht filetiert - Schneider!"),icon:"\uD83C\uDF7D️"}},function(t){return{text:"Brutal! ".concat(t.winnerNames.join(" & ")," haben die Schere richtig angesetzt!"),icon:"\uD83D\uDC87‍♂️"}},function(t){return{text:"Schneider! ".concat(t.loserNames.join(" & ")," wurden von ").concat(t.winnerNames.join(" & ")," regelrecht zerschnippelt!"),icon:"\uD83E\uDD9E"}},function(t){return{text:"Eine messerscharfe Vorstellung von ".concat(t.winnerNames.join(" & ")," - Beschneiderung f\xfcr die Gegner!"),icon:"\uD83D\uDD2A"}},function(t){return{text:"Das war chirurgisch pr\xe4zise! ".concat(t.loserNames.join(" & ")," wurden sauber beschnitten!"),icon:"✂️"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben die Schneider-Schere ausgepackt - autsch!"),icon:"✂️"}},function(t){return{text:"Schneiderei deluxe! ".concat(t.loserNames.join(" & ")," wurden fachgerecht gestutzt!"),icon:"\uD83E\uDD9E"}}],nd=function(t,e){return function(){return{text:t,icon:e}}},nm={blitz_schnell:[nd("Zack, zack - das ging aber flott!","\uD83D\uDC06⚡"),nd("Blitzschnell gespielt!","\uD83E\uDD85")],schnell:[nd("Ein flottes Spielchen!","\uD83E\uDD8A"),nd("Z\xfcgig durchgespielt!","\uD83D\uDC07")],normal:[nd("Ein sch\xf6nes Spiel!","\uD83E\uDD81"),nd("Genau richtig getaktet!","\uD83D\uDC3A")],gemütlich:[nd("Da wurde jede Karte gut \xfcberlegt!","\uD83D\uDC22"),nd("Ein gem\xfctliches Spielchen!","\uD83E\uDDA5"),nd("Gut Ding will Weile haben!","\uD83D\uDC2A")],marathon:[nd("Ein echter Marathon-Jass - die Gl\xe4ser waren wohl nie leer!","\uD83D\uDC0C\uD83C\uDF7A"),nd("Nach diesem Marathon-Jass seid ihr hoffentlich noch fahrt\xfcchtig!","\uD83D\uDC18\uD83C\uDF7B"),nd("Das war ein Marathon! Zum Gl\xfcck war genug zu trinken da!","\uD83E\uDDA5\uD83C\uDF7A"),nd("Ein Jass der l\xe4ngeren Sorte - die Wirtin hatte ihre Freude!","\uD83D\uDC22\uD83C\uDF7B"),nd("Marathon-Jass vom Feinsten! Prost!","\uD83D\uDC0C\uD83C\uDF7A")]},nh=function(t){var e=Math.floor(t/36e5),n=Math.floor(t%36e5/6e4);return e>0?"".concat(e," ").concat(1===e?"Stunde":"Stunden"," und ").concat(n," ").concat(1===n?"Minute":"Minuten"):"".concat(n," ").concat(1===n?"Minute":"Minuten")},np=function(t,e){return function(n){return{text:t(nh(n.timerAnalytics.totalJassTime)),icon:e}}},ng={blitz_schnell:[np(function(t){return"Rasanter Jass in nur ".concat(t,"!")},"⚡\uD83C\uDFC3"),np(function(t){return"Schneller als der Blitz: ".concat(t," von Start bis Ziel!")},"\uD83D\uDC06⚡"),np(function(t){return"Express-Jass in ".concat(t," - Rekordverd\xe4chtig!")},"\uD83E\uDD85\uD83D\uDCA8")],schnell:[np(function(t){return"Z\xfcgig durchgespielt in ".concat(t,"!")},"\uD83E\uDD8A⏱"),np(function(t){return"Ein flottes Spielchen von ".concat(t)},"\uD83D\uDC07⭐"),np(function(t){return"".concat(t," - das nenne ich effizientes Jassen!")},"\uD83E\uDD8A\uD83C\uDFAF")],normal:[np(function(t){return"Ein perfekt getakteter Jass von ".concat(t)},"\uD83E\uDD81⏱"),np(function(t){return"".concat(t," geselliges Jassen - wie es sein soll!")},"\uD83D\uDC3A♥️"),np(function(t){return"".concat(t," Jassvergn\xfcgen in bester Gesellschaft")},"\uD83E\uDD81\uD83C\uDFAF")],gemütlich:[np(function(t){return"Gem\xfctliche ".concat(t," mit viel Zeit zum \xdcberlegen")},"\uD83E\uDDA5☕"),np(function(t){return"".concat(t," entspanntes Jassen - Qualit\xe4t braucht Zeit!")},"\uD83D\uDC22⏱"),np(function(t){return"Ein gediegener Jass von ".concat(t," - herrlich!")},"\uD83E\uDDA5♥️")],marathon:[np(function(t){return"Ein epischer Jass-Marathon von ".concat(t,"!")},"\uD83D\uDC0C\uD83C\uDFC6"),np(function(t){return"Legend\xe4re ".concat(t," Jassvergn\xfcgen!")},"\uD83D\uDC18\uD83D\uDC51"),np(function(t){return"".concat(t," purer Jass-Genuss - ein Fest!")},"\uD83D\uDC0C\uD83C\uDF89"),np(function(t){return"Ein Marathon-Jass f\xfcr die Geschichtsb\xfccher: ".concat(t,"!")},"\uD83D\uDC22\uD83D\uDCDA")]},ny={comeback:[function(t){return{text:"Was f\xfcr eine Aufholjagd von ".concat(t.winnerNames.join(" & "),"! \uD83D\uDCAA"),icon:"\uD83D\uDD04"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," drehen das Spiel - stark gek\xe4mpft!"),icon:"\uD83D\uDCAA"}},function(t){return{text:"Die Wende ist geschafft! ".concat(t.winnerNames.join(" & ")," holen sich den Sieg!"),icon:"\uD83D\uDD04"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," geben die F\xfchrung noch aus der Hand - bitter!"),icon:"\uD83D\uDE05"}},function(t){return{text:"Von wegen aussichtslos! ".concat(t.winnerNames.join(" & ")," zeigen wie man k\xe4mpft!"),icon:"\uD83D\uDCAA"}}],führungswechsel:[function(t){return{text:"Der Spie\xdf wurde umgedreht! ".concat(t.winnerNames.join(" & ")," \xfcbernehmen die F\xfchrung!"),icon:"\uD83D\uDD04"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," m\xfcssen die F\xfchrung abgeben - das tut weh!"),icon:"\uD83D\uDE2C"}},function(t){return{text:"F\xfchrungswechsel! ".concat(t.winnerNames.join(" & ")," setzen sich an die Spitze!"),icon:"\uD83D\uDCC8"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," melden sich zur\xfcck - jetzt wird's spannend!"),icon:"\uD83C\uDFAF"}},function(t){return{text:"Das Blatt hat sich gewendet! ".concat(t.winnerNames.join(" & ")," liegen vorne!"),icon:"\uD83D\uDD04"}}],aufholjagd_nötig:[function(t){return{text:"".concat(t.loserNames.join(" & "),", jetzt hei\xdft's \xc4rmel hochkrempeln - da ist noch viel Arbeit!"),icon:"\uD83D\uDCAA"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," brauchen jetzt eine echte Aufholjagd!"),icon:"\uD83C\uDFC3"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," ziehen davon - Zeit f\xfcr ein Comeback der anderen!"),icon:"\uD83D\uDD04"}},function(t){return{text:"Die Luft wird d\xfcnn f\xfcr ".concat(t.loserNames.join(" & ")," - aber aufgeben ist keine Option!"),icon:"\uD83D\uDCA8"}},function(t){return{text:"".concat(t.loserNames.join(" & "),", jetzt oder nie - Zeit f\xfcr die gro\xdfe Aufholjagd!"),icon:"⏰"}}],führung_ausgebaut:[function(t){return{text:"".concat(t.winnerNames.join(" & ")," bauen ihre F\xfchrung weiter aus - das sieht gut aus!"),icon:"\uD83D\uDCC8"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," legen noch einen drauf - stark!"),icon:"\uD83D\uDCAA"}},function(t){return{text:"Die F\xfchrung wird gr\xf6sser und gr\xf6sser - ".concat(t.winnerNames.join(" & ")," sind on fire! \uD83D\uDD25"),icon:"\uD83D\uDE80"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," machen ernst - der Vorsprung w\xe4chst!"),icon:"\uD83D\uDCC8"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," m\xfcssen aufpassen - der R\xfcckstand wird immer gr\xf6sser!"),icon:"⚠️"}}],knapp_gesamt:nu,dominierend:[function(t){return{text:"".concat(t.winnerNames.join(" & ")," sind auf Siegeskurs - nur noch wenige Striche bis zum Triumph!"),icon:"\uD83C\uDFC6"}},function(t){return{text:"Die Luft wird d\xfcnn! ".concat(t.winnerNames.join(" & ")," wittern den Sieg!"),icon:"\uD83D\uDC43"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben den Sieg vor Augen - jetzt bloss nicht nachlassen!"),icon:"\uD83C\uDFAF"}},function(t){return{text:"Das riecht nach Sieg f\xfcr ".concat(t.winnerNames.join(" & "),"!"),icon:"\uD83C\uDF1F"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," sind auf der Zielgeraden - gleich ist es geschafft!"),icon:"\uD83C\uDFC1"}}],ehrenpunkte:[function(t){return{text:"".concat(t.loserNames.join(" & ")," k\xe4mpfen tapfer weiter - Respekt f\xfcr den Durchhaltewillen!"),icon:"\uD83C\uDF96️"}},function(t){return{text:"Auch wenn's schwer wird - ".concat(t.loserNames.join(" & ")," geben nicht auf!"),icon:"\uD83D\uDCAA"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," zeigen Charakter und spielen trotz R\xfcckstand weiter!"),icon:"\uD83C\uDFC5"}},function(t){return{text:"Der R\xfcckstand ist gross, aber ".concat(t.loserNames.join(" & ")," k\xe4mpfen um jeden Punkt!"),icon:"✨"}},function(t){return{text:"Aufgeben ist keine Option f\xfcr ".concat(t.loserNames.join(" & ")," - weiter so!"),icon:"\uD83C\uDF1F"}}],matsch:[function(t){return{text:"Ein Matsch f\xfcr ".concat(t.winnerNames.join(" & "),"! Weiter so!"),icon:"\uD83D\uDC4D"}},function(){return{text:"Matsch! Das gibt ordentlich Punkte!",icon:"\uD83D\uDC4D"}}],schneider:nf},nb={unentschieden:[function(){return{text:"Was f\xfcr ein Jass! Am Ende steht es unentschieden!",icon:"\uD83E\uDD1D"}},function(){return{text:"Unglaublich - nach all den Spielen steht es gleich!",icon:"\uD83E\uDD2F"}},function(){return{text:"Wie die Zwillinge im Horoskop - perfekt ausgeglichen!",icon:"⚖️"}},function(){return{text:"Keiner gewinnt, keiner verliert - Jass-Zen in Perfektion!",icon:"☯️"}},function(){return{text:"Ein Unentschieden? Das muss man auch erst mal schaffen!",icon:"\uD83C\uDFAF"}},function(){return{text:"Gleichstand nach epischem Kampf - Salomon w\xe4re stolz!",icon:"\uD83D\uDC51"}},function(){return{text:"Zwei Teams, ein Punktestand - das ist Jass-Poesie!",icon:"\uD83D\uDCDD"}},function(){return{text:"Punktgleichheit? Da mussten die Mathematiker zweimal rechnen!",icon:"\uD83E\uDDEE"}},function(){return{text:"Ein historischer Moment - selbst die Jass-G\xf6tter applaudieren!",icon:"\uD83D\uDC4F"}},function(){return{text:"Beide Teams waren so gut, dass sich sogar die Punkte nicht entscheiden konnten!",icon:"\uD83C\uDFAD"}}],comeback:nl,hauchdünn:[function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben mit EINEM Strich Vorsprung gewonnen - knappe Siege sind die sch\xf6nsten!"),icon:"\uD83D\uDD7A"}},function(t){return{text:"Knapper ging's nicht! ".concat(t.winnerNames.join(" & ")," gewinnen mit einem Strich!"),icon:"\uD83C\uDFAF"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," h\xe4tten nur EINEN Strich mehr gebraucht... bitter!"),icon:"\uD83D\uDE24"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," gewinnen hauchzart - das war Millimeterarbeit!"),icon:"\uD83D\uDCCF"}},function(t){return{text:"Ein Wimpernschlag entscheidet - ".concat(t.loserNames.join(" & ")," fehlt genau EIN Punkt!"),icon:"\uD83D\uDC41️"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben das Qu\xe4ntchen Gl\xfcck auf ihrer Seite!"),icon:"\uD83C\uDF40"}},function(t){return{text:"Autsch! ".concat(t.loserNames.join(" & ")," verlieren um Haaresbreite"),icon:"\uD83E\uDD2C"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," zittern sich zum Sieg - knapper geht's nicht!"),icon:"\uD83D\uDE30"}},function(t){return{text:"Ein Strich zwischen Himmel und H\xf6lle - ".concat(t.loserNames.join(" & ")," fehlt haarscharf der Sieg"),icon:"\uD83D\uDE2B"}}],knapp:[function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben den Jass knapp f\xfcr sich entschieden!"),icon:"\uD83C\uDFB4"}},function(t){return{text:"Die W\xfcrfel sind knapp zu Gunsten von ".concat(t.winnerNames.join(" & ")," gefallen!"),icon:"\uD83C\uDFB2"}},function(t){return{text:"Ein Kopf-an-Kopf-Rennen, aber ".concat(t.winnerNames.join(" & ")," haben die Nase vorn!"),icon:"\uD83C\uDFC3"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," schnuppern am Sieg - aber es reicht nicht ganz"),icon:"\uD83D\uDC43"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," klettern knapp auf den Siegerthron."),icon:"\uD83D\uDC51"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben den l\xe4ngeren Atem bewiesen!"),icon:"\uD83C\uDF2C️"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben etwas besser abglupft!"),icon:"\uD83C\uDFB4"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben die wichtigen Tr\xfcmpfe zur richtigen Zeit gespielt!"),icon:"♠️"}},function(t){return{text:"Knapp gewonnen ist auch gewonnen - gut gespielt, ".concat(t.winnerNames.join(" & "),"!"),icon:"\uD83C\uDFAF"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben die entscheidenden Stiche gemacht!"),icon:"\uD83C\uDCCF"}}],deutlich:[function(t){return{text:"".concat(t.winnerNames.join(" & ")," lassen keine Zweifel am Sieg - das war deutlich!"),icon:"\uD83D\uDCAA"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," m\xfcssen sich geschlagen geben - da war mehr drin!"),icon:"\uD83E\uDD37"}},function(t){return{text:"Klarer Sieg f\xfcr ".concat(t.winnerNames.join(" & ")," - die Karten haben heute gesprochen!"),icon:"\uD83C\uDFB4"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben den Jass im Griff gehabt!"),icon:"✊"}},function(t){return{text:"Da hilft auch kein Jammern mehr - ".concat(t.winnerNames.join(" & ")," waren einfach besser!"),icon:"\uD83D\uDE24"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," haben heute mit Trump statt Trumpf gespielt!"),icon:"\uD83C\uDCCF"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," zeigen, wie man einen Jass nach Hause bringt!"),icon:"\uD83C\uDFC6"}},function(t){return{text:"Die Rechnung geht auf: ".concat(t.winnerNames.join(" & ")," gewinnen souver\xe4n!"),icon:"\uD83E\uDDEE"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," haben beim Ablupfen die Nerven verloren!"),icon:"\uD83C\uDFAF"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben das Spiel diktiert - verdienter Sieg!"),icon:"\uD83D\uDC4A"}}],hoch:[function(t){return{text:"".concat(t.winnerNames.join(" & ")," dominieren den Jass!"),icon:"\uD83D\uDC51"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," haben vergeblich auf ein Comeback gehofft..."),icon:"\uD83D\uDE14"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben heute alle Tr\xfcmpfe in der Hand gehabt!"),icon:"\uD83C\uDFAF"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden regelrecht \xfcbertrumpft!"),icon:"\uD83D\uDCA5"}},function(t){return{text:"Eine Jass-Lektion von ".concat(t.winnerNames.join(" & "),"!"),icon:"\uD83D\uDCDA"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," hatten heute keine Chance gegen diese Kartenkunst!"),icon:"\uD83C\uDFB4"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben die Karten heute tanzen lassen!"),icon:"\uD83D\uDC83"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden heute richtig alt aussehen gelassen!"),icon:"\uD83D\uDC74"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," haben heute alle Register gezogen!"),icon:"\uD83C\uDFAA"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden heute regelrecht vorgef\xfchrt!"),icon:"\uD83C\uDFAD"}}],sehr_hoch:[function(t){return{text:"".concat(t.winnerNames.join(" & ")," machen kurzen Prozess!"),icon:"☠️"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," kriegen heute einen Einlauf!"),icon:" \uD83D\uDCA6"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden heute in Grund und Boden gejasst!"),icon:"⚰️"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," spielen in einer anderen Liga!"),icon:"\uD83C\uDFC6"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," sollten vielleicht UNO spielen statt Jassen..."),icon:"\uD83C\uDCCF"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," zeigen keine Gnade - brutaler Sieg!"),icon:"\uD83D\uDD25"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden heute regelrecht zerlegt!"),icon:"\uD83E\uDE9A"}},function(t){return{text:"Das grenzt an K\xf6rperverletzung, was ".concat(t.winnerNames.join(" & ")," hier abziehen!"),icon:"\uD83E\uDD15"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden heute zum Jass-Statisten degradiert!"),icon:"\uD83C\uDFAC"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," f\xfchrten heute eine \xf6ffentliche Jass-Hinrichtung durch!"),icon:"⚔️"}}],vernichtend:[function(t){return{text:"".concat(t.winnerNames.join(" & ")," richten ein Massaker an!"),icon:"\uD83D\uDD2A"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden gerade \xf6ffentlich hingerichtet!"),icon:"⚰️"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," zermalmen alles zu Staub!"),icon:"\uD83D\uDCA3"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden atomisiert - das tat beim Zuschauen weh!"),icon:"☢️"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," veranstalten hier ein Blutbad!"),icon:"\uD83E\uDE78"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden gerade aus dem Jass-Universum geschossen!"),icon:"\uD83D\uDE80"}},function(t){return{text:"Brutaler geht's nicht! ".concat(t.winnerNames.join(" & ")," zerst\xf6ren alles!"),icon:"\uD83D\uDCA5"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," sollten sich einen neuen Sport suchen..."),icon:"\uD83C\uDFF3️"}},function(t){return{text:"".concat(t.winnerNames.join(" & ")," spielen wie die G\xf6tter - das ist Jass-Perfektion!"),icon:"\uD83D\uDC79"}},function(t){return{text:"".concat(t.loserNames.join(" & ")," wurden gerade aus allen Dimensionen gejasst!"),icon:"\uD83C\uDF2A️"}}],matsch:[function(t){return{text:"Ein Matsch f\xfcr ".concat(t.winnerNames.join(" & "),"! Weiter so!"),icon:"\uD83D\uDC4D"}},function(){return{text:"Matsch! Das gibt ordentlich Punkte!",icon:"\uD83D\uDC4D"}}],schneider:nf},nv={gameEnd:nm,jassEnd:ng};function nS(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return nx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nx(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nx(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var nw=[function(t){var e=nS("Team 1"===t.winnerNames[0]?[t.gesamtStand.team1,t.gesamtStand.team2]:[t.gesamtStand.team2,t.gesamtStand.team1],2),n=e[0],r=e[1];return{text:"".concat(n," : ").concat(r," Punkte"),icon:""}},function(t){var e=nS("Team 1"===t.winnerNames[0]?[t.gesamtStand.team1,t.gesamtStand.team2]:[t.gesamtStand.team2,t.gesamtStand.team1],2),n=e[0],r=e[1];return{text:"".concat(n,":").concat(r),icon:""}}];function nj(t){return t[Math.floor(Math.random()*t.length)]}var nE=[function(t){var e,n=th.getState();tz.getState();var r={top:te(e=n.games,"top"),bottom:te(e,"bottom")},o={team1:r.bottom.matsch,team2:r.top.matsch},i=t.stricheDifference,a=o.team1+o.team2;if("jassEnd"===t.type&&0===a)return nj([{text:"Keine Matsche in diesem Jass!",icon:"\uD83D\uDE34"},{text:"Ein matschloser Jass - aber spannend war's trotzdem!",icon:"\uD83E\uDD71"},{text:"Heute waren keine Matsche drin!",icon:"\uD83D\uDE34"},{text:"Ein Jass ohne Matsche - auch das gibt's!",icon:"\uD83E\uDD71"},{text:"Matschfrei gespielt - daf\xfcr mit viel Taktik!",icon:"\uD83D\uDE34"},{text:"Kein einziger Matsch heute - daf\xfcr viele sch\xf6ne Stiche!",icon:"\uD83E\uDD71"}]);if(t.isUnentschieden){if(1===a){var s=1===o.team1?t.winnerNames:t.loserNames;return{text:"".concat(s.join(" & ")," holten den einzigen Matsch in diesem unentschiedenen Jass!"),icon:"\uD83E\uDD1D"}}if(o.team1===o.team2){var c=1===o.team1?"je einen Matsch":"je ".concat(o.team1," Matsche");return{text:"Beide Teams haben ".concat(c," gemacht - passend zum Unentschieden!"),icon:"\uD83E\uDD1D"}}var u=o.team1>o.team2?t.winnerNames:t.loserNames,l=Math.max(o.team1,o.team2),f=Math.min(o.team1,o.team2);return{text:"".concat(u.join(" & ")," haben zwar ").concat(l,":").concat(f," bei den Matschen gef\xfchrt - am Ende steht's aber unentschieden!"),icon:"\uD83E\uDD1D"}}if("jassEnd"===t.type&&1===a){var d=1===o.team1?t.winnerNames:t.loserNames,m=1===o.team1&&i>0||1===o.team2&&i<0;return m&&20>=Math.abs(i)?nj([{text:"Ein Matsch, ein Sieg - perfekt gespielt von ".concat(d.join(" & "),"!"),icon:"✨"}]):m&&1===Math.abs(i)?nj([{text:"Der einzige Matsch geht an ".concat(d.join(" & "),"!"),icon:"\uD83C\uDFC6"},{text:"".concat(d.join(" & ")," holen sich den Sieges-Matsch!"),icon:"\uD83C\uDFAF"},{text:"Der goldene Matsch geh\xf6rt ".concat(d.join(" & "),"!"),icon:"\uD83D\uDC51"}]):m?{text:"".concat(d.join(" & ")," holen sich den einzigen Matsch und den Sieg!"),icon:"\uD83C\uDFAF"}:nj([{text:"".concat(d.join(" & ")," holten zwar den einzigen Matsch, verloren aber trotzdem!"),icon:"\uD83D\uDE05"},{text:"Der einzige Matsch ging an ".concat(d.join(" & "),", der Sieg aber nicht!"),icon:"\uD83E\uDD37"},{text:"".concat(d.join(" & ")," schnappten sich den Matsch - zum Sieg hat's trotzdem nicht gereicht!"),icon:"\uD83D\uDE2C"}])}if(o.team1===o.team2){var h=1===o.team1?"je einen Matsch":"je ".concat(o.team1," Matsche");return{text:"Beide Teams haben ".concat(h," gemacht!"),icon:"\uD83E\uDD1D"}}if(1===Math.abs(o.team1-o.team2)){var p=o.team1>o.team2?t.winnerNames:t.loserNames;return o.team1>o.team2&&p===t.winnerNames?nj([{text:"Der eine Matsch mehr hat ".concat(p.join(" & ")," zum Sieg verholfen!"),icon:"\uD83C\uDFC6"},{text:"Ein entscheidender Matsch-Vorsprung f\xfcr ".concat(p.join(" & "),"!"),icon:"\uD83D\uDCAB"},{text:"Dieser eine Matsch mehr machte ".concat(p.join(" & ")," zu den Siegern!"),icon:"\uD83C\uDFAF"}]):nj([{text:"Trotz einem Matsch mehr haben ".concat(p.join(" & ")," den Jass verloren!"),icon:"\uD83D\uDE05"},{text:"Ein Matsch-Vorsprung hat ".concat(p.join(" & ")," heute nicht zum Sieg gereicht!"),icon:"\uD83E\uDD37"},{text:"Der eine Matsch mehr war heute leider zu wenig f\xfcr ".concat(p.join(" & "),"!"),icon:"\uD83D\uDCC9"}])}if(!t.isUnentschieden&&"jassEnd"===t.type){var g=Math.abs(o.team1-o.team2),y=Math.max(o.team1,o.team2),b=Math.min(o.team1,o.team2),v=o.team1>o.team2?t.winnerNames:t.loserNames,S=o.team1>o.team2?t.loserNames:t.winnerNames;if(o.team1>o.team2&&i>0||o.team2>o.team1&&i<0){if(g>=5)return nj([{text:"".concat(S.join(" & ")," wurden von ").concat(v.join(" & ")," regelrecht abgematscht! ").concat(y,":").concat(b,"!"),icon:"\uD83D\uDCAA"},{text:"Das war eine Matsch-Demonstration von ".concat(v.join(" & "),"! ").concat(y,":").concat(b,"!"),icon:"\uD83D\uDD25"},{text:"".concat(v.join(" & ")," haben ").concat(S.join(" & ")," heute keine Chance gelassen! ").concat(y,":").concat(b," Matsche!"),icon:"\uD83D\uDC4A"},{text:"".concat(S.join(" & ")," gingen heute in der Matsch-Schlacht unter! ").concat(y,":").concat(b,"!"),icon:"\uD83D\uDCA5"},{text:"Eine Matsch-Lektion von ".concat(v.join(" & "),"! ").concat(y,":").concat(b,"!"),icon:"\uD83D\uDCDA"}]);if(g>=3)return nj([{text:"".concat(v.join(" & ")," dominieren mit ").concat(y,":").concat(b," Matschen!"),icon:"\uD83D\uDCAA"},{text:"Eine klare Matsch-\xdcberlegenheit von ".concat(v.join(" & "),"! ").concat(y,":").concat(b,"!"),icon:"\uD83C\uDFAF"},{text:"".concat(v.join(" & ")," zeigen's heute allen - ").concat(y,":").concat(b," Matsche!"),icon:"\uD83D\uDD25"},{text:"".concat(S.join(" & ")," haben heute Matsch-Nachhilfe bekommen! ").concat(y,":").concat(b,"!"),icon:"\uD83D\uDCDD"}]);if(2===g)return nj([{text:"".concat(v.join(" & ")," waren heute bei den Matschen einfach st\xe4rker! ").concat(y,":").concat(b,"!"),icon:"\uD83D\uDCAB"},{text:"Mit ".concat(y,":").concat(b," Matschen zeigen ").concat(v.join(" & ")," wie's geht!"),icon:"\uD83D\uDC51"},{text:"".concat(v.join(" & ")," haben heute das Matsch-H\xe4ndchen! ").concat(y,":").concat(b,"!"),icon:"✨"}])}}var x=o.team1>o.team2?t.winnerNames:t.loserNames,w=Math.max(o.team1,o.team2),j=Math.min(o.team1,o.team2);return nj([{text:"".concat(w,":").concat(j," Matsche f\xfcr ").concat(x.join(" & "),"!"),icon:"\uD83C\uDFAF"},{text:"".concat(x.join(" & ")," sammeln ").concat(w," Matsche, ").concat(j," gehen an die Gegner!"),icon:"\uD83D\uDCCA"},{text:"".concat(w," zu ").concat(j," Matsche - Vorteil ").concat(x.join(" & "),"!"),icon:"✨"},{text:"".concat(x.join(" & ")," holen sich ").concat(w," Matsche!"),icon:"\uD83C\uDFAA"}])}];function nN(t){return(nN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function nT(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==nN(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==nN(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===nN(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var nP={GAME:{KNAPP_GESAMT:2,DOMINIEREND:5,EHRENPUNKTE:6},JASS:{HAUCHDÜNN:1,KNAPP:3,DEUTLICH:5,HOCH:7,SEHR_HOCH:9,VERNICHTEND:10}},nC={GAME:{BLITZ:12e5,SCHNELL:24e5,NORMAL:48e5,GEMÜTLICH:Number.MAX_VALUE},JASS:{BLITZ:36e5,SCHNELL:54e5,NORMAL:108e5,GEMÜTLICH:18e6,MARATHON:Number.MAX_VALUE}};function nk(t,e){if(t&&0!==t.length){var n=t.map(function(t){return t(e)}).filter(function(t){return null!==t});if(0!==n.length)return n[Math.floor(Math.random()*n.length)]}}function nA(t){var e=t.isSchneider,n=t.gameStats,r=t.gesamtStand,o=t.type,i=t.isUnentschieden,a=t.previousGesamtStand;if(e)return["schneider"];var s=Math.abs(r.team1-r.team2);if("jassEnd"===o){if(i)return["unentschieden"];var c=a.team1-a.team2,u=r.team1-r.team2;return c<-3&&u>0||c>3&&u<0?["comeback"]:s<=nP.JASS.HAUCHDÜNN?["hauchd\xfcnn"]:s<=nP.JASS.KNAPP?["knapp"]:s<=nP.JASS.DEUTLICH?["deutlich"]:s<=nP.JASS.HOCH?["hoch"]:s<=nP.JASS.SEHR_HOCH?["sehr_hoch"]:["vernichtend"]}var l=[];return n.isComeback&&l.push("comeback"),n.führungsWechsel&&l.push("f\xfchrungswechsel"),s<=nP.GAME.KNAPP_GESAMT&&l.push("knapp_gesamt"),s>=nP.GAME.DOMINIEREND&&l.push("dominierend"),s>nP.GAME.EHRENPUNKTE&&l.push("ehrenpunkte"),l.length>0?l:["knapp_gesamt"]}function nI(t,e){var n=nk("jassEnd"===t.type&&Object.keys(nb).includes(e)?nb[e]:ny[e],t);if(!n)throw Error("Keine Spr\xfcche f\xfcr Kategorie ".concat(e," gefunden"));return n}function nL(t,e){var n="jassEnd"===e?nC.JASS:nC.GAME;return(console.log("[Zeit-Kategorie] ".concat(e,":"),{duration:"".concat((t/1e3/60).toFixed(2)," Minuten")}),t>=n.GEMÜTLICH)?"marathon":t>=n.NORMAL?"gem\xfctlich":t>=n.SCHNELL?"normal":t>=n.BLITZ?"schnell":"blitz_schnell"}function nR(t,e){return nk(nv["jassEnd"===t.type?"jassEnd":"gameEnd"][e],t)}function nM(t){var e,n,r,o=t.timerAnalytics,i=o.totalJassTime,a=o.currentGameDuration;if(console.log("[Spruch-Parameter]",{type:t.type,analytics:{currentGameDuration:"".concat((a/1e3/60).toFixed(2)," Minuten"),totalJassTime:"".concat((i/1e3/60).toFixed(2)," Minuten")}}),"jassEnd"===t.type){var s,c,u,l,f,d,m,h,p,g=(s=nA(t)[0],c=nI(t,s),u="jassEnd"===t.type?nk(nw,t):void 0,l="jassEnd"===t.type&&t.gameStats.führungsWechsel?{text:"".concat(t.gameStats.führungsWechsel?"Mit F\xfchrungswechsel":"Durchgehende F\xfchrung"),icon:"\uD83D\uDCCA"}:void 0,f=nk(nE,t),d=nL(t.timerAnalytics.totalJassTime,t.type),{hauptSpruch:c,resultatDetails:u,spielstatistik:l,zeitSpruch:nR(t,d),matchDetails:f}),y=nL(i,t.type);return m=nT(nT({},g),{},{zeitSpruch:nR(t,y)}),p="",(h=[]).push(m.hauptSpruch.text),p+=m.hauptSpruch.icon,m.resultatDetails&&(h.push(m.resultatDetails.text),p+=m.resultatDetails.icon),m.matchDetails&&(h.push(m.matchDetails.text),p+=m.matchDetails.icon),m.spielstatistik&&(h.push(m.spielstatistik.text),p+=m.spielstatistik.icon),m.zeitSpruch&&(h.push(m.zeitSpruch.text),p+=m.zeitSpruch.icon),{text:h.join("! ")+"!",icon:p}}var b=nA(t);return e={hauptSpruch:nI(t,b[0]),zeitSpruch:nR(t,nL(a,"gameEnd"))},r="",(n=[]).push(e.hauptSpruch.text),r+=e.hauptSpruch.icon,e.zusatzSpruch&&(n.push(e.zusatzSpruch.text),r+=e.zusatzSpruch.icon),e.zeitSpruch&&(n.push(e.zeitSpruch.text),r+=e.zeitSpruch.icon),{text:n.join("! ")+"!",icon:r}}function nG(t){return(nG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n_(){n_=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(e,n,r,i){var a,s,c=Object.create((n&&n.prototype instanceof g?n:g).prototype);return o(c,"_invoke",{value:(a=new T(i||[]),s=d,function(n,o){if(s===m)throw Error("Generator is already running");if(s===h){if("throw"===n)throw o;return{value:t,done:!0}}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=function e(n,r){var o=r.method,i=n.iterator[o];if(i===t)return r.delegate=null,"throw"===o&&n.iterator.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+o+"' method")),p;var a=f(i,n.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var s=a.arg;return s?s.done?(r[n.resultName]=s.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,p)}(i,a);if(c){if(c===p)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var u=f(e,r,a);if("normal"===u.type){if(s=a.done?h:"suspendedYield",u.arg===p)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=h,a.method="throw",a.arg=u.arg)}})}),c}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",m="executing",h="completed",p={};function g(){}function y(){}function b(){}var v={};u(v,a,function(){return this});var S=Object.getPrototypeOf,x=S&&S(S(P([])));x&&x!==n&&r.call(x,a)&&(v=x);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){var n;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==nG(l)&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return n("throw",t,a,s)})}s(c.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}})}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw TypeError(nG(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(E.prototype),u(E.prototype,s,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),u(w,c,"Generator"),u(w,a,function(){return this}),u(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function nD(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){n(t);return}s.done?e(c):Promise.resolve(c).then(r,o)}function nz(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){nD(i,r,o,a,s,"next",t)}function s(t){nD(i,r,o,a,s,"throw",t)}a(void 0)})}}function nH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function nB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nH(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==nG(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==nG(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===nG(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nH(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function nF(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return nU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nU(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nU(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var nW=function(t){var e=t.name,n=t.isStarter,r=(0,w.useRef)(null),o=nF((0,w.useState)(e),2),i=o[0],a=o[1];return(0,w.useEffect)(function(){var t=function(){var t=r.current;if(t){var o=document.createElement("div");o.style.visibility="hidden",o.style.position="absolute",o.style.whiteSpace="nowrap",o.className=t.className,o.textContent=e+(n?" ❀":""),document.body.appendChild(o);var i=o.offsetWidth,s=1.25*t.offsetWidth;if(document.body.removeChild(o),i>s){for(var c=0,u=e.length;c<u;){var l=Math.floor((c+u+1)/2);o.textContent=e.slice(0,l)+(n?"❀":""),document.body.appendChild(o);var f=o.offsetWidth;document.body.removeChild(o),f<=s?c=l:u=l-1}a(e.slice(0,c))}else a(e)}};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}},[e,n]),(0,O.jsx)("div",{ref:r,className:"text-center text-gray-400 px-1",children:(0,O.jsxs)("span",{className:"inline-block",children:[i,n&&(0,O.jsx)("span",{children:"❀"})]})})},nX=function(){var t,e,n,r,o=(0,tg.HB)(function(t){return t.resultatKreidetafel.isOpen}),i=(0,tg.HB)(function(t){return t.resultatKreidetafel.swipePosition}),a=th(function(t){return t.games}),s=(0,w.useMemo)(function(){return tt.getState().getAnalytics()},[a.length]),c=nF(w.useState(null),2),u=c[0],l=c[1],f=nF(w.useState(null),2),d=f[0],m=f[1],h=nF(w.useState(null),2),p=h[0],g=h[1],y=(0,tg.HB)(function(t){return t.resultatKreidetafel.currentStatistic}),b=(0,w.useCallback)(function(){tg.HB.setState(function(t){return{resultatKreidetafel:nB(nB({},t.resultatKreidetafel),{},{isOpen:!1}),jassFinishNotification:{isOpen:!1,mode:"share",message:{text:"",icon:"♥️"},onShare:void 0,onBack:void 0,onContinue:void 0}}})},[]),v=tz(function(t){return t.playerNames}),S=tz(function(t){var e,n;return null!==(e=null===(n=t.scores)||void 0===n?void 0:n.top)&&void 0!==e?e:0}),x=tz(function(t){var e,n;return null!==(e=null===(n=t.scores)||void 0===n?void 0:n.bottom)&&void 0!==e?e:0});tz(function(t){return t.weisPoints});var E="top"===i,N=(0,eY.ZP)(new Date,"d.M.yyyy"),T=ne.find(function(t){return t.id===y}),P=th(function(t){return t.canNavigateBack()}),C=th(function(t){return t.canNavigateForward()}),k=tz(function(t){return t.striche}),A=(0,w.useMemo)(function(){return{top:nB(nB({},k.top),{},{normal:tn(k.top)}),bottom:nB(nB({},k.bottom),{},{normal:tn(k.bottom)})}},[k]),I=(0,w.useMemo)(function(){return k.top.sieg>0||k.bottom.sieg>0},[k]),L=(0,w.useCallback)(function(){var t=th.getState(),e=tz.getState();if(t.canNavigateBack()){t.navigateToPreviousGame();var n=t.getCurrentGame();n&&(e.resetGame(),tz.setState(function(t){return nB(nB({},t),{},{isGameStarted:!0,currentRound:n.currentRound||1,currentPlayer:n.currentPlayer,scores:{top:(n.teams.top.jassPoints||0)+(n.teams.top.weisPoints||0),bottom:(n.teams.bottom.jassPoints||0)+(n.teams.bottom.weisPoints||0)},weisPoints:{top:n.teams.top.weisPoints,bottom:n.teams.bottom.weisPoints},striche:{top:nB({},n.teams.top.striche),bottom:nB({},n.teams.bottom.striche)},roundHistory:n.roundHistory||[],isGameCompleted:!1,isRoundCompleted:!1})}))}},[]),R=(0,w.useCallback)(function(){var t=th.getState(),e=tz.getState();if(t.canNavigateForward()){t.navigateToNextGame();var n=t.getCurrentGame();n&&(e.resetGame(),tz.setState(function(t){return nB(nB({},t),{},{isGameStarted:!0,currentRound:n.currentRound||1,currentPlayer:n.currentPlayer,scores:{top:(n.teams.top.jassPoints||0)+(n.teams.top.weisPoints||0),bottom:(n.teams.bottom.jassPoints||0)+(n.teams.bottom.weisPoints||0)},weisPoints:{top:n.teams.top.weisPoints,bottom:n.teams.bottom.weisPoints},striche:{top:nB({},n.teams.top.striche),bottom:nB({},n.teams.bottom.striche)},roundHistory:n.roundHistory||[],isGameCompleted:!1,isRoundCompleted:!1})}))}else{if(!I){tg.HB.getState().showNotification({message:"Bitte erst bedanken, bevor ein neues Spiel gestartet wird.",type:"warning",position:"top"===i?"top":"bottom",isFlipped:"top"===i,actions:[{label:"Verstanden",onClick:b}]});return}t.finalizeGame(),t.startGame(),e.resetGame(),tz.setState(function(t){return nB(nB({},t),{},{isGameStarted:!0,currentRound:1,isGameCompleted:!1,isRoundCompleted:!1})})}},[I]),M=C?"1 Spiel\nvorw\xe4rts":"Neues\nSpiel",G=th(function(t){return t.teams}),_=th(function(t){return t.currentGameId}),D=(0,w.useMemo)(function(){var t=tg.HB.getState().scoreSettings,e=th.getState().games,n=function(e){var n,r,o=0;return null!=t&&null!==(n=t.enabled)&&void 0!==n&&n.berg&&(o+=e.berg),o+=e.sieg,null!=t&&null!==(r=t.enabled)&&void 0!==r&&r.schneider&&(o+=e.schneider),o+=e.matsch+e.kontermatsch},r=e.filter(function(t){return t.id<_}).reduce(function(t,e){return{striche:{top:t.striche.top+n(e.teams.top.striche),bottom:t.striche.bottom+n(e.teams.bottom.striche)},punkte:{top:t.punkte.top+e.teams.top.total,bottom:t.punkte.bottom+e.teams.bottom.total}}},{striche:{top:0,bottom:0},punkte:{top:0,bottom:0}});return{striche:{top:r.striche.top+n(A.top),bottom:r.striche.bottom+n(A.bottom)},punkte:{top:r.punkte.top+S,bottom:r.punkte.bottom+x}}},[_,A,S,x]),z=w.useCallback(function(t){var e=ne.findIndex(function(t){return t.id===y}),n="right"===t?(e+1)%ne.length:(e-1+ne.length)%ne.length;tg.HB.setState(function(t){return{resultatKreidetafel:nB(nB({},t.resultatKreidetafel),{},{currentStatistic:ne[n].id})}})},[y]),H=(0,j.q_)({opacity:o?1:0,transform:"scale(".concat(o?1:.95,") rotate(").concat(E?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20},onRest:function(){tg.HB.setState(function(t){return{resultatKreidetafel:nB(nB({},t.resultatKreidetafel),{},{animationComplete:!0})}})}}),B=(0,w.useRef)(null),F=(0,w.useCallback)(nz(n_().mark(function t(){var e,n,r,o,i,a,s,c,u,l;return n_().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=tg.HB.getState().resultatKreidetafel,tg.HB.setState(function(t){return{resultatKreidetafel:nB(nB({},t.resultatKreidetafel),{},{swipePosition:"bottom",isFlipped:!1})}}),t.next=5,new Promise(function(t){return setTimeout(t,400)});case 5:if(n=document.querySelector(".kreidetafel-content"),r=document.querySelector(".statistik-container"),o=document.querySelector(".button-container"),!(!n||!r||!o||!(n instanceof HTMLElement)||!(r instanceof HTMLElement)||!(o instanceof HTMLElement))){t.next=10;break}throw Error("Erforderliche Elemente nicht gefunden");case 10:return i={maxHeight:r.style.maxHeight,overflowY:r.style.overflowY,buttonDisplay:o.style.display},r.style.maxHeight="none",r.style.overflowY="visible",o.style.display="none",t.prev=14,t.next=17,nr()(n,{backgroundColor:"#1F2937",useCORS:!0,logging:!1,windowWidth:n.scrollWidth,windowHeight:n.scrollHeight,scale:2});case 17:return a=t.sent,t.next=20,new Promise(function(t){a.toBlob(function(e){e&&t(e)},"image/png",1)});case 20:if(s=t.sent,!navigator.share){t.next=27;break}return u=null!=(c=tg.HB.getState().jassFinishNotification)&&c.message?"string"==typeof c.message?c.message:c.message.text:"Jass Resultat",l="".concat(u,"\n\nGeneriert von:\n\uD83D\uDC49 https://jassguru.web.app"),t.next=27,navigator.share({files:[new File([s],"jass-resultat.png",{type:"image/png"})],text:l});case 27:return t.prev=27,r.style.maxHeight=i.maxHeight,r.style.overflowY=i.overflowY,o.style.display=i.buttonDisplay,tg.HB.setState(function(t){return{resultatKreidetafel:nB(nB({},t.resultatKreidetafel),e)}}),t.finish(27);case 33:b(),t.next=39;break;case 36:t.prev=36,t.t0=t.catch(0),console.error("Screenshot/Share Fehler:",t.t0);case 39:case"end":return t.stop()}},t,null,[[0,36],[14,,27,33]])})),[b]);tt(function(t){return t.completeJass});var U=(0,ec.m)(L),W=(0,ec.m)(F),X=(0,ec.m)(R);(0,tg.HB)(function(t){return t.jassFinishNotification.isOpen});var J=(0,w.useMemo)(function(){var t,e,n,r,o,i,s,c,u,l,f,d,m,h,p,g,b,S,x,w,j,E,N,O,T;return e=(t={playerNames:Object.values(v).filter(Boolean),currentStatistic:"jasspunkte"===y?"punkte":y,totals:{striche:{team1:D.striche.top,team2:D.striche.bottom},punkte:{team1:D.punkte.top,team2:D.punkte.bottom}},matchCount:{team1:A.top.matsch||0,team2:A.bottom.matsch||0},type:"gameEnd",gameHistory:{gesamtStand:{team1:D.striche.top,team2:D.striche.bottom},gameNumber:_,totalGames:a.length},currentStriche:{team1:{normal:A.top.normal,matsch:A.top.matsch},team2:{normal:A.bottom.normal,matsch:A.bottom.matsch}}}).playerNames,n=t.currentStatistic,r=t.totals,o=t.matchCount,i=t.gameHistory,s=t.currentStriche,c=tg.HB.getState().scoreSettings.values.schneider,u={team1:[e[1],e[3]],team2:[e[2],e[4]]},f=(l="striche"===n?r.striche:r.punkte).team2>l.team1,d=l.team1===l.team2,m=f?u.team2:u.team1,h=f?u.team1:u.team2,p=Math.abs(r.striche.team1-r.striche.team2),g=Math.abs(r.punkte.team1-r.punkte.team2),b=o?o.team1+o.team2:0,S=r.punkte.team1<c||r.punkte.team2<c,x=r.punkte.team1<c?"team1":r.punkte.team2<c?"team2":void 0,w="normal",E=(j={team1:i.gesamtStand.team1-(s.team1[w]||0),team2:i.gesamtStand.team2-(s.team2[w]||0)}).team1-j.team2,N=i.gesamtStand.team1-i.gesamtStand.team2,O=E>0&&N<E||E<0&&N>E,T=Math.abs(N),{winnerNames:m,loserNames:h,playerNames:e,pointDifference:g,stricheDifference:p,totalMatsche:b,isTeam2Winner:f,isDraw:d,isSchneider:S,schneiderTeam:x,gesamtStand:i.gesamtStand,previousGesamtStand:j,gameStats:{currentGameNumber:i.gameNumber,totalGames:i.totalGames,isComeback:O,comebackTeam:O?E>0?"team2":"team1":void 0,führungsWechsel:E>0&&N<0||E<0&&N>0,höchsterVorsprung:{team:N>0?"team1":"team2",differenz:T}}}},[D,_,a.length,v,y,A]),K=(0,w.useCallback)(function(){var t,e,n,r,o,a=tg.HB.getState(),s=tt.getState();if(!I){a.showNotification({message:"Bitte erst bedanken, bevor der Jass beendet wird.",type:"warning",position:"top"===i?"top":"bottom",isFlipped:"top"===i,actions:[{label:"Verstanden",onClick:b}]});return}var c=s.getAnalytics();s.prepareJassEnd();var u=nM({stricheDifference:Math.abs(D.striche.top-D.striche.bottom),pointDifference:Math.abs(D.punkte.top-D.punkte.bottom),isUnentschieden:"striche"===y?D.striche.top===D.striche.bottom:D.punkte.top===D.punkte.bottom,winnerNames:"striche"===y?D.striche.top>D.striche.bottom?[v[2],v[4]].filter(Boolean):[v[1],v[3]].filter(Boolean):D.punkte.top>D.punkte.bottom?[v[2],v[4]].filter(Boolean):[v[1],v[3]].filter(Boolean),loserNames:"striche"===y?D.striche.top>D.striche.bottom?[v[1],v[3]].filter(Boolean):[v[2],v[4]].filter(Boolean):D.punkte.top>D.punkte.bottom?[v[1],v[3]].filter(Boolean):[v[2],v[4]].filter(Boolean),isStricheMode:"striche"===y,type:"jassEnd",timerAnalytics:c,matchCount:{team1:null!==(e=A.top.matsch)&&void 0!==e?e:0,team2:null!==(n=A.bottom.matsch)&&void 0!==n?n:0},totalMatsche:(null!==(r=A.top.matsch)&&void 0!==r?r:0)+(null!==(o=A.bottom.matsch)&&void 0!==o?o:0),isSchneider:D.punkte.top<a.scoreSettings.values.schneider||D.punkte.bottom<a.scoreSettings.values.schneider,gameStats:J.gameStats,gesamtStand:J.gesamtStand,previousGesamtStand:J.previousGesamtStand});tg.HB.setState({jassFinishNotification:{isOpen:!0,mode:"share",message:u,onShare:(t=nz(n_().mark(function t(){return n_().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s.finalizeJassEnd(),t.next=3,F();case 3:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)}),onBack:b}})},[I,i,b,F]);(0,w.useEffect)(function(){B.current&&o&&setTimeout(function(){B.current&&(B.current.scrollTop=B.current.scrollHeight)},50)},[o,a.length,_]);var V=(0,j.q_)({opacity:p?.7:1,transform:"left"===p?"translateX(-10px)":"right"===p?"translateX(10px)":"translateX(0px)",config:{tension:280,friction:20}}),Z=(0,tY.X)(),q=Z.isActive,Y=(0,Z.getCurrentStep)();(0,w.useEffect)(function(){o&&q&&(!Y||Y.id!==t$.RX.RESULTAT_INFO)&&b()},[o,q,Y,b]);var $=(0,w.useCallback)(function(){var t,e,n,r,o=tg.HB.getState().scoreSettings;if(C){R();return}if(!I){tg.HB.getState().showNotification({message:"Bitte erst bedanken, bevor ein neues Spiel gestartet wird.",type:"warning",position:"top"===i?"top":"bottom",isFlipped:"top"===i,actions:[{label:"Verstanden",onClick:b}]});return}var a=nM({stricheDifference:Math.abs(D.striche.top-D.striche.bottom),pointDifference:Math.abs(D.punkte.top-D.punkte.bottom),isUnentschieden:"striche"===y?D.striche.top===D.striche.bottom:D.punkte.top===D.punkte.bottom,winnerNames:"striche"===y?D.striche.top>D.striche.bottom?[v[2],v[4]].filter(Boolean):[v[1],v[3]].filter(Boolean):D.punkte.top>D.punkte.bottom?[v[2],v[4]].filter(Boolean):[v[1],v[3]].filter(Boolean),loserNames:"striche"===y?D.striche.top>D.striche.bottom?[v[1],v[3]].filter(Boolean):[v[2],v[4]].filter(Boolean):D.punkte.top>D.punkte.bottom?[v[1],v[3]].filter(Boolean):[v[2],v[4]].filter(Boolean),isStricheMode:"striche"===y,type:"gameEnd",timerAnalytics:s,totalMatsche:(null!==(t=A.top.matsch)&&void 0!==t?t:0)+(null!==(e=A.bottom.matsch)&&void 0!==e?e:0),isSchneider:D.punkte.top<o.values.schneider||D.punkte.bottom<o.values.schneider,gameStats:J.gameStats,gesamtStand:J.gesamtStand,previousGesamtStand:J.previousGesamtStand,matchCount:{team1:null!==(n=A.top.matsch)&&void 0!==n?n:0,team2:null!==(r=A.bottom.matsch)&&void 0!==r?r:0}});tg.HB.setState({jassFinishNotification:{isOpen:!0,mode:"continue",message:a,onBack:b,onContinue:function(){b(),R()}}})},[C,R,I,i,D,y,v,s,A,b]);return((0,w.useEffect)(function(){o&&tg.HB.setState(function(t){return{jassFinishNotification:{isOpen:!1,mode:"share",message:{text:"",icon:"\uD83C\uDFB2"},onShare:void 0,onBack:void 0,onContinue:void 0}}})},[o]),o)?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50",onClick:function(t){t.target===t.currentTarget&&b()},onTouchStart:function(t){l(t.targetTouches[0].clientX),g(null)},onTouchMove:function(t){if(m(t.targetTouches[0].clientX),u&&t.targetTouches[0].clientX){var e=u-t.targetTouches[0].clientX;Math.abs(e)>20&&g(e>0?"left":"right")}},onTouchEnd:function(){if(u&&d){var t=u-d,e=t>50;(e||t<-50)&&z(e?"right":"left"),l(null),m(null),g(null)}},children:(0,O.jsxs)(j.q.div,{style:H,className:"w-11/12 max-w-md ".concat("left"===p?"-translate-x-4":"right"===p?"translate-x-4":""),children:[(0,O.jsxs)("div",{className:"kreidetafel-content relative bg-gray-800 bg-opacity-95 rounded-t-xl p-6 shadow-lg select-none",children:[(0,O.jsxs)("div",{className:"text-center mb-4",children:[(0,O.jsx)("h2",{className:"text-2xl font-bold text-white",children:(null==T?void 0:T.title)||"Jassergebnis"}),(0,O.jsx)("p",{className:"text-gray-400",children:N})]}),(0,O.jsx)("button",{onClick:function(){return tg.HB.setState(function(t){return{resultatKreidetafel:nB(nB({},t.resultatKreidetafel),{},{swipePosition:E?"bottom":"top"})}})},className:"absolute bottom-full mb-[-10px] left-1/2 transform -translate-x-1/2 \n                text-white hover:text-gray-300 transition-all duration-1000\n                w-24 h-24 flex items-center justify-center\n                rounded-full\n                ".concat(E?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,O.jsx)(t7.bxQ,{className:"w-8 h-8"})}),(0,O.jsx)("button",{onClick:b,className:"absolute right-2 top-2 p-2 text-gray-400 hover:text-white",children:(0,O.jsx)(t7.q5L,{size:24})}),(0,O.jsxs)("div",{className:"grid grid-cols-[1fr_4fr_4fr] gap-4 mb-2",children:[(0,O.jsx)("div",{}),(0,O.jsx)("div",{className:"text-center text-white",children:"Team 1"}),(0,O.jsx)("div",{className:"text-center text-white",children:"Team 2"})]}),(0,O.jsxs)("div",{className:"grid grid-cols-[1fr_4fr_4fr] gap-4 mb-4",children:[(0,O.jsx)("div",{}),(0,O.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,O.jsx)(nW,{name:v[1],isStarter:(null===(t=a[0])||void 0===t?void 0:t.initialStartingPlayer)===1}),(0,O.jsx)(nW,{name:v[3],isStarter:(null===(e=a[0])||void 0===e?void 0:e.initialStartingPlayer)===3})]}),(0,O.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,O.jsx)(nW,{name:v[2],isStarter:(null===(n=a[0])||void 0===n?void 0:n.initialStartingPlayer)===2}),(0,O.jsx)(nW,{name:v[4],isStarter:(null===(r=a[0])||void 0===r?void 0:r.initialStartingPlayer)===4})]})]}),(0,O.jsx)("div",{className:"border-t border-b border-gray-700",children:(0,O.jsx)("div",{ref:B,className:"statistik-container max-h-[280px] overflow-y-auto",children:(0,O.jsx)(j.q.div,{style:V,className:"py-2",children:"striche"===y?(0,O.jsx)(e9,{teams:G,games:a,currentGameId:_,onSwipe:z}):(0,O.jsx)(nt,{teams:G,games:a,currentGameId:_,onSwipe:z})})})}),(0,O.jsxs)("div",{className:"grid grid-cols-[0.5fr_5fr_5fr] gap-4 mt-4",children:[(0,O.jsx)("div",{className:"text-gray-400 text-center pr-4",children:"Total:"}),(0,O.jsx)("div",{className:"flex justify-center -ml-[36px]",children:(0,O.jsx)("div",{className:"text-2xl font-bold text-white w-[100px] text-center",children:"striche"===y?D.striche.bottom:D.punkte.bottom})}),(0,O.jsx)("div",{className:"flex justify-center -ml-[12px]",children:(0,O.jsx)("div",{className:"text-2xl font-bold text-white w-[100px] text-center",children:"striche"===y?D.striche.top:D.punkte.top})})]}),(0,O.jsx)("div",{className:"flex justify-center mt-4 mb-2",children:(0,O.jsx)("div",{className:"flex justify-center items-center space-x-2 bg-gray-700/50 px-1.5 py-1 rounded-full",children:ne.map(function(t){return(0,O.jsx)("div",{className:"w-2 h-2 rounded-full transition-all duration-200 ".concat(y===t.id?"bg-white/80 shadow-sm":"bg-gray-500/50")},t.id)})})})]}),(0,O.jsxs)("div",{className:"grid gap-4 p-4 bg-gray-800 bg-opacity-95 rounded-b-xl shadow-lg button-container ".concat(P?"grid-cols-3":"grid-cols-2"),children:[P&&(0,O.jsx)("button",nB(nB({},U.handlers),{},{disabled:!P,className:"\n                  py-2 px-4 text-white rounded-lg font-medium text-base\n                  transition-all duration-150\n                  ".concat(P?"bg-gray-600":"bg-gray-500/50 cursor-not-allowed","\n                  hover:bg-gray-700\n                  leading-tight\n                  ").concat(U.buttonClasses,"\n                "),children:["1 Spiel","zur\xfcck"].map(function(t,e){return(0,O.jsxs)(w.Fragment,{children:[t,0===e&&(0,O.jsx)("br",{})]},e)})})),(0,O.jsx)("button",{onClick:K,className:"\n                py-2 px-4 text-white rounded-lg font-medium text-base\n                transition-all duration-150\n                bg-yellow-600 hover:bg-yellow-700\n                flex items-center justify-center gap-2\n                leading-tight\n                ".concat(W.buttonClasses,"\n              "),children:["Jass","beenden"].map(function(t,e){return(0,O.jsxs)(w.Fragment,{children:[t,0===e&&(0,O.jsx)("br",{})]},e)})}),(0,O.jsx)("button",{onClick:$,className:"\n                py-2 px-4 text-white rounded-lg font-medium text-base\n                transition-all duration-150\n                ".concat(C?"bg-gray-600 hover:bg-gray-700":"bg-green-600 hover:bg-green-700","\n                leading-tight\n                ").concat(X.buttonClasses,"\n              "),children:M.split("\n").map(function(t,e){return(0,O.jsxs)(w.Fragment,{children:[t,0===e&&M.includes("\n")&&(0,O.jsx)("br",{})]},e)})})]})]})}),(0,O.jsx)(nc,{})]}):null},nJ=function(t){var e=tz(),n=e.navigateHistory,r=e.canNavigateForward,o=e.canNavigateBackward,i=e.currentHistoryIndex,a=e.validateHistoryAction;(0,tg.HB)().showHistoryWarning;var s=(0,w.useRef)(Date.now());return(0,w.useCallback)(function(t){a()&&n(t)},[n,a]),{handleSwipe:(0,w.useCallback)(function(e){var i=Date.now();if(!(i-s.current<300)){s.current=i;var a="top"===t,c=a&&"left"===e||!a&&"right"===e;(c?r():o())&&n(c?"forward":"backward")}},[t,n,r,o]),isInPast:i>-1,canNavigateForward:r,canNavigateBackward:o}},nK=function(t){var e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=Math.floor(t/1e3),r=Math.floor(n/60),o=Math.floor(r/60),i=r%60,a=n%60;return o>0?e?"".concat(o,":").concat(i.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")):"".concat(o,":").concat(i.toString().padStart(2,"0")):e?"".concat(r.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")):"0:".concat(r.toString().padStart(2,"0"))};function nV(t){return function(t){if(Array.isArray(t))return nq(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||nZ(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nZ(t,e){if(t){if("string"==typeof t)return nq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nq(t,e)}}function nq(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var nY=Array.from(new Set(ee.vK.map(function(t){return t.multiplier}))).filter(function(t){return t>1}).sort(function(t,e){return e-t}),n$=(0,M.U)(function(t,e){return{currentMultiplier:Math.max.apply(Math,nV(nY.filter(function(t){return t>1}))),setMultiplier:function(e){return t({currentMultiplier:e})},getDividedPoints:function(t){return Math.ceil(t/e().currentMultiplier)},getRemainingPoints:function(t,e){var n=tg.HB.getState().scoreSettings,r=e[t],o=e["top"===t?"bottom":"top"],i=n.values.sieg,a=n.values.berg,s=n.values.schneider;if(!n.enabled.berg)return{title:"SIEG",remaining:i-r};if(o>=a){if(!n.enabled.schneider||r>=s)return{title:"SIEG",remaining:i-r};if(n.enabled.schneider)return{title:"SCHNEIDER",remaining:s-r}}return r>=a?{title:"SIEG",remaining:i-r}:n.enabled.berg?{title:"BERG",remaining:a-r}:{title:"SIEG",remaining:i-r}}}}),nQ=function(t){var e,n=t.mainTitle,r=t.subTitle,o=t.points,i=t.className,a=t.numberSize,s=void 0===a?"text-xl":a,c=(t.scoreSettings,t.scores),u=t.team,l=n$(),f=l.currentMultiplier,d=l.setMultiplier,m=l.getDividedPoints,h=l.getRemainingPoints,p=(0,tg.HB)(function(t){return t.farbeSettings}),g=function(t){if(Array.isArray(t))return t}(e=(0,w.useState)(!1))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{for(i=(n=n.call(t)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,2)||nZ(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=g[0],b=g[1];return(0,w.useEffect)(function(){var t=Object.values(p.values);d(Math.min(Math.max.apply(Math,nV(t.filter(function(t){return t>1}))),8))},[p.values,d]),(0,O.jsxs)("div",{children:[(0,O.jsx)("span",{className:"text-gray-400",children:n}),(0,O.jsxs)("div",{className:"grid grid-cols-3 gap-2 mt-0 ".concat(void 0===i?"":i),children:[(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)("span",{className:"text-gray-400 text-xs",children:r}),(0,O.jsx)("div",{className:"".concat(s," font-bold mt-0"),children:o})]}),(0,O.jsxs)("button",{onClick:function(){var t=nY.indexOf(f),e=t===nY.length-1?0:t+1;d(nY[e])},onMouseDown:function(){return b(!0)},onMouseUp:function(){return b(!1)},onMouseLeave:function(){return b(!1)},onTouchStart:function(){return b(!0)},onTouchEnd:function(){return b(!1)},className:"bg-orange-500 hover:bg-orange-600 text-white rounded-lg px-2 py-3 self-center mx-auto h-12 w-14 mt-4 transition-all duration-100 ".concat(y?"bg-orange-700 scale-95 opacity-80":"scale-100 opacity-100"),children:[f,"x"]}),(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsxs)("span",{className:"text-gray-400 text-xs",children:[f,"-fach"]}),(0,O.jsx)("div",{className:"".concat(s," font-bold mt-0"),children:m(h(u,c).remaining)})]})]})]})},n0=function(t){console.log("\uD83C\uDFD4️ Berg-Effekt!",t)},n1=function(t){console.log("\uD83C\uDF86 Bedanken-Effekt!",t)};function n2(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var n5=function(t){var e,n=t.type,r=t.team,o=t.condition,i=void 0===o||o,a=function(t){if(Array.isArray(t))return t}(e=(0,w.useState)(!1))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{for(i=(n=n.call(t)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,2)||function(t,e){if(t){if("string"==typeof t)return n2(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n2(t,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=a[0],c=a[1],u=tz(),l=u.isBergActive,f=u.isSiegActive,d=!!r&&("berg"===n?l(r):f(r)),m=(0,w.useCallback)(function(){r&&i&&c(!0)},[r,i]),h=(0,w.useCallback)(function(){if(r&&i){c(!1);var t=tz.getState(),e=t.addBerg,o=t.addSieg;"berg"===n?(e(r),n0({position:r,chargeAmount:s?1.5:1})):"sieg"===n&&(o(r),n1({position:r,chargeAmount:s?2:1}))}},[r,i,n,s]);return{isButtonActive:d,isPressed:s,handlers:{onMouseDown:m,onMouseUp:h,onMouseLeave:function(){return c(!1)},onTouchStart:m,onTouchEnd:function(t){t.preventDefault(),h()}}}};function n3(t){return(n3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function n6(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?n4(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==n3(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==n3(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===n3(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n4(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var n8=function(t){var e=t.handlers,n=t.isButtonActive,r=t.isPressed,o=t.showDepth,i=t.color,a=t.disabled,s=void 0!==a&&a,c=t.children;return(0,O.jsx)("button",n6(n6({},e),{},{disabled:!!s,className:"\n      py-4 text-white rounded-xl font-bold\n      transition-all duration-150\n      ".concat(n?"bg-".concat(i,"-600"):r?"bg-gray-700":"bg-gray-600","\n      ").concat(o?"border-b-4 border-t border-l border-r":"","\n      ").concat(o?s?"border-gray-500":"border-".concat(i,"-900"):"","\n      ").concat(r?"translate-y-1 shadow-inner opacity-80":s?"shadow-gray-500":"shadow-lg","\n    "),children:c}))};function n7(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return n9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n9(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n9(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var rt=function(t){var e,n=t.isOpen,r=t.onClose,o=tz(),i=o.currentRound,a=o.currentPlayer,s=o.playerNames,c=o.isBergActive,u=o.isSiegActive,l=o.scores,f=th().currentGameId,d=n7((0,w.useState)(!1),2),m=d[0],h=d[1],p=n7((0,w.useState)(!1),2),g=p[0],y=p[1],b=n7((0,w.useState)(""),2),v=b[0],S=b[1],x=n7((0,w.useState)(""),2),E=x[0],N=x[1],T=n7((0,w.useState)(""),2),P=T[0],C=T[1],k=n7((0,w.useState)(!0),2),A=k[0],I=k[1],L=tt(),R=L.pauseTimer,M=L.resumeTimer,G=L.getCurrentTime,_=L.gameStartTime,D=L.roundStartTime,z=L.jassStartTime,H=(0,tg.HB)(),B=H.isPaused,F=H.pauseGame,U=H.resumeGame,W=H.lastDoubleClickPosition,X=H.calculator.isFlipped,J=H.setCalculatorFlipped,K=H.scoreSettings,V=n$(),Z=V.currentMultiplier,q=V.getDividedPoints,Y=V.getRemainingPoints,$=X?"top":"bottom",Q=n5({type:"berg",team:$,condition:!0}),te=n5({type:"sieg",team:$,condition:!0}),tn=function(){B&&U(),r()},tr=function(){R(),F()},to=function(){M(),U()};(0,w.useEffect)(function(){var t=function(){var t=G();_&&S(nK(t-_,!1)),D&&N(nK(t-D,!0)),z&&C(nK(t-z,!1))};if(t(),n&&!B){var e=setInterval(t,1e3);return function(){return clearInterval(e)}}},[n,B,_,D,z,G]);var ti=(0,j.q_)({opacity:n?1:0,transform:"scale(".concat(n?1:.95,") rotate(").concat(X?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20}});(0,w.useEffect)(function(){n&&W&&J("top"===W)},[n,W]);var ta=(0,tY.X)(),ts=ta.isActive,tc=(0,ta.getCurrentStep)();return(0,w.useEffect)(function(){n&&ts&&(null==tc?void 0:tc.id)!==t$.RX.JASS_SETTINGS&&(null==tc?void 0:tc.id)!==t$.RX.GAME_INFO&&r()},[n,ts,tc,r]),(0,w.useEffect)(function(){n&&document.dispatchEvent(new Event("gameInfoOpen"))},[n]),(0,w.useEffect)(function(){if(n){I(!1);var t=setTimeout(function(){I(!0)},300);return function(){return clearTimeout(t)}}},[n]),(0,O.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 ".concat(n?"":"pointer-events-none"),onClick:function(t){B||!A||t.target.closest('[data-strich-box="true"]')||t.target!==t.currentTarget||tn()},children:(0,O.jsxs)(j.q.div,{style:ti,className:"relative w-11/12 max-w-md bg-gray-800 bg-opacity-95 rounded-xl p-6 shadow-lg select-none",onClick:function(t){return t.stopPropagation()},children:[(0,O.jsx)("h2",{className:"text-2xl font-bold text-white text-center mb-6",children:"Spielstand"}),(0,O.jsx)("button",{onClick:function(t){t.stopPropagation(),J(!X)},className:"absolute bottom-full mb-[-10px] left-1/2 transform -translate-x-1/2 \n            text-white hover:text-gray-300 transition-all duration-1000\n            w-24 h-24 flex items-center justify-center\n            rounded-full\n            ".concat(X?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,O.jsx)(t7.bxQ,{className:"w-8 h-8"})}),(0,O.jsx)("button",{onClick:tn,className:"absolute right-2 top-2 p-2 transition-colors\n            ".concat(B?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-white"),disabled:B,children:(0,O.jsx)(t7.q5L,{size:24})}),(0,O.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,O.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-white",children:[(0,O.jsxs)("div",{className:"text-center pl-5",children:[(0,O.jsx)("span",{className:"text-gray-400 text-xs",children:"Spiel"}),(0,O.jsx)("div",{className:"text-xl font-bold",children:f})]}),(0,O.jsxs)("div",{className:"text-center -ml-10 pl-0",children:[(0,O.jsx)("span",{className:"text-gray-400 text-xs",children:"Runde"}),(0,O.jsx)("div",{className:"text-xl font-bold",children:i})]}),(0,O.jsxs)("div",{className:"text-center -ml-10 pl-0",children:[(0,O.jsx)("span",{className:"text-gray-400 text-xs",children:"Spieldauer"}),(0,O.jsx)("div",{className:"text-xl font-bold",children:v})]}),(0,O.jsxs)("div",{className:"text-center -ml-8 pl-0",children:[(0,O.jsx)("span",{className:"text-gray-400 text-xs",children:"Jassdauer"}),(0,O.jsx)("div",{className:"text-xl font-bold",children:P})]})]}),(0,O.jsxs)("div",{className:"text-center text-white mt-1",children:[(0,O.jsx)("span",{className:"text-gray-400",children:"Spieler"}),(0,O.jsx)("div",{className:"text-3xl font-bold p-2 bg-gray-700 bg-opacity-50 rounded-xl mt-1",children:s[a]||"Spieler ".concat(a)})]}),(0,O.jsxs)("div",{className:"text-center text-white mt-1",children:[(0,O.jsx)("span",{className:"text-gray-400",children:"Zeit Runde"}),(0,O.jsx)("div",{className:"text-3xl font-bold p-2 bg-gray-700 bg-opacity-50 rounded-xl mt-1",children:E})]}),(0,O.jsx)("div",{className:"text-center text-white mt-3",children:(0,O.jsx)(nQ,{mainTitle:"Punkte bis",subTitle:Y(X?"top":"bottom",l).title,points:Y(X?"top":"bottom",l).remaining,team:X?"top":"bottom",numberSize:"text-3xl",scoreSettings:K,scores:l})}),(0,O.jsx)("div",{className:"text-center text-white mt-1",children:(0,O.jsxs)("div",{children:[(0,O.jsx)("span",{className:"text-gray-400",children:"Gegner"}),(0,O.jsxs)("div",{className:"grid grid-cols-3 gap-2 -mt-10",children:[(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)("span",{className:"text-gray-400 text-xs",children:Y(X?"bottom":"top",l).title}),(0,O.jsx)("div",{className:"text-xl font-bold mt-0",children:Y(X?"bottom":"top",l).remaining})]}),(0,O.jsx)("div",{className:"invisible"}),(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsxs)("span",{className:"text-gray-400 text-xs",children:[Z,"-fach"]}),(0,O.jsx)("div",{className:"text-xl font-bold mt-0",children:q(Y(X?"bottom":"top",l).remaining)})]})]})]})})]}),(0,O.jsxs)("div",{className:"space-y-4 max-w-md mx-auto mt-10",children:[(0,O.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,O.jsx)(n8,{handlers:Q.handlers,isButtonActive:Q.isButtonActive,isPressed:Q.isPressed,showDepth:g,color:"yellow",disabled:B||u("top")||u("bottom"),children:"BERG"}),(0,O.jsx)(n8,{handlers:te.handlers,isButtonActive:te.isButtonActive&&(null==K||null===(e=K.enabled)||void 0===e||!e.berg||c("top")||c("bottom")),isPressed:te.isPressed,showDepth:g,color:"yellow",disabled:B,children:"BEDANKEN"})]}),(0,O.jsx)("button",{onMouseDown:function(){return h(!0)},onMouseUp:function(){h(!1),B?(to(),y(!1)):(tr(),y(!0))},onMouseLeave:function(){return h(!1)},onTouchStart:function(){return h(!0)},onTouchEnd:function(t){t.preventDefault(),h(!1),B?(to(),y(!1)):(tr(),y(!0))},className:"\n              w-full py-2 text-white rounded-xl font-bold\n              transition-all duration-150\n              ".concat(g?"border-b-4 border-t border-l border-r":"","\n              ").concat(B?"bg-green-600 hover:bg-green-700 border-green-900":"bg-red-600 hover:bg-red-700 border-red-900","\n              ").concat(m?"translate-y-1 shadow-inner opacity-80":g?"translate-y-1 shadow-inner":"shadow-lg","\n            "),children:B?"Weiter":"Pause"})]})]})})},re=n(94),rn={WELCOME_SCREEN:"WELCOME_SCREEN",INSTALL_WELCOME:"INSTALL_WELCOME",INSTALL_SHARE:"INSTALL_SHARE",INSTALL_HOME:"INSTALL_HOME",INSTALL_FINAL:"INSTALL_FINAL",INSTALL_DONE:"INSTALL_DONE",FINAL_HINTS:"FINAL_HINTS"},rr={WELCOME_SCREEN:"WELCOME_SCREEN",INSTALL_WELCOME:"INSTALL_WELCOME",INSTALL_SHARE:"INSTALL_SHARE",INSTALL_HOME:"INSTALL_HOME",INSTALL_FINAL:"INSTALL_FINAL",FINAL_HINTS:"FINAL_HINTS"},ro=((u={}).INTRODUCTION="INTRODUCTION",u),ri={iOS:{WELCOME_SCREEN:{title:"Willkommen bei Jassguru",message:"Keine Diskussionen ums Z\xe4hlen, keine Zeitverschwendung f\xfcr Rechnereien, keine zerknitterten Zettel – hier kommt die digitale Jasstafel, die sich alles merkt und alles kann!",secondaryMessage:"Ihr macht die Stiche, ich schreib die Striche.",image:"/welcome-guru.png"},INSTALL_WELCOME:{title:"Jassguru in 3 Schritten",message:"Die moderne Jassguru-App funktioniert ganz ohne App Store. In drei einfachen Schritten bist du startklar:",image:"/welcome-guru.png"},INSTALL_SHARE:{title:"Schritt 1",message:"Tippe auf das Teilen-Symbol.",image:"/onboarding_pics/pfeilchenbox.png"},INSTALL_HOME:{title:"Schritt 2",message:'Scrolle hinunter und w\xe4hle "Zum Home-Bildschirm".',image:"/onboarding_pics/zumhomebildschirm.png"},INSTALL_FINAL:{title:"Schritt 3",message:'Tippe auf "Hinzuf\xfcgen".',image:"/onboarding_pics/hinzufuegen.png"},INSTALL_DONE:{title:"Fertig",message:"App \xf6ffnen und Jassen.",image:"/onboarding_pics/homescreen.png"},FINAL_HINTS:{title:"Letzte Hinweise",message:"",icon:ty.DAO}},Android:{WELCOME_SCREEN:{title:"Willkommen bei Jassguru",message:"Keine Diskussionen ums Z\xe4hlen, keine Zeitverschwendung f\xfcr Rechnereien, keine zerknitterten Zettel – hier kommt die digitale Jasstafel, die sich alles merkt und alles kann!",secondaryMessage:"Ihr macht die Stiche – ich schreib die Striche.",image:"/welcome-guru.png"},INSTALL_WELCOME:{title:"Jassguru in 3 Schritten",message:"Die moderne Jassguru-App funktioniert ganz ohne App Store. In drei einfachen Schritten bist du startklar:",icon:re.twS,image:"/welcome-guru.png"},INSTALL_SHARE:{title:"Schritt 1",message:"Klicke auf die drei Punkte.",image:"/onboarding_pics/android_menu.png"},INSTALL_HOME:{title:"Schritt 2",message:'W\xe4hle "Zum Startbildschirm hin..."',image:"/onboarding_pics/android_hinzufuegen.png"},INSTALL_FINAL:{title:"Schritt 3",message:"App \xf6ffnen und Jassen!",image:"/onboarding_pics/homescreen.png"},FINAL_HINTS:{title:"Abschliessende\nHinweise",message:"Vermeide es, die App mehrfach zu installieren. Das kann zu unerw\xfcnschtem Verhalten f\xfchren.",secondaryMessage:"Beim ersten \xd6ffnen der App wirst du durch alle wichtigen Funktionen gef\xfchrt.",finalMessage:"Viel Spass beim Jassen!",image:"/welcome-guru.png"}}},ra=function(){var t=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(t)?"iOS":/android/.test(t)?"Android":"other"};function rs(t){return(rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ru(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ru(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ru(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var rl=(l={},f=ro.INTRODUCTION,d={title:"Willkommen",message:"Willkommen bei Jassguru",icon:ty.DAO},(r=function(t,e){if("object"!==rs(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==rs(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(f,"string"),(f="symbol"===rs(r)?r:String(r))in l)?Object.defineProperty(l,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[f]=d,l),rf=function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=ra(),o="other"===r?"Android":r,i="iOS"===o?rn:rr,a=rc((0,w.useState)(n?"WELCOME_SCREEN":ro.INTRODUCTION),2),s=a[0],c=a[1],u=rc((0,w.useState)(!1),2),l=u[0],f=u[1];(0,w.useEffect)(function(){if(n){var t=Object.values(i),e=t.indexOf(s),r=t[e+1];if(r){var a=ri[o][r];"image"in a&&(new Image().src=a.image)}}},[s,n,o]);var d=(0,w.useCallback)(function(){tg.HB.getState().hideOnboarding(),f(!1)},[]),m=n?null===(t=ri[o])||void 0===t?void 0:t[s]:null!==(e=rl[s])&&void 0!==e?e:{title:"Fehler",message:"Inhalt nicht gefunden",icon:ty.DAO};return m||console.error("Kein Content gefunden f\xfcr Step: ".concat(s)),{currentStep:s,showOnboarding:n||l,content:m,handleNext:function(){var t=Object.values(n?i:ro),e=t.indexOf(s);c(e<t.length-1?t[e+1]:t[0])},handlePrevious:function(){var t=Object.values(n?i:ro),e=t.indexOf(s);c(e>0?t[e-1]:t[t.length-1])},handleDismiss:d,canBeDismissed:!0,isBrowserOnboarding:n}};function rd(t){return(rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function rh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rm(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==rd(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==rd(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===rd(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rm(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var rp=function(t){var e=t.content;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("h1",{className:"text-3xl font-bold mb-4 text-center text-white",children:"Willkommen bei Jassguru"}),e.image&&(0,O.jsx)("img",{src:e.image,alt:"Jass Guru",className:"w-full h-auto mb-6"}),(0,O.jsx)("p",{className:"text-center text-base mb-6",children:e.message}),e.secondaryMessage&&(0,O.jsx)("p",{className:"text-center text-base mb-6",children:e.secondaryMessage})]})},rg=function(){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("h1",{className:"text-3xl font-bold mb-4 text-center text-white",children:"Letzte Hinweise"}),(0,O.jsx)("img",{src:"/welcome-guru.png",alt:"Jass Guru",className:"w-32 h-32 object-contain mb-4"}),(0,O.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-300",children:"Achtung:"}),(0,O.jsx)("p",{className:"text-center text-base mb-6",children:"Vermeide es, die App mehrfach zu installieren – das kann zu unerw\xfcnschtem Verhalten f\xfchren!"}),(0,O.jsx)("h4",{className:"text-lg font-semibold mb-3 text-gray-300",children:"N\xe4chster Schritt:"}),(0,O.jsx)("p",{className:"text-center text-base mb-8",children:"Du kannst das Browser-Fenster nach der Installation schliessen. Beim ersten \xd6ffnen der App wirst du durch alle wichtigen Funktionen gef\xfchrt."}),(0,O.jsx)("h2",{className:"text-2xl font-bold text-center mb-8",children:"Gutes Jassen!"})]})},ry=function(t){var e=t.content;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("h1",{className:"text-3xl font-bold mb-4 text-center text-white",children:e.title}),e.image&&(0,O.jsx)("div",{className:"w-full mx-auto mb-6",children:(0,O.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-auto object-contain max-w-[280px] mx-auto"})}),e.icon&&(0,O.jsx)("div",{className:"text-yellow-600 mb-4",children:(0,O.jsx)(e.icon,{size:48})}),(0,O.jsx)("p",{className:"text-center text-base mb-7",children:e.message})]})},rb=function(t){var e=t.previousButton,n=t.nextButton;return t.step,(0,O.jsxs)("div",{className:"flex justify-between w-full gap-4",children:[(0,O.jsxs)("button",rh(rh({},e.handlers),{},{className:"\n        flex-1 bg-gray-600 text-white px-6 py-2 rounded-full \n        hover:bg-gray-700 transition-all duration-100 text-lg font-semibold \n        flex items-center justify-center\n        ".concat(e.buttonClasses,"\n      "),children:[(0,O.jsx)(ty.x_l,{className:"mr-2"}),"Zur\xfcck"]})),(0,O.jsx)("button",rh(rh({},n.handlers),{},{className:"\n        flex-1 bg-yellow-600 text-white px-6 py-2 rounded-full \n        hover:bg-yellow-700 transition-all duration-100 text-lg font-semibold \n        flex items-center justify-center\n        ".concat(n.buttonClasses,"\n      "),children:(0,O.jsxs)(O.Fragment,{children:["Weiter",(0,O.jsx)(ty.Z1Y,{className:"ml-2"})]})}))]})},rv=function(t){var e=t.show,n=t.step,r=t.content,o=t.onNext,i=t.onPrevious;t.onDismiss,t.canBeDismissed,t.isPWA,t.isBrowserOnboarding;var a=(0,ec.m)(i),s=(0,ec.m)(o),c="WELCOME_SCREEN"===n;return(0,O.jsx)(tb.M,{children:e&&(0,O.jsx)(tv.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-[9999] p-4",children:(0,O.jsx)(tv.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white",children:(0,O.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[c?(0,O.jsx)(rp,{content:r}):"FINAL_HINTS"===n?(0,O.jsx)(rg,{}):(0,O.jsx)(ry,{content:r}),(0,O.jsx)(rb,{previousButton:a,nextButton:s,step:n})]})},n)})})},rS=n(5523),rx=n(9077),rw=n(1554),rj=n(5308),rE=n(3574),rN=n(1239);t$.RX.CALCULATOR_OPEN,ty.KHI,t$.RX.GAME_INFO,rj.Jf7,t$.RX.CALCULATOR,ty.KHI,t$.RX.NAVIGATE_SCORES,rE.V4,t$.RX.RESULTAT_INFO,ty.DAO,t$.RX.NEW_GAME,t7.bxQ;var rO=function(){var t=(0,tY.X)(),e=t.startTutorial,n=t.resetTutorial,r=(0,tg.HB)(),o=r.closeTutorialInfo,i=r.isTutorialInfoOpen,a=(0,tg.HB)(function(t){return t.calculator.isFlipped}),s=(0,tg.HB)().setCalculatorFlipped,c=[{title:"Punkte schreiben",id:t$.RX.CALCULATOR_OPEN,icon:ty.KHI},{title:"Weisen",id:t$.RX.WEIS,icon:ty.KT8},{title:"Berg / Bedanken / Rechnen",id:t$.RX.GAME_INFO,icon:rj.Jf7},{title:"Resultate / Neues Spiel",id:t$.RX.RESULTAT_INFO,icon:eT.cmy,onEnter:function(){window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"open",teamPosition:"bottom",stepId:t$.RX.RESULTAT_INFO}}))}},{title:"L\xf6schen / Neuer Jass",id:t$.RX.NEW_GAME,icon:ty.AMf,onEnter:function(){window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"open",teamPosition:"bottom",stepId:t$.RX.NEW_GAME}}))}},{title:"Navigieren / Korrigieren",id:t$.RX.NAVIGATE_SCORES,icon:rE.V4},{title:"Individuelle Einstellungen",id:t$.RX.JASS_SETTINGS,icon:ty.p4t,onEnter:function(){window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"open",teamPosition:"bottom",stepId:t$.RX.JASS_SETTINGS}}))}},{title:"Tipps & Tricks",id:t$.RX.TIPS_WELCOME,icon:rN.sTU,onEnter:function(){e(t$.RX.TIPS_WELCOME)}}],u=function(t){var r,i=c.find(function(e){return e.id===t});n(),null==i||null===(r=i.onEnter)||void 0===r||r.call(i),e(t,{isHelpMode:!0}),o()},l=(0,j.q_)({opacity:i?1:0,transform:"scale(".concat(i?1:.95,") rotate(").concat(a?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20}});return i?(0,O.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50",onClick:function(t){t.target===t.currentTarget&&o()},children:(0,O.jsxs)(j.q.div,{style:l,className:"relative w-11/12 max-w-md bg-gray-800 bg-opacity-95 rounded-xl p-4 shadow-lg select-none",onClick:function(t){return t.stopPropagation()},children:[(0,O.jsx)("h2",{className:"text-2xl font-bold text-white text-center mb-4",children:"Hilfe & Anleitungen"}),(0,O.jsx)("div",{className:"flex justify-center mb-4",children:(0,O.jsx)(rE.r$n,{className:"w-12 h-12 text-yellow-600"})}),(0,O.jsx)("button",{onClick:function(){return s(!a)},className:"absolute bottom-full mb-[-10px] left-1/2 transform -translate-x-1/2 \n            text-white hover:text-gray-300 transition-all duration-1000\n            w-24 h-24 flex items-center justify-center rounded-full\n            ".concat(a?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,O.jsx)(t7.bxQ,{className:"w-8 h-8"})}),(0,O.jsx)("button",{onClick:o,className:"absolute right-2 top-2 p-2 text-gray-400 hover:text-white transition-colors",children:(0,O.jsx)(t7.q5L,{size:28})}),(0,O.jsx)("div",{className:"overflow-y-auto max-h-[60vh] pr-2 space-y-2",children:c.map(function(t){return(0,O.jsxs)("button",{onClick:function(){return u(t.id)},className:"w-full flex items-center gap-4 p-4 rounded-lg text-gray-200 hover:bg-gray-700 transition-colors text-xl",children:[t.icon&&(0,O.jsx)(t.icon,{className:"w-7 h-7 text-yellow-600"}),(0,O.jsx)("span",{children:t.title})]},t.id)})})]})}):null},rT=function(){var t=(0,tg.HB)(function(t){return t.notifications}),e=(0,tg.HB)(function(t){return t.removeNotification}),n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info";switch(t){case"warning":return(0,O.jsx)(ty.gJy,{className:"w-12 h-12 text-yellow-600 mb-2"});case"success":return(0,O.jsx)(ty.FJM,{className:"w-12 h-12 text-green-600 mb-2"});case"error":return(0,O.jsx)(ty.gJy,{className:"w-12 h-12 text-red-600 mb-2"});default:return(0,O.jsx)(ty.DAO,{className:"w-12 h-12 text-blue-600 mb-2"})}};return(0,O.jsx)(tb.M,{children:t.map(function(t){var r;return(0,O.jsxs)(tv.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-[9999] \n            ".concat(t.isFlipped?"rotate-180":""),children:[(0,O.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:function(){return e(t.id)}}),(0,O.jsxs)(tv.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white z-10",children:[(0,O.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[n(t.type),(0,O.jsx)("p",{className:"text-center mb-6",children:t.message})]}),(0,O.jsx)("div",{className:"flex justify-".concat((null===(r=t.actions)||void 0===r?void 0:r.length)===1?"center":"between"," gap-4"),children:t.actions?t.actions.map(function(n,r){return(0,O.jsx)("button",{onClick:function(){n.onClick(),t.preventClose||e(t.id)},className:"\n                      flex-1 px-6 py-2 rounded-full transition-colors text-lg font-semibold\n                      ".concat(r===t.actions.length-1?"bg-yellow-600 hover:bg-yellow-700":"bg-gray-600 hover:bg-gray-700","\n                      text-white\n                    "),children:n.label},r)}):(0,O.jsx)("button",{onClick:function(){return e(t.id)},className:"flex-1 bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors text-lg font-semibold",children:"Verstanden"})})]})]},t.id)})})};function rP(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return rC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rC(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rC(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function rk(t){var e=(0,w.useRef)();return(0,w.useEffect)(function(){e.current=t},[t]),e.current}var rA=function(t){var e,n,r,o,i,a,s,c,u,l,f,d,m,h=t.middleLineThickness,p=void 0===h?60:h,g=t.zShapeConfig,y=rP((0,w.useState)(!1),2),b=y[0],v=y[1],S=rP((0,w.useState)(!1),2),x=S[0],E=S[1],T=rP((0,w.useState)(null),2),P=T[0],C=T[1],k=tz(),A=k.isGameStarted,I=k.isGameCompleted,L=k.scores,R=L.top,M=L.bottom,G=k.currentPlayer,_=k.currentRound,D=k.updateScoreByStrich,z=th().isJassStarted,H=(0,tg.HB)(),B=H.menu.isOpen,F=H.setMenuOpen,U=H.historyWarning,W=H.isGameInfoOpen,X=H.setGameInfoOpen,J=(H.setLastDoubleClickPosition,H.setOverlayPosition),K=H.isTutorialInfoOpen,V=N(),Z=rP((0,w.useState)(function(){return(0,rS.E)()}),1)[0],q=rP((0,w.useState)(!Z),2),Y=q[0];q[1];var $=rP((0,w.useState)(!1),2),Q=$[0],tt=$[1],te=rf(Y),tn=te.currentStep,tr=te.showOnboarding,to=te.content,ti=te.handleNext,ta=te.handlePrevious,ts=(te.handleDismiss,te.canBeDismissed),tc=(0,tY.X)(),tu=tc.isActive,tl=tc.hasCompletedTutorial,tf=tc.getCurrentStep,td=tc.startTutorial;tc.setActive,(0,w.useEffect)(function(){Z||(tg.HB.getState().showOnboarding(!0,Z),tt(!0))},[Z]);var tm=(0,w.useMemo)(function(){return!z&&!A},[z,A]);(0,w.useEffect)(function(){v(!0)},[]),(0,w.useEffect)(function(){E(!1)},[]);var tp=(0,w.useMemo)(function(){if(!b)return{topContainerHeight:0,bottomContainerHeight:0,middleLinePosition:0};var t=(0,rS.E)()?parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--safe-area-top")||"0"):0,e=V-t-((0,rS.E)()?parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--safe-area-bottom")||"0"):0),n=Math.floor(e/2),r=Math.floor(e/2);return{topContainerHeight:r,bottomContainerHeight:r,middleLinePosition:n+t}},[V,p,b]),ty=tp.topContainerHeight,tb=tp.bottomContainerHeight,tv=tp.middleLinePosition,tS=t8({initialPosition:0,maxOffset:.07*V,position:"top"}),tw=tS.y,tj=tS.mainOpacity,tE=(tS.oppositeOpacity,tS.animateSwipe),tN=tS.getBrightness,tO=t8({initialPosition:0,maxOffset:.07*V,position:"bottom"}),tT=tO.y,tP=tO.mainOpacity,tC=(tO.oppositeOpacity,tO.animateSwipe),tk=tO.getBrightness,tA=(0,w.useCallback)(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"left";("top"===t?tE:tC)(e);var n="top"===t?tN:tk;n(1.2),setTimeout(function(){return n(1)},300)},[tE,tC,tN,tk]),tI=nJ("top"),tL=nJ("bottom"),tR=(0,w.useCallback)(function(t,e){if("left"===t||"right"===t){("top"===e?tI:tL).handleSwipe(t),tA(e,t);return}if("up"===t||"down"===t){var n="top"===e&&"up"===t||"bottom"===e&&"down"===t,r="top"===e&&"down"===t||"bottom"===e&&"up"===t;n?(J(e),C(e),setTimeout(function(){F(!0),tE(!0),tC(!0)},0)):r&&(F(!1),C(null),J(null),tE(!1),tC(!1))}},[tI,tL,tE,tC,F,J,tA]),tM=(0,w.useCallback)(function(t){B||(J(t),C(t),E(!0),window.dispatchEvent(new CustomEvent("calculatorOpen")))},[B]),tG=(0,w.useCallback)(function(){E(!1),C(null),J(null)},[]),t_=(n=(e={onSingleClick:function(t,e){C(t),"restzahl"===e?D(t,1):D(t,parseInt(e,10)||20)},middleLinePosition:tv,delay:300}).onSingleClick,o=void 0===(r=e.delay)?230:r,a=void 0===(i=e.middleLinePosition)?0:i,s=(0,w.useRef)(0),c=(0,w.useRef)(),l=(u=(0,tg.HB)()).setGameInfoOpen,f=u.setLastDoubleClickPosition,{handleGlobalClick:(0,w.useCallback)(function(t){var e=Date.now(),r=e-s.current,i=t.target.closest('[data-strich-box="true"]'),u=null==i?void 0:i.getAttribute("data-position"),d=null==i?void 0:i.getAttribute("data-box-type"),m=u||(t.clientY<a?"top":"bottom");r<o?(c.current&&clearTimeout(c.current),s.current=0,f(m),l(!0)):(s.current=e,c.current&&clearTimeout(c.current),c.current=setTimeout(function(){s.current=0,i&&u&&d&&n&&n(u,d)},o))},[o,a,l,f,n])}).handleGlobalClick;(0,w.useEffect)(function(){if(b){var t=setTimeout(function(){var t=window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px"))},0),e=setTimeout(function(){var t=window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px"))},100);return function(){clearTimeout(t),clearTimeout(e)}}},[b]),(0,w.useEffect)(function(){var t=function(){};return window.addEventListener("scroll",t,{passive:!1}),function(){return window.removeEventListener("scroll",t)}},[]);var tD=rk(R),tH=rk(M);(0,w.useEffect)(function(){void 0!==tD&&R!==tD&&tA("top",R>tD?"left":"right")},[R,tD,tA]),(0,w.useEffect)(function(){void 0!==tH&&M!==tH&&tA("bottom",M>tH?"left":"right")},[M,tH,tA]);var tB=(0,w.useCallback)(function(){F(!1),C(null),tE(!1),tC(!1)},[F,tE,tC]),tF=(0,w.useCallback)(function(t){},[]);(0,w.useEffect)(function(){console.log("Onboarding Status:",{showOnboarding:tr,forceOnboarding:Q,canBeDismissed:ts,isPWAInstalled:Z})},[tr,Q,ts,Z]),(0,w.useEffect)(function(){console.log("Tutorial Conditions:",{isPWA:Z,shouldShow:(0,rx.c9)(),hasCompleted:tl,mounted:b,isBrowserOnboarding:Y});var t=tY.X.getState();(Z||rx.r8)&&(0,rx.c9)()&&(!tl||rx.rR)&&b&&!t.isActive&&(console.log("Starting Tutorial!"),td())},[b,Z]);var tU=(0,w.useMemo)(function(){return tu?{handleSwipe:tR,handleLongPress:function(t){return tM(t)}}:null},[tu,tR,tM]);return((0,w.useEffect)(function(){var t=function(t){console.log("\uD83C\uDFAF Tutorial Split Container Event:",{action:t.detail.action,teamPosition:t.detail.teamPosition,currentStep:null===(e=tf())||void 0===e?void 0:e.id});var e,n=t.detail,r=n.action,o=n.teamPosition;"open"===r?(console.log("\uD83D\uDCC2 Opening container with:",{teamPosition:o,isMenuOpen:tg.HB.getState().menu.isOpen}),J(o),C(o),F(!0),requestAnimationFrame(function(){tE(!0),tC(!0)})):"close"===r&&(console.log("\uD83D\uDCC2 Closing container"),J(null),C(null),F(!1),requestAnimationFrame(function(){tE(!1),tC(!1)}))};return window.addEventListener("tutorial:splitContainer",t),function(){window.removeEventListener("tutorial:splitContainer",t)}},[tE,tC,F,tf]),b)?(0,O.jsxs)("div",{className:"relative w-full h-full overflow-hidden bg-chalk-black prevent-interactions",onClick:t_,onContextMenu:function(t){return t.preventDefault()},children:[(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(rw.default,{onCloseMenu:tB}),K&&(0,O.jsx)(rO,{})]}),!Z&&(0,O.jsx)(rv,{show:tr&&Q,step:tn,content:to,onNext:ti,onPrevious:ta,onDismiss:function(){},canBeDismissed:!1,isPWA:Z,isBrowserOnboarding:Y}),tm&&!tu?(0,O.jsx)(ew,{}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(t4,{position:"top",height:ty,zShapeConfig:g,padding:"paddingTop",onSwipe:null!==(d=null==tU?void 0:tU.handleSwipe)&&void 0!==d?d:tR,y:tw,mainOpacity:tj,getBrightness:tN,onLongPress:function(t){return tM(t)},score:R,triggerBlendEffect:tF,isHistoryNavigationActive:tI.isInPast}),(0,O.jsx)(j.q.div,{style:{position:"absolute",left:"5%",width:"90%",top:tv-p/2,height:"".concat(p/2,"px"),transform:tw.to(function(t){return"translateY(".concat(-t,"px)")})},className:"bg-chalk-red"}),(0,O.jsx)(j.q.div,{style:{position:"absolute",left:"5%",width:"90%",top:tv,height:"".concat(p/2,"px"),transform:tT.to(function(t){return"translateY(".concat(t,"px)")})},className:"bg-chalk-red"}),(0,O.jsx)(eO,{currentPlayer:G,currentRound:_,opacity:tj.get(),isOpen:B,isGameStarted:!I,gameStartTime:null,roundStartTime:null}),(0,O.jsx)(t4,{position:"bottom",height:tb,zShapeConfig:g,padding:"paddingBottom",onSwipe:null!==(m=null==tU?void 0:tU.handleSwipe)&&void 0!==m?m:tR,y:tT,mainOpacity:tP,getBrightness:tk,onLongPress:function(t){return tM(t)},score:M,triggerBlendEffect:tF,isHistoryNavigationActive:tL.isInPast}),x&&(0,O.jsx)(eh,{isOpen:x,onClose:tG,onCancel:tG,initialValue:0,clickedPosition:P}),(0,O.jsx)(eq,{isOpen:B,onClose:tB,swipePosition:P||"bottom"}),(0,O.jsx)(nX,{})]}),(0,O.jsx)(tx,{show:U.show,message:U.message,onConfirm:U.onConfirm,onDismiss:U.onCancel,swipePosition:P||"bottom"}),(0,O.jsx)(rt,{isOpen:W,onClose:function(){return X(!1)}}),(0,O.jsx)(rT,{})]}):null},rI=function(){return(0,O.jsx)("div",{className:"w-screen h-screen relative z-10",children:(0,O.jsx)(rA,{middleLineThickness:3,zShapeConfig:{innerSpacing:50,sideSpacing:0,edgeSpacing:70}})})}},630:function(t,e,n){"use strict";n.d(e,{X:function(){return x}});var r=n(1993),o=n(782),i=n(9077),a=n(2807),s=n(3574),c=n(968),u=n(4319),l=n(1773),f=n(5308),d=n(4830),m=n(1239),h=[{id:c.RX.WELCOME,title:"Willkommen zur\xfcck!",content:"Lass uns die wichtigsten Funktionen kennenlernen. F\xfchre die folgendenden Aktionen durch, um die App zu erkunden!",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-40}},image:"/welcome-guru.png",category:c.cz.BASIC,order:1,autoProgress:!1,onEnter:function(){console.log("\uD83C\uDFAC WELCOME onEnter"),window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"close",teamPosition:"bottom",stepId:c.RX.WELCOME}}))}},{id:c.RX.MENU_GESTURE,title:"Men\xfc \xf6ffnen",content:"Wische auf deiner H\xe4lfte der Jasstafel nach oben oder unten.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-90}},category:c.cz.BASIC,order:2,action:{type:"split",position:"bottom"},icon:s.Kgy,autoProgress:!1,onEnter:function(){window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"open",teamPosition:"bottom",stepId:c.RX.MENU_GESTURE}}))},onExit:function(){window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"close",teamPosition:"bottom",stepId:c.RX.MENU_GESTURE}}))}},{id:c.RX.WEIS,title:"Weise schreiben",content:"Tippe auf die Z-Linie um Weise einzutragen.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-90}},category:c.cz.BASIC,order:3,action:{type:"click",position:"bottom"},icon:l.KT8,autoProgress:!1,onExit:function(){u.HB.getState().setMenuOpen(!1)}},{id:c.RX.CALCULATOR_OPEN,title:"Punkte schreiben",content:"Dr\xfccke lange auf die Seite des z\xe4hlenden Teams, bis der Rechner erscheint. Tippe die Punkte ein, w\xe4hle die Farbe und best\xe4tige mit OK. Matsch hat seinen eigenen Knopf.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-90}},category:c.cz.BASIC,order:4,action:{type:"longpress",position:"bottom"},icon:l.KHI,autoProgress:!1,onEnter:function(){x.getState().setTutorialUIBlocking({calculatorClose:!1})},onExit:function(){x.getState().setTutorialUIBlocking({calculatorClose:!0})}},{id:c.RX.GAME_INFO,title:"Berg / Bedanken / Rechnen",content:"Doppelklicke auf die Seite des erfolgreichen Teams, um den Berg zu schreiben oder euch zu bedanken. Der orange Knopf hilft bei Berechnungen. Ausserdem ist hier auch die Pause-Funktion.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-90}},category:c.cz.BASIC,order:5,action:{type:"doubleclick",position:"bottom"},icon:f.Jf7,autoProgress:!1,onEnter:function(){x.getState().setTutorialUIBlocking({gameInfoClose:!1})},onExit:function(){u.HB.getState().closeAllOverlays(),x.getState().setTutorialUIBlocking({gameInfoClose:!1})}},{id:c.RX.RESULTAT_INFO,title:"Weiterjassen / Beenden",content:"Setze den Jass fort, beende ihn oder pr\xfcfe den Zwischenstand.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-90}},category:c.cz.BASIC,order:6,icon:d.cmy,autoProgress:!1,onEnter:function(){window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"open",teamPosition:"bottom",stepId:c.RX.RESULTAT_INFO}}))},onExit:function(){window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"close",teamPosition:"bottom",stepId:c.RX.RESULTAT_INFO}}))}},{id:c.RX.NAVIGATE_SCORES,title:"Punktestand korrigieren",content:"Swipe nach links oder rechts, um durch den Spielverlauf zu navigieren. Du kannst so den Punktestand jederzeit korrigieren.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-90}},category:c.cz.BASIC,order:7,icon:s.V4,autoProgress:!1,onEnter:function(){u.HB.getState().setMenuOpen(!1)}},{id:c.RX.NEW_GAME,title:"Neustart",content:"Hier startest du einen neuen Jass. Die alten Spiele werden dann gel\xf6scht.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-90}},category:c.cz.BASIC,order:8,action:{type:"split",position:"bottom"},icon:f.Z2m,autoProgress:!1,onEnter:function(){var t=u.HB.getState();t.setMenuOpen(!0),t.setOverlayPosition("bottom"),window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"open",teamPosition:"bottom",stepId:c.RX.NEW_GAME}})),x.getState().setTutorialUIBlocking({settingsClose:!0,calculatorClose:!0,gameInfoClose:!0,resultatKreidetafelClose:!0})},onExit:function(){var t=u.HB.getState();t.closeAllOverlays(),window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"close",teamPosition:"bottom",stepId:c.RX.NEW_GAME}})),t.tutorialBlockedUI={settingsClose:!1,calculatorClose:!1,gameInfoClose:!1,resultatKreidetafelClose:!1}}},{id:c.RX.JASS_SETTINGS,title:"Jass-Einstellungen",content:"Hier kannst du Zielpunkte, Farben und Multiplikatoren \xe4ndern. Bl\xe4ttere links oder rechts f\xfcr weitere Optionen.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-90}},category:c.cz.BASIC,order:9,action:{type:"split",position:"bottom"},icon:l.p4t,autoProgress:!1,onEnter:function(){var t=u.HB.getState();t.setMenuOpen(!0),t.setOverlayPosition("bottom"),window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"open",teamPosition:"bottom",stepId:c.RX.JASS_SETTINGS}})),t.tutorialBlockedUI={settingsClose:!0,calculatorClose:!0,gameInfoClose:!0,resultatKreidetafelClose:!0}},onExit:function(){var t=u.HB.getState();t.closeAllOverlays(),window.dispatchEvent(new CustomEvent("tutorial:splitContainer",{detail:{action:"close",teamPosition:"bottom",stepId:c.RX.JASS_SETTINGS}})),t.tutorialBlockedUI={settingsClose:!1,calculatorClose:!1,gameInfoClose:!1,resultatKreidetafelClose:!1}}},{id:c.RX.BASIC_COMPLETE,title:"Bingo!",content:"Du kennst nun alle wichtigen Funktionen. Du kannst jetzt losjassen!",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-40}},image:"/welcome-guru.png",category:c.cz.BASIC,order:10,autoProgress:!1,onEnter:function(){x.getState().markCategoryAsCompleted(c.cz.BASIC)},onExit:function(){x.getState().endTutorial(!0)}},{id:c.RX.SETTINGS,title:"Jass-Einstellungen",content:"Bevor wir loslegen, nehmen wir deine individuellen Einstellungen vor.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-90}},target:".settings-button",category:c.cz.SETTINGS,order:1,action:{type:"click"},icon:a.cPn,autoProgress:!1,hideNavigation:!0,navigation:{next:{targetStep:c.RX.SETTINGS_INTRO,skipSteps:!1}}},{id:c.RX.SETTINGS_INTRO,content:"Klicke auf die Kn\xf6pfe und w\xe4hle deine Pr\xe4ferenzen aus.",overlayPosition:{vertical:"bottom",horizontal:"center",offset:{y:-50}},category:c.cz.SETTINGS,order:2,autoProgress:!1,navigation:{next:{targetStep:c.RX.SETTINGS_NAVIGATE,skipSteps:!1},back:{targetStep:c.RX.SETTINGS,skipSteps:!1}},onEnter:function(){x.getState().setTutorialUIBlocking({settingsClose:!0})},onExit:function(){x.getState().setTutorialUIBlocking({settingsClose:!1})}},{id:c.RX.SETTINGS_NAVIGATE,content:"Wechsle zur n\xe4chsten Seite und nehme die Punkte-Einstellungen vor.",overlayPosition:{vertical:"bottom",horizontal:"center",offset:{y:120}},target:"#settings-navigation-next-button",category:c.cz.SETTINGS,order:3,action:{type:"click"},autoProgress:!0,hideNavigation:!0,navigation:{next:{targetStep:c.RX.SETTINGS_SCORES,skipSteps:!1},back:{targetStep:c.RX.SETTINGS_INTRO,skipSteps:!1}}},{id:c.RX.SETTINGS_SCORES,content:"Bestimme nun deine Zielpunktzahlen.",overlayPosition:{vertical:"bottom",horizontal:"center",offset:{y:-32}},category:c.cz.SETTINGS,order:4,autoProgress:!1,navigation:{next:{targetStep:c.RX.SETTINGS_NAVIGATE_STROKES,skipSteps:!1},back:{targetStep:c.RX.SETTINGS_NAVIGATE,skipSteps:!1}}},{id:c.RX.SETTINGS_NAVIGATE_STROKES,content:"Klicke wieder auf den Pfeil nach rechts, um die Striche-Einstellungen vorzunehmen.",overlayPosition:{vertical:"bottom",horizontal:"center",offset:{y:110}},category:c.cz.SETTINGS,order:5,action:{type:"click"},autoProgress:!0,hideNavigation:!0,navigation:{next:{targetStep:c.RX.SETTINGS_STROKES,skipSteps:!1},back:{targetStep:c.RX.SETTINGS_SCORES,skipSteps:!1}}},{id:c.RX.SETTINGS_STROKES,title:"Striche Einstellungen",content:"W\xe4hle wieviele Striche Schneider/Kontermatsch bei deiner Jassrunde z\xe4hlen.",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-50}},category:c.cz.SETTINGS,order:6,autoProgress:!1,hideNavigation:!0,navigation:{next:{targetStep:c.RX.BINGO_SETTINGS,skipSteps:!1},back:{targetStep:c.RX.SETTINGS_NAVIGATE_STROKES,skipSteps:!1}},onExit:function(){var t=u.HB.getState();t.splitContainer.isOpen=!1,t.menu.isOpen=!1,t.closeAllOverlays(),t.setMenuOpen(!1),t.tutorialBlockedUI={settingsClose:!1,calculatorClose:!1,gameInfoClose:!1,resultatKreidetafelClose:!1},console.log("\uD83E\uDDF9 Cleaning up after settings:",{splitContainerOpen:t.splitContainer.isOpen,menuOpen:t.menu.isOpen})}},{id:c.RX.BINGO_SETTINGS,title:"Bingo!",content:"Du hast die Jass-Einstellungen abgeschlossen. Du kannst diese jederzeit wieder \xe4ndern. Du kannst jetzt losjassen!",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-40}},image:"/welcome-guru.png",category:c.cz.SETTINGS,order:8,autoProgress:!1},{id:c.RX.CALCULATOR,title:"Punkte eintragen",content:"Halte die Seite des z\xe4hlenden Spielers lange gedr\xfcckt, um Punkte einzutragen.",overlayPosition:{vertical:"bottom",horizontal:"center"},target:".split-container",category:c.cz.GAME,order:1,action:{type:"longpress"}},{id:c.RX.TIPS_WELCOME,title:"Tipps & Tricks",content:"Hier noch ein paar Tipps, die dir das Jassen erleichtern:",overlayPosition:{vertical:"top",horizontal:"center",offset:{y:-40}},image:"/welcome-guru.png",category:c.cz.TIPS,order:1,autoProgress:!1,hideNavigation:!0},{id:c.RX.TIPS_QUICK_CLOSE,title:"Schnelles Schliessen",content:"Tipp: Du kannst alle Komponenten auch durch Klicken ausserhalb des Fensters schliessen - das ist oft schneller als den Schliessen-Button zu treffen.",overlayPosition:{vertical:"center",horizontal:"center"},category:c.cz.TIPS,order:2,icon:m.fZX,autoProgress:!1},{id:c.RX.TIPS_IPHONE_WAKE,title:"Tipp f\xfcr iPhone Nutzer",content:"Da die Wachhalte-Funktion auf iPhones nicht verf\xfcgbar ist, empfehlen wir dir die Auto-Sperre auf 5 Minuten einzustellen:\n\nEinstellungen → Bildschirm & Helligkeit → Automatische Sperre → 5 Minuten",overlayPosition:{vertical:"center",horizontal:"center"},category:c.cz.TIPS,order:3,icon:m.t8I,autoProgress:!1,onExit:function(){var t=x.getState();t.markCategoryAsCompleted(c.cz.TIPS),t.endTutorial(!0)}}],p=n(5523);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return b(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===g(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var x=(0,r.U)()((0,o.tJ)(function(t,e){return{isActive:!1,currentStepIndex:0,hasCompletedTutorial:!1,steps:h,tutorialUIBlocking:{settingsClose:!1,calculatorClose:!1,gameInfoClose:!1,resultatKreidetafelClose:!1},completedCategories:[],isHelpMode:!1,activeEvents:new Set,setActive:function(n){return t({isActive:n,currentStepIndex:n?e().currentStepIndex:0})},startTutorial:function(n,r){if(i.r8||(0,p.E)()){var o,a=e();(!a.hasCompletedTutorial||i.rR||n)&&(a.cleanupStepEvents(),t({isActive:!0,isHelpMode:null!==(o=null==r?void 0:r.isHelpMode)&&void 0!==o&&o,currentStepIndex:n?a.steps.findIndex(function(t){return t.id===n}):0}))}},endTutorial:function(n){e().cleanupStepEvents(),t({isActive:!1,isHelpMode:!1,currentStepIndex:0,hasCompletedTutorial:n})},nextStep:function(){var n,r,o=e(),i=o.steps,a=o.currentStepIndex,s=i[a];if(console.log("\uD83C\uDFAF Tutorial nextStep:",{from:null==s?void 0:s.id,currentIndex:a,nextIndex:a+1,nextStep:null===(u=i[a+1])||void 0===u?void 0:u.id}),null==s||null===(l=s.onExit)||void 0===l||l.call(s),null!=s&&s.navigation&&"next"in s.navigation){var c=s.navigation.next;if(null!=c&&c.targetStep){var u,l,f,d,m=i.findIndex(function(t){return t.id===c.targetStep});if(-1!==m){t({currentStepIndex:m}),null===(f=i[m])||void 0===f||null===(d=f.onEnter)||void 0===d||d.call(f);return}}}var h=a+1;h<i.length&&(t({currentStepIndex:h}),null===(n=i[h])||void 0===n||null===(r=n.onEnter)||void 0===r||r.call(n))},previousStep:function(){var n,r=e(),o=r.steps,i=r.currentStepIndex,a=o[i];if(null!=a&&null!==(n=a.navigation)&&void 0!==n&&n.back){var s=o.find(function(t){var e;return t.id===(null===(e=a.navigation)||void 0===e||null===(e=e.back)||void 0===e?void 0:e.targetStep)});null!=s&&s.onEnter&&s.onEnter();var c=o.findIndex(function(t){var e;return t.id===(null===(e=a.navigation)||void 0===e||null===(e=e.back)||void 0===e?void 0:e.targetStep)});if(-1!==c){t({currentStepIndex:c});return}}if(i>0){var u=o[i-1];u.onEnter&&u.onEnter(),t({currentStepIndex:i-1})}},skipTutorial:function(){return t({isActive:!1,hasCompletedTutorial:!0})},getCurrentStep:function(){var t=e(),n=t.steps,r=t.currentStepIndex;return t.isActive&&n?n[r]:null},resetTutorial:function(){return t({isActive:!1,currentStepIndex:0,hasCompletedTutorial:!1})},setTutorialUIBlocking:function(e){return t(function(t){return{tutorialUIBlocking:S(S({},t.tutorialUIBlocking),e)}})},markCategoryAsCompleted:function(e){return t(function(t){return{completedCategories:[].concat(y(t.completedCategories),[e])}})},isCategoryCompleted:function(t){return e().completedCategories.includes(t)},exitHelpStep:function(){var n=e();n.isHelpMode&&(n.cleanupStepEvents(),t({isActive:!1,isHelpMode:!1,currentStepIndex:0}))},cleanupStepEvents:function(){e().activeEvents.forEach(function(t){document.removeEventListener(t,function(){})}),t(function(t){return{activeEvents:new Set,tutorialUIBlocking:{calculatorClose:!1,gameInfoClose:!1,settingsClose:!1,resultatKreidetafelClose:!1}}})},registerEvent:function(e){t(function(t){return{activeEvents:new Set([].concat(y(t.activeEvents),[e]))}})}}},{name:i.r8?"dev-tutorial-storage":"jass-tutorial-storage",storage:(0,o.FL)(function(){return localStorage}),partialize:function(t){return{hasCompletedTutorial:t.hasCompletedTutorial,completedCategories:t.completedCategories}}}))},4319:function(t,e,n){"use strict";n.d(e,{HB:function(){return T}});var r,o,i,a=n(1993),s=n(782),c=n(7266),u=n(430),l=n(9337);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return m(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach(function(e){g(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function g(t,e,n){var r;return(r=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===f(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(){y=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(e,n,r,i){var a,s,c=Object.create((n&&n.prototype instanceof b?n:b).prototype);return o(c,"_invoke",{value:(a=new C(i||[]),s=m,function(n,o){if(s===h)throw Error("Generator is already running");if(s===p){if("throw"===n)throw o;return{value:t,done:!0}}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var c=function e(n,r){var o=r.method,i=n.iterator[o];if(i===t)return r.delegate=null,"throw"===o&&n.iterator.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+o+"' method")),g;var a=d(i,n.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var s=a.arg;return s?s.done?(r[n.resultName]=s.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,g)}(i,a);if(c){if(c===g)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===m)throw s=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=h;var u=d(e,r,a);if("normal"===u.type){if(s=a.done?p:"suspendedYield",u.arg===g)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=p,a.method="throw",a.arg=u.arg)}})}),c}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var m="suspendedStart",h="executing",p="completed",g={};function b(){}function v(){}function S(){}var x={};u(x,a,function(){return this});var w=Object.getPrototypeOf,j=w&&w(w(k([])));j&&j!==n&&r.call(j,a)&&(x=j);var E=S.prototype=b.prototype=Object.create(x);function N(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var n;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,s){var c=d(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==f(l)&&r.call(l,"__await")?e.resolve(l.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return n("throw",t,a,s)})}s(c.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}})}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function k(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw TypeError(f(e)+" is not iterable")}return v.prototype=S,o(E,"constructor",{value:S,configurable:!0}),o(S,"constructor",{value:v,configurable:!0}),v.displayName=u(S,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,u(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},N(O.prototype),u(O.prototype,s,function(){return this}),e.AsyncIterator=O,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new O(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},N(E),u(E,c,"Generator"),u(E,a,function(){return this}),u(E,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=k,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:k(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function b(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){n(t);return}s.done?e(c):Promise.resolve(c).then(r,o)}var v=((r={}).INSTALL="INSTALL",r.INTRODUCTION="INTRODUCTION",r.SCREEN_TIME="SCREEN_TIME",r),S={farbe:"jass-farbe-settings",score:"jass-score-settings",pictogram:"jass-pictogram-settings",strokes:"jass-stroke-settings"},x=function(t,e){try{localStorage.setItem(S[t],JSON.stringify(e))}catch(e){console.error("Fehler beim Speichern von ".concat(t,":"),e)}},w=function(t){return x("farbe",t)},j=function(){return{isActive:!1,pressStartTime:null,chargeAmount:0}},E={values:c.vK.map(function(t){return t.multiplier}),isFlipped:!1},N={values:Object.fromEntries(u.J3.map(function(t){return[t.id,t.defaultValue]})),isFlipped:!1,enabled:Object.fromEntries(u.J3.map(function(t){return[t.id,!0]}))},O={calculator:{isOpen:!1,value:0,isFlipped:!1},gameInfo:{isOpen:!1},startScreen:{transitionState:"initial",names:{1:"",2:"",3:"",4:""}},history:{warning:null},chargeEffects:{berg:{top:j(),bottom:j()},bedanken:{top:j(),bottom:j()},matsch:{top:j(),bottom:j()}},menu:{isOpen:!1,activeButton:null,showIntroduction:!1,showResetWarning:!1},resultatKreidetafel:{isOpen:!1,swipePosition:null,currentStatistic:"striche",animationComplete:!0},settings:{isOpen:!1,activeTab:"farben",cardStyle:"DE",pictogramConfig:{isEnabled:!0,mode:"svg"}},farbeSettings:E,scoreSettings:N,strokeSettings:l.wB,isGameInfoOpen:!1,isHistoryWarningOpen:!1,historyWarningCallback:null,lastDoubleClickPosition:null,historyWarning:{show:!1,message:"",onConfirm:function(){},onCancel:function(){}},isPaused:!1,strichStyle:{baseStrich:{length:20,width:1.5,color:"rgba(255, 255, 255, 0.9)",opacity:.9},diagonalStrich:{length:28,width:1.5,angle:45,offset:{x:-1,y:0}},container:{spacing:4,groupSpacing:8,scale:1}},overlayPosition:null,jassFinishNotification:{isOpen:!1,mode:"share",message:void 0,onShare:(o=y().mark(function t(){return y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}),i=function(){var t=this,e=arguments;return new Promise(function(n,r){var i=o.apply(t,e);function a(t){b(i,n,r,a,s,"next",t)}function s(t){b(i,n,r,a,s,"throw",t)}a(void 0)})},function(){return i.apply(this,arguments)}),onBack:function(){},onContinue:function(){}},onboarding:{currentStep:v.INSTALL,hasCompletedOnboarding:!0,show:!1,canBeDismissed:!0,isPWA:!1},isTutorialInfoOpen:!1,splitContainer:{isOpen:!1,position:"bottom"},tutorialBlockedUI:{settingsClose:!1,calculatorClose:!1,gameInfoClose:!1,resultatKreidetafelClose:!1},topSwipeAnimation:!1,bottomSwipeAnimation:!1,notifications:[]},T=(0,a.U)()((0,s.tJ)(function(t,e){return p(p({},O),{},{resetStartScreen:function(){return t(function(t){return p(p({},t),{},{startScreen:{transitionState:"initial",names:{1:"",2:"",3:"",4:""}}})})},startCharge:function(e,n){return t(function(t){return{chargeEffects:p(p({},t.chargeEffects),{},g({},n,p(p({},t.chargeEffects[n]),{},g({},e,{isActive:!0,pressStartTime:Date.now(),chargeAmount:0}))))}})},updateCharge:function(n,r){var o=e().chargeEffects[r][n];if(o.isActive&&o.pressStartTime){var i=Date.now()-o.pressStartTime;t(function(t){return{chargeEffects:p(p({},t.chargeEffects),{},g({},r,p(p({},t.chargeEffects[r]),{},g({},n,p(p({},o),{},{chargeAmount:Math.min(i/1e3,1)})))))}})}},endCharge:function(e,n){return t(function(t){return{chargeEffects:p(p({},t.chargeEffects),{},g({},n,p(p({},t.chargeEffects[n]),{},g({},e,j()))))}})},resetChargeEffects:function(){return t(function(){return{chargeEffects:{berg:{top:j(),bottom:j()},bedanken:{top:j(),bottom:j()},matsch:{top:j(),bottom:j()}}}})},openCalculator:function(){var n=e();n.tutorialBlockedUI.calculatorClose||t({calculator:p(p({},n.calculator),{},{isOpen:!0})})},closeCalculator:function(){return t(function(t){return{calculator:p(p({},t.calculator),{},{isOpen:!1})}})},setCalculatorFlipped:function(e){return t(function(t){return{calculator:p(p({},t.calculator),{},{isFlipped:e})}})},setStartScreenState:function(e){return t(function(t){return{startScreen:p(p({},t.startScreen),{},{transitionState:e})}})},setStartScreenNames:function(e){return t(function(t){return{startScreen:p(p({},t.startScreen),{},{names:e})}})},setMenuActiveButton:function(e){return t(function(t){return{menu:p(p({},t.menu),{},{activeButton:e})}})},setShowIntroduction:function(e){return t(function(t){return{menu:p(p({},t.menu),{},{showIntroduction:e})}})},setShowResetWarning:function(e){return t(function(t){return{menu:p(p({},t.menu),{},{showResetWarning:e})}})},resetAll:function(){return t(function(){return{calculator:{isOpen:!1,value:0,isFlipped:!1},gameInfo:{isOpen:!1},startScreen:{transitionState:"initial",names:{1:"",2:"",3:"",4:""}},history:{warning:null},chargeEffects:{berg:{top:j(),bottom:j()},bedanken:{top:j(),bottom:j()},matsch:{top:j(),bottom:j()}},menu:{isOpen:!1,activeButton:null,showIntroduction:!1,showResetWarning:!1},resultatKreidetafel:{isOpen:!1,swipePosition:null,currentStatistic:"striche",animationComplete:!0},historyWarning:{show:!1,message:"",onConfirm:function(){},onCancel:function(){}}}})},setMenuOpen:function(e){return t(function(t){return{menu:p(p({},t.menu),{},{isOpen:e}),overlayPosition:e?t.overlayPosition:null}})},openResultatKreidetafel:function(e){return t({resultatKreidetafel:{isOpen:!0,swipePosition:e,currentStatistic:"striche",animationComplete:!1},overlayPosition:e})},closeResultatKreidetafel:function(){return t({resultatKreidetafel:{isOpen:!1,swipePosition:null,currentStatistic:"striche",animationComplete:!0}})},setGameInfoOpen:function(e){return t({isGameInfoOpen:e})},setHistoryWarningOpen:function(e){return t({isHistoryWarningOpen:e})},setHistoryWarningCallback:function(e){return t({historyWarningCallback:e})},setLastDoubleClickPosition:function(e){return t({lastDoubleClickPosition:e})},showHistoryWarning:function(e){t({historyWarning:{show:!0,message:e.message,onConfirm:e.onConfirm,onCancel:e.onCancel}})},closeHistoryWarning:function(){return t(function(t){return{historyWarning:p(p({},t.historyWarning),{},{show:!1})}})},pauseGame:function(){return t({isPaused:!0})},resumeGame:function(){return t({isPaused:!1})},setKreidetafelPosition:function(e){return t(function(t){return{resultatKreidetafel:p(p({},t.resultatKreidetafel),{},{swipePosition:e})}})},setKreidetafelStatistic:function(e){return t(function(t){return{resultatKreidetafel:p(p({},t.resultatKreidetafel),{},{currentStatistic:e})}})},setStrichStyle:function(e){return t(function(t){return{strichStyle:p(p({},t.strichStyle),e)}})},openFarbeSettings:function(){return t(function(t){return{settings:p(p({},t.settings),{},{isOpen:!0,activeTab:"farben"})}})},closeFarbeSettings:function(){return t(function(t){return{settings:p(p({},t.settings),{},{isOpen:!1})}})},setFarbeMultiplier:function(n,r){var o=e().farbeSettings,i=d(o.values);if(i[n]=r,i.every(function(t){return t>=0&&t<=8})){var a=p(p({},o),{},{values:i});w(a),t({farbeSettings:a})}},setFarbeFlipped:function(n){var r=p(p({},e().farbeSettings),{},{isFlipped:n});w(r),t({farbeSettings:r})},updateFarbeSettings:function(e){return t(function(t){var n=p(p({},t.farbeSettings),e);return(0,c.MZ)(n)?(x("farbe",n),{farbeSettings:n}):t})},openScoreSettings:function(){return t(function(t){return{settings:p(p({},t.settings),{},{isOpen:!0,activeTab:"scores"})}})},closeScoreSettings:function(){return t(function(t){return{settings:p(p({},t.settings),{},{isOpen:!1})}})},updateScoreSettings:function(e){return t(function(t){return{scoreSettings:p(p({},t.scoreSettings),e)}})},setScoreValue:function(e,n){(0,u.VM)(e,n)&&t(function(t){return{scoreSettings:p(p({},t.scoreSettings),{},{values:p(p({},t.scoreSettings.values),{},g({},e,n))})}})},toggleScoreEnabled:function(e){return t(function(t){return{scoreSettings:p(p({},t.scoreSettings),{},{enabled:p(p({},t.scoreSettings.enabled),{},g({},e,!t.scoreSettings.enabled[e]))})}})},setSettingsTab:function(e){return t(function(t){return{settings:p(p({},t.settings),{},{activeTab:e})}})},openSettings:function(){return t(function(t){return{settings:p(p({},t.settings),{},{isOpen:!0})}})},closeSettings:function(){return t(function(t){return{settings:p(p({},t.settings),{},{isOpen:!1})}})},cyclePictogramMode:function(){return t(function(t){var e,n=t.settings.pictogramConfig;return x("pictogram",e=n.isEnabled?"svg"===n.mode?{isEnabled:!0,mode:"emoji"}:{isEnabled:!1,mode:"svg"}:{isEnabled:!0,mode:"svg"}),{settings:p(p({},t.settings),{},{pictogramConfig:e})}})},updateScoreValue:function(e,n){return t(function(t){if(!(0,u.VM)(e,n))return t;var r=p({},t.scoreSettings.values);if(r[e]=n,"sieg"===e){var o=Math.floor(n/2);r.berg=Math.min(r.berg,o),r.schneider=Math.min(r.schneider,o)}var i=p(p({},t.scoreSettings),{},{values:r});return x("score",i),{scoreSettings:i}})},updateSettings:function(e,n){t(function(t){var r=p(p({},"farbe"===e?t.farbeSettings:t.scoreSettings),n);return x(e,r),g({},"".concat(e,"Settings"),r)})},setOverlayPosition:function(e){return t({overlayPosition:e})},showJassFinishNotification:function(e){return t({jassFinishNotification:p(p({mode:"share",message:{text:"",icon:"♥️"}},e),{},{isOpen:!0})})},closeJassFinishNotification:function(){return t({jassFinishNotification:{isOpen:!1,mode:"share",message:{text:"",icon:"♥️"}}})},setOnboardingStep:function(e){return t(function(t){return{onboarding:p(p({},t.onboarding),{},{currentStep:e})}})},completeOnboarding:function(){return t(function(t){return{onboarding:p(p({},t.onboarding),{},{hasCompletedOnboarding:!0})}})},showOnboarding:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t(function(t){return{onboarding:p(p({},t.onboarding),{},{show:!0,canBeDismissed:e,isPWA:n})}})},hideOnboarding:function(){return t(function(t){return{onboarding:p(p({},t.onboarding),{},{show:!1,hasCompletedOnboarding:!0})}})},setCardStyle:function(e){return t(function(t){return{settings:p(p({},t.settings),{},{cardStyle:e})}})},updateStrokeSettings:function(e){(0,l.qL)(e)&&t(function(t){return{strokeSettings:p(p({},t.strokeSettings),e)}})},setStrokeValue:function(e,n){(0,l.qL)(g({},e,n))&&t(function(t){return{strokeSettings:p(p({},t.strokeSettings),{},g({},e,n))}})},openTutorialInfo:function(){return t({isTutorialInfoOpen:!0})},closeTutorialInfo:function(){return t({isTutorialInfoOpen:!1})},closeAllOverlays:function(){return t(function(t){return p(p({},t),{},{menu:p(p({},t.menu),{},{isOpen:!1}),isGameInfoOpen:!1})})},openMenu:function(){return t(function(t){return p(p({},t),{},{menu:p(p({},t.menu),{},{isOpen:!0})})})},setSplitContainer:function(e,n){return t(function(t){return{splitContainer:{isOpen:e,position:n}}})},closeGameInfo:function(){return t(function(t){return{gameInfo:p(p({},t.gameInfo),{},{isOpen:!1})}})},tutorialBlockedUI:{settingsClose:!1,calculatorClose:!1,gameInfoClose:!1,resultatKreidetafelClose:!1},openGameInfo:function(){e().tutorialBlockedUI.gameInfoClose||t({gameInfo:{isOpen:!0}})},setTopSwipeAnimation:function(e){return t({topSwipeAnimation:e})},setBottomSwipeAnimation:function(e){return t({bottomSwipeAnimation:e})},showNotification:function(e){return t(function(t){return{notifications:[].concat(d(t.notifications),[p(p({},e),{},{id:Math.random().toString(36).substr(2,9),timestamp:Date.now(),type:e.type||"info",position:e.position||"bottom"})])}})},removeNotification:function(e){return t(function(t){return{notifications:t.notifications.filter(function(t){return t.id!==e})}})},setResultatPosition:function(e){return t(function(t){return{resultatKreidetafel:p(p({},t.resultatKreidetafel),{},{swipePosition:e})}})},setResultatAnimationComplete:function(e){return t(function(t){return{resultatKreidetafel:p(p({},t.resultatKreidetafel),{},{animationComplete:e})}})}})},{name:"jass-ui-storage",partialize:function(t){return{farbeSettings:t.farbeSettings,scoreSettings:t.scoreSettings,strokeSettings:t.strokeSettings,settings:p(p({},t.settings),{},{cardStyle:t.settings.cardStyle,pictogramConfig:t.settings.pictogramConfig})}}}));T.persist.rehydrate()},968:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){var o;return(o=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===r(o)?o:String(o))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{RX:function(){return s},cz:function(){return c}});var i,a,s=((i={}).WELCOME="WELCOME",i.MENU_GESTURE="MENU_GESTURE",i.CALCULATOR_OPEN="CALCULATOR_OPEN",i.CALCULATOR_INPUT="CALCULATOR_INPUT",i.GAME_INFO="GAME_INFO",i.RESULTAT_INFO="RESULTAT_INFO",i.BASIC_COMPLETE="BASIC_COMPLETE",i.SETTINGS="SETTINGS",i.SETTINGS_INTRO="SETTINGS_INTRO",i.SETTINGS_CARDS="SETTINGS_CARDS",i.SETTINGS_PICTOGRAMS="SETTINGS_PICTOGRAMS",i.SETTINGS_MULTIPLIER="SETTINGS_MULTIPLIER",i.SETTINGS_CONFIGURE="SETTINGS_CONFIGURE",i.SETTINGS_NAVIGATE="SETTINGS_NAVIGATE",i.SETTINGS_SCORES="SETTINGS_SCORES",i.SETTINGS_NAVIGATE_STROKES="SETTINGS_NAVIGATE_STROKES",i.SETTINGS_STROKES="SETTINGS_STROKES",i.NAVIGATE_SCORES="NAVIGATE_SCORES",i.BINGO_SETTINGS="BINGO_SETTINGS",i.CALCULATOR="CALCULATOR",i.WEIS="WEIS",i.HISTORY="HISTORY",i.BERG_INFO="BERG_INFO",i.GAME_CONTROL="GAME_CONTROL",i.GAME_MONITOR="GAME_MONITOR",i.TIPS_TRICKS="TIPS_TRICKS",i.NEW_GAME="NEW_GAME",i.JASS_SETTINGS="JASS_SETTINGS",i.TIPS_WELCOME="TIPS_WELCOME",i.TIPS_QUICK_CLOSE="TIPS_QUICK_CLOSE",i.TIPS_IPHONE_WAKE="TIPS_IPHONE_WAKE",i),c=((a={}).BASIC="basic",a.GAME="game",a.SETTINGS="settings",a.ADVANCED="advanced",a.TIPS="tips",a);o(o(o(o(o({},c.BASIC,"Grundlegende Bedienung"),c.GAME,"Spielablauf"),c.SETTINGS,"Einstellungen"),c.ADVANCED,"Erweiterte Funktionen"),c.TIPS,"Tipps & Tricks")},5523:function(t,e,n){"use strict";n.d(e,{E:function(){return r}});var r=function(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://")}},9077:function(t,e,n){"use strict";n.d(e,{c9:function(){return a},r8:function(){return o},rR:function(){return i}});var r=n(630),o=!1,i=!0,a=function(){return!!o&&!!i||!r.X.getState().hasCompletedTutorial}},8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(959)}])}},function(t){t.O(0,[391,838,509,127,130,396,365,738,729,754,888,774,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);