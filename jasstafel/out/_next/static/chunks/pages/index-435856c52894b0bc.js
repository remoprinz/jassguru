(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5828:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return ns}});var n,o,i,a,s,c,u,l,f,d,m,h=r(7294),p=r(32);function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var y=function(){var t,e=function(t){if(Array.isArray(t))return t}(t=(0,h.useState)(function(){return window.innerHeight}))||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{for(i=(r=r.call(t)).next;!(c=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,2)||function(t,e){if(t){if("string"==typeof t)return g(t,2);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(t,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=e[0],n=e[1];return(0,h.useEffect)(function(){var t=function(){var t=window.innerHeight;n(t),document.documentElement.style.setProperty("--vh","".concat(t,"px"))};t();var e=setTimeout(t,100);return window.addEventListener("resize",t),window.addEventListener("orientationchange",t),function(){clearTimeout(e),window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[]),r},b=r(5893),v=function(t){var e=t.className,r=t.outerStrokeWidth,n=void 0===r?2:r,o=t.diagonalStrokeWidth,i=t.position,a=t.onShapeRendered,s=(0,h.useRef)(null);(0,h.useEffect)(function(){if(s.current&&a){var t=s.current.getBoundingClientRect();a({width:t.width,height:t.height,left:t.left,top:t.top})}},[a]);var c=Math.sqrt(2);return(0,b.jsx)("svg",{ref:s,className:e,viewBox:"0 0 120 100",preserveAspectRatio:"xMidYMid meet",children:(0,b.jsxs)("g",{transform:"top"===i?"translate(0, 0)":"none",children:[(0,b.jsx)("path",{d:"M0 0 L110 0",stroke:"currentColor",strokeWidth:n,fill:"none"}),(0,b.jsx)("path",{d:"M0 100 L110 0",stroke:"currentColor",strokeWidth:(void 0===o?.75:o)*c,fill:"none"}),(0,b.jsx)("path",{d:"M0 100 L110 100",stroke:"currentColor",strokeWidth:n,fill:"none"})]})})},x=function(t){var e=t.onSwipeUp,r=t.onSwipeDown,n=t.onSwipeLeft,o=t.onSwipeRight,i=t.threshold,a=void 0===i?50:i,s=t.element;(0,h.useEffect)(function(){var t=null,i=null,c=function(e){e.target.closest('[data-swipe-area="'.concat(s,'"]'))&&(t=e.touches[0].clientX,i=e.touches[0].clientY)},u=function(s){if(null!==t&&null!==i){var c=s.touches[0].clientX,u=s.touches[0].clientY,l=t-c,f=i-u;Math.abs(l)>Math.abs(f)?Math.abs(l)>a&&(l>0&&n?n():l<0&&o&&o(),t=null,i=null):Math.abs(f)>a&&(f>0&&e?e():f<0&&r&&r(),t=null,i=null)}};return document.addEventListener("touchstart",c),document.addEventListener("touchmove",u),function(){document.removeEventListener("touchstart",c),document.removeEventListener("touchmove",u)}},[e,r,n,o,a,s])},S=r(796);function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(Object(r),!0).forEach(function(e){var n,o;n=e,o=r[e],(n=function(t){var e=function(t,e){if("object"!==w(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==w(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===w(e)?e:String(e)}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}(0,S.ZP)("div")({position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start"}),(0,S.ZP)(p.q.div,{shouldForwardProp:function(t){return"isVertical"!==t&&"color"!==t}})(function(t){var e=t.isVertical;return{position:"absolute",backgroundColor:t.color,width:"2px",height:e?"100%":"2px",transformOrigin:"top left"}});var P=(0,S.ZP)("div")(function(t){return{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",transform:t.isRotated?"rotate(180deg)":"rotate(0)",transformOrigin:"center center"}}),N=function(t){var e=t.stricheCount,r=(t.stricheCounts,t.einheitWert),n=t.strichColor,o=t.animationDuration,i=(t.isActive,t.direction),a=t.edgeOffset,s=t.strichSpacing,c=void 0===s?10:s,u=t.einheitSpacing,l=void 0===u?50:u,f=t.position,d=t.isRotated,m=t.xSize,g=void 0===m?20:m,y=t.isXMode,v=void 0!==y&&y,x=t.xAngle,S=void 0===x?15:x,w=(t.xAlignment,t.isDiagonal,t.diagonalAngle,t.diagonalStrichHeight),j=void 0===w?"100%":w,N=t.diagonalStrichWidth,E=void 0===N?"2px":N,k=(t.diagonalStrichOffset,t.diagonalStrichAngle),C=void 0===k?0:k,T=t.topDiagonalStrichOffset,A=t.bottomDiagonalStrichOffset,L=t.topDiagonalStrichAngle,I=void 0===L?0:L,D=t.bottomDiagonalStrichAngle,R=void 0===D?0:D,G=t.diagonalStrichOffset100er,M=t.diagonalStrichOffset20er,_=t.diagonalStrichAngle100er,F=t.diagonalStrichAngle20er,H=t.xSpacing,z=void 0===H?10:H,W=t.xOffset100erTop,B=void 0===W?63:W,J=t.xOffset100erBottom,U=void 0===J?40:J;t.offset;var K=Math.floor(e/5),q=e%5,V=e>0;(0,p.q_)({from:{scaleY:0},to:{scaleY:V?1:0},config:O(O({},p.vc.stiff),{},{duration:void 0===o?1e3:o})});var Y=(0,h.useCallback)(function(t,e,o){var s=Math.floor(t/5),u=t%5,d=s*(l+4*c),m=u*c;if(4===u){var h,p,g=3*c;100===r&&G?(h=G,p=_||C):20===r&&M?(h=M,p=F||C):(h="top"===f?T:A,p="top"===f?I:R);var y=O(O({position:"absolute",height:j,width:E},"top"===f?{right:"calc(".concat(a+d+g,"px + ").concat(h.horizontal," ").concat(100===r?"- 0px":"",")"),top:"calc(0px + ".concat(h.vertical,")")}:{left:"calc(".concat(a+d,"px + ").concat(h.horizontal,")"),bottom:"calc(0px + ".concat(h.vertical,")")}),{},{transform:"rotate(".concat(p,"deg)"),transformOrigin:"bottom left",backgroundColor:n});return(0,b.jsx)("div",{style:y},"strich-".concat(t))}if(o){if("ltr"===i){var v,x="bottom"===f&&0===r?0:5;v={left:"".concat(a+d+m+x,"px")}}else v={right:"".concat(a+d+m,"px")};var S=O({position:"absolute",height:"100%",width:"2px"},v);return(0,b.jsx)("div",{style:O(O({},S),{},{backgroundColor:n})},"strich-".concat(t))}return null},[n,i,a,j,E,C,c,l,f,T,A,I,R,r,G,M,_,F]),Z=(0,h.useCallback)(function(t){return(0,b.jsxs)(h.Fragment,{children:[[0,1,2,3].map(function(e){return Y(5*t+e,!1,!0)}),Y(5*t+4,!1,!1)," "]},"einheit-".concat(t))},[Y]),$=(0,h.useMemo)(function(){return Array.from({length:K}).map(function(t,e){return Z(e)})},[K,Z]),X=(0,h.useMemo)(function(){return Array.from({length:q}).map(function(t,e){return Y(5*K+e,!1,e<4)})},[q,K,Y]),Q=(0,h.useMemo)(function(){if(V){var t=e-1;return Y(t,!0,t%5<4)}return null},[V,e,Y]),tt=(0,h.useCallback)(function(){return Array.from({length:Math.ceil(e/2)}).map(function(t,e){return"".concat(35*e,"px")})},[e]),te=(0,h.useCallback)(function(){return tt().map(function(t,r){var o=2*r+2<=e,i=2*r+1===e,a={position:"absolute",width:"0%",height:"104%",top:"50%",transform:"translateY(-50%)"};return"top"===f?a.right="calc(".concat(t," + 40px)"):a.left="calc(".concat(t," + 20px)"),(0,b.jsxs)("div",{style:a,children:[(0,b.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:n,transform:"rotate(".concat(S,"deg)"),transformOrigin:"center",opacity:o||i?1:0}}),(0,b.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:n,transform:"rotate(-".concat(S,"deg)"),transformOrigin:"center",opacity:o?1:0}})]},"x-".concat(r))})},[tt,e,S,n,f]),tr=(0,h.useCallback)(function(){var t=Math.floor(e/10);return t>0?(0,b.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:Array.from({length:t}).map(function(t,e){return(0,b.jsxs)("div",{style:O(O({position:"absolute"},"top"===f?{right:"".concat(23+e*(g+15),"px")}:{left:"".concat(23+e*(g+15),"px")}),{},{top:"50%",transform:"translateY(-50%)",width:"".concat(g,"px"),height:"107%"}),children:[(0,b.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:n,transform:"rotate(".concat(S,"deg)"),transformOrigin:"center"}}),(0,b.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:n,transform:"rotate(-".concat(S,"deg)"),transformOrigin:"center"}})]},"hundred-x-".concat(e))})}):null},[e,n,g,S,f]),tn=(0,h.useMemo)(function(){if(v)return te();if(100===r){var t=Math.floor(e/10),n=e-10*t,o=t*(g+z),i=null!=B?B:63,a=null!=U?U:40;return(0,b.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[tr(),n>0&&(0,b.jsx)("div",{style:O(O({position:"absolute"},"top"===f?{right:t>0?"calc(".concat(o,"px + ").concat(i,"px)"):"calc(".concat(25,"px + 16px)")}:{left:t>0?"calc(".concat(o,"px + ").concat(a,"px)"):"calc(".concat(25,"px - 8px)")}),{},{top:0,bottom:0,width:"".concat(n*c,"px")}),children:Array.from({length:n}).map(function(t,e){return Y(e,!1,!0)})})]})}if(20!==r)return(0,b.jsxs)(b.Fragment,{children:[$,X,Q]});var s=Math.floor(e/5),u=e%5,d=s*(l+4*c)+u*c;return(0,b.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:(0,b.jsxs)("div",{style:O(O({position:"absolute"},"top"===f?{right:"25px"}:{left:"0px"}),{},{top:0,bottom:0,width:"".concat(d,"px")}),children:[Array.from({length:s}).map(function(t,e){return Z(e)}),Array.from({length:u}).map(function(t,e){return Y(5*s+e,!1,e<4)})]})})},[e,r,v,te,tr,g,z,f,c,Y,$,X,Q,l,Z]);return(0,h.useEffect)(function(){},[e]),(0,b.jsx)(P,{isRotated:void 0!==d&&d,children:tn})},E=r(1993);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(){C=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(e,r,n,i){var a,s,c=Object.create((r&&r.prototype instanceof g?r:g).prototype);return o(c,"_invoke",{value:(a=new E(i||[]),s=d,function(r,o){if(s===m)throw Error("Generator is already running");if(s===h){if("throw"===r)throw o;return{value:t,done:!0}}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var c=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),p;var a=f(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var s=a.arg;return s?s.done?(n[r.resultName]=s.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):s:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,p)}(i,a);if(c){if(c===p)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var u=f(e,n,a);if("normal"===u.type){if(s=a.done?h:"suspendedYield",u.arg===p)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=h,a.method="throw",a.arg=u.arg)}})}),c}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",m="executing",h="completed",p={};function g(){}function y(){}function b(){}var v={};u(v,a,function(){return this});var x=Object.getPrototypeOf,S=x&&x(x(T([])));S&&S!==r&&n.call(S,a)&&(v=S);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==k(l)&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,a,s)},function(t){r("throw",t,a,s)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,s)})}s(c.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function T(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(k(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(O.prototype),u(O.prototype,s,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),u(w,c,"Generator"),u(w,a,function(){return this}),u(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function T(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){r(t);return}s.done?e(c):Promise.resolve(c).then(n,o)}function A(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){T(i,n,o,a,s,"next",t)}function s(t){T(i,n,o,a,s,"throw",t)}a(void 0)})}}function L(t){var e=function(t,e){if("object"!==k(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==k(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===k(e)?e:String(e)}var I=new(a=function t(){var e,r;(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,t),r="jass_sessions",(e=L(e="STORAGE_KEY"))in this?Object.defineProperty(this,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[e]=r},s=[{key:"getStorageKey",value:function(t){return"".concat(this.STORAGE_KEY,"_").concat(t)}},{key:"saveSession",value:(n=A(C().mark(function t(e){var r,n;return C().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=this.getStorageKey(e.id),t.next=4,localStorage.setItem(r,JSON.stringify(e));case 4:return t.next=6,this.listSessions();case 6:if((n=t.sent).find(function(t){return t.id===e.id})){t.next=11;break}return n.push(e),t.next=11,localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n));case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(0),console.error("Fehler beim Speichern der Session:",t.t0),t.t0;case 17:case"end":return t.stop()}},t,this,[[0,13]])})),function(t){return n.apply(this,arguments)})},{key:"loadSession",value:(o=A(C().mark(function t(e){var r;return C().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=localStorage.getItem(this.getStorageKey(e))){t.next=3;break}throw Error("Session ".concat(e," nicht gefunden"));case 3:return t.abrupt("return",JSON.parse(r));case 4:case"end":return t.stop()}},t,this)})),function(t){return o.apply(this,arguments)})},{key:"listSessions",value:(i=A(C().mark(function t(){var e;return C().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=localStorage.getItem(this.STORAGE_KEY),t.abrupt("return",e?JSON.parse(e):[]);case 5:return t.prev=5,t.t0=t.catch(0),console.error("Fehler beim Laden der Sessions:",t.t0),t.abrupt("return",[]);case 9:case"end":return t.stop()}},t,this,[[0,5]])})),function(){return i.apply(this,arguments)})}],function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L(n.key),n)}}(a.prototype,s),Object.defineProperty(a,"prototype",{writable:!1}),a);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function G(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach(function(e){var n,o;n=e,o=r[e],(n=function(t){var e=function(t,e){if("object"!==D(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==D(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===D(e)?e:String(e)}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var M={INSTALL_WELCOME:"INSTALL_WELCOME",INSTALL_SHARE:"INSTALL_SHARE",INSTALL_FINAL:"INSTALL_FINAL",INSTALL_DONE:"INSTALL_DONE",FINAL_HINTS:"FINAL_HINTS"},_=G(G({},M),{},{INSTALL_HOME:"INSTALL_HOME"}),F=G({},M),H=((c={}).INTRODUCTION="INTRODUCTION",c.SCREEN_TIME="SCREEN_TIME",c),z={top:[2,4],bottom:[1,3]},W=z,B=function(t){W=t},J=function(t){return{horizontal:(t.matsch||0)+(t.kontermatsch||0),vertikal:(t.berg||0)+(t.sieg||0)+(t.schneider||0)}},U=function(t){var e=t%4+1;return e>=1&&e<=4?e:1},K=function(t,e){if(!t)return e;var r=t.teams.top.striche.sieg>0?"top":t.teams.bottom.striche.sieg>0?"bottom":null;if(!r)return e;var n=W["top"===r?"bottom":"top"],o=t.currentPlayer;if(n.includes(o))return o;for(var i=U(o);!n.includes(i);)i=U(i);return i};function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t){return function(t){if(Array.isArray(t))return Y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Y(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function $(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(r),!0).forEach(function(e){var n,o;n=e,o=r[e],(n=function(t){var e=function(t,e){if("object"!==q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==q(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===q(e)?e:String(e)}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var X=(0,E.U)(function(t,e){return{jassStartTime:null,gameStartTime:null,roundStartTime:null,history:{jass:[],games:[],rounds:[]},isPaused:!1,pauseStartTime:null,totalPausedTime:0,startJassTimer:function(){t(function(t){return $($({},t),{},{jassStartTime:Date.now(),history:$($({},t.history),{},{jass:[].concat(V(t.history.jass),[{startTime:Date.now()}])})})})},startGameTimer:function(){t(function(t){return $($({},t),{},{gameStartTime:Date.now(),history:$($({},t.history),{},{games:[].concat(V(t.history.games),[{startTime:Date.now()}])})})})},startRoundTimer:function(){t(function(t){return $($({},t),{},{roundStartTime:Date.now(),history:$($({},t.history),{},{rounds:[].concat(V(t.history.rounds),[{startTime:Date.now()}])})})})},completeRound:function(){var e=Date.now();t(function(t){var r=V(t.history.rounds),n=r[r.length-1];return n&&(n.endTime=e,n.duration=e-n.startTime),$($({},t),{},{roundStartTime:null,history:$($({},t.history),{},{rounds:r})})})},completeGame:function(){var e=Date.now();t(function(t){var r=V(t.history.games),n=r[r.length-1];return n&&(n.endTime=e,n.duration=e-n.startTime),$($({},t),{},{gameStartTime:null,roundStartTime:null,history:$($({},t.history),{},{games:r})})})},completeJass:function(){var e=Date.now();t(function(t){var r=V(t.history.jass),n=r[r.length-1];return n&&(n.endTime=e,n.duration=e-n.startTime),$($({},t),{},{jassStartTime:null,gameStartTime:null,roundStartTime:null,history:$($({},t.history),{},{jass:r})})})},getAnalytics:function(){var t=e(),r=e().getCurrentTime(),n=function(t){return t.length>0?t.reduce(function(t,e){return t+e},0)/t.length:0},o=t.history.rounds.filter(function(t){return t.duration}).map(function(t){return t.duration}),i=t.history.games.filter(function(t){return t.duration}).map(function(t){return t.duration}),a=t.history.jass.filter(function(t){return t.duration}).map(function(t){return t.duration}),s=t.jassStartTime?r-t.jassStartTime:0,c=t.gameStartTime?r-t.gameStartTime:0,u=t.roundStartTime?r-t.roundStartTime:0;return{averageRoundDuration:n(o),averageGameDuration:n(i),averageJassDuration:n(a),totalJassTime:a.reduce(function(t,e){return t+e},0)+s,currentJassDuration:s,currentGameDuration:c,currentRoundDuration:u}},resetRoundTimer:function(){t(function(t){return $($({},t),{},{roundStartTime:null})})},resetGameTimers:function(){t(function(t){return $($({},t),{},{gameStartTime:null,roundStartTime:null})})},resetAllTimers:function(){t(function(t){return $($({},t),{},{jassStartTime:null,gameStartTime:null,roundStartTime:null,history:{jass:[],games:[],rounds:[]}})})},pauseTimer:function(){t(function(t){return $($({},t),{},{isPaused:!0,pauseStartTime:Date.now()})})},resumeTimer:function(){t(function(t){var e=t.pauseStartTime?Date.now()-t.pauseStartTime:0;return $($({},t),{},{isPaused:!1,pauseStartTime:null,totalPausedTime:t.totalPausedTime+e})})},getCurrentTime:function(){var t=e(),r=Date.now(),n=t.isPaused&&t.pauseStartTime?r-t.pauseStartTime:0;return r-(t.totalPausedTime+n)}}});function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t){return function(t){if(Array.isArray(t))return te(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return te(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return te(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function tr(){tr=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(e,r,n,i){var a,s,c=Object.create((r&&r.prototype instanceof g?r:g).prototype);return o(c,"_invoke",{value:(a=new E(i||[]),s=d,function(r,o){if(s===m)throw Error("Generator is already running");if(s===h){if("throw"===r)throw o;return{value:t,done:!0}}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var c=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),p;var a=f(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var s=a.arg;return s?s.done?(n[r.resultName]=s.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):s:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,p)}(i,a);if(c){if(c===p)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var u=f(e,n,a);if("normal"===u.type){if(s=a.done?h:"suspendedYield",u.arg===p)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=h,a.method="throw",a.arg=u.arg)}})}),c}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",m="executing",h="completed",p={};function g(){}function y(){}function b(){}var v={};u(v,a,function(){return this});var x=Object.getPrototypeOf,S=x&&x(x(k([])));S&&S!==r&&n.call(S,a)&&(v=S);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Q(l)&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,a,s)},function(t){r("throw",t,a,s)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,s)})}s(c.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function k(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(Q(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(O.prototype),u(O.prototype,s,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),u(w,c,"Generator"),u(w,a,function(){return this}),u(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:k(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function tn(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){r(t);return}s.done?e(c):Promise.resolve(c).then(n,o)}function to(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){tn(i,n,o,a,s,"next",t)}function s(t){tn(i,n,o,a,s,"throw",t)}a(void 0)})}}function ti(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function ta(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ti(Object(r),!0).forEach(function(e){var n,o;n=e,o=r[e],(n=function(t){var e=function(t,e){if("object"!==Q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Q(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Q(e)?e:String(e)}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ti(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var ts=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";return console.log("\uD83D\uDCDD Creating Game Entry:",{id:t,startingPlayer:e,sessionId:r}),{id:t,timestamp:Date.now(),teams:{top:tc(),bottom:tc()},sessionId:r,currentRound:1,startingPlayer:e,initialStartingPlayer:e,currentPlayer:e,roundHistory:[],currentHistoryIndex:-1,historyState:{isNavigating:!1,lastNavigationTimestamp:Date.now()},isGameStarted:!1,isRoundCompleted:!1,isGameCompleted:!1}},tc=function(){return{bergActive:!1,bedankenActive:!1,isSigned:!1,striche:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0},total:0,jassPoints:0,weisPoints:0,playerStats:{1:{striche:0,points:0,weisPoints:0},2:{striche:0,points:0,weisPoints:0},3:{striche:0,points:0,weisPoints:0},4:{striche:0,points:0,weisPoints:0}}}},tu=function(t){return Object.values(t).reduce(function(t,e){return t+e},0)},tl={isJassStarted:!1,currentSession:{id:"initial",gruppeId:"default",startedAt:Date.now(),playerNames:{1:"",2:"",3:"",4:""},games:[],metadata:{}},currentRound:1,currentGameId:1,isJassCompleted:!1,teams:{top:tc(),bottom:tc()},games:[],currentGameCache:null},tf=(0,E.U)()(function(t,e){var r,n;return ta(ta({},tl),{},{saveSession:(r=to(tr().mark(function t(){var r,n,o,i,a;return tr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=e(),i=t3.getState(),a={id:"session_".concat(Date.now()),gruppeId:"default",startedAt:(null===(r=o.games[0])||void 0===r?void 0:r.timestamp)||Date.now(),endedAt:Date.now(),playerNames:i.playerNames,games:o.games.map(function(t){return t.id}),metadata:{location:"Standard Location",notes:""},statistics:{gamesPlayed:o.games.length,totalDuration:Date.now()-((null===(n=o.games[0])||void 0===n?void 0:n.timestamp)||Date.now()),scores:{top:o.teams.top.total,bottom:o.teams.bottom.total},weisCount:o.games.reduce(function(t,e){return t+(e.teams.top.weisPoints+e.teams.bottom.weisPoints)},0),stricheCount:o.games.reduce(function(t,e){return{berg:t.berg+e.teams.top.striche.berg+e.teams.bottom.striche.berg,sieg:t.sieg+e.teams.top.striche.sieg+e.teams.bottom.striche.sieg,matsch:t.matsch+e.teams.top.striche.matsch+e.teams.bottom.striche.matsch,schneider:t.schneider+e.teams.top.striche.schneider+e.teams.bottom.striche.schneider,kontermatsch:t.kontermatsch+e.teams.top.striche.kontermatsch+e.teams.bottom.striche.kontermatsch}},{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0})}},t.prev=3,t.next=6,I.saveSession(a);case 6:return t.abrupt("return",a.id);case 9:throw t.prev=9,t.t0=t.catch(3),console.error("Fehler beim Speichern der Session:",t.t0),t.t0;case 13:case"end":return t.stop()}},t,null,[[3,9]])})),function(){return r.apply(this,arguments)}),loadSession:(n=to(tr().mark(function t(e){return tr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.loadSession(e);case 3:t.sent,t.next=10;break;case 6:throw t.prev=6,t.t0=t.catch(0),console.error("Fehler beim Laden der Session:",t.t0),t.t0;case 10:case"end":return t.stop()}},t,null,[[0,6]])})),function(t){return n.apply(this,arguments)}),startJass:function(e){var r=ts(1,e.initialStartingPlayer,"default");console.log("\uD83C\uDCCF First Game Created:",r),t({currentGameId:1,games:[r],currentSession:{id:"jass_".concat(Date.now()),gruppeId:"default",startedAt:Date.now(),playerNames:e.playerNames,games:[1],metadata:{location:"Standard Location",notes:""},statistics:{gamesPlayed:1,totalDuration:0,scores:{top:0,bottom:0},weisCount:0,stricheCount:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0}}}}),t({isJassStarted:!0}),X.getState().startJassTimer()},finalizeGame:function(){var r=e(),n=t3.getState(),o=r.games.find(function(t){return t.id===r.currentGameId});if(o){var i=ta(ta({},o),{},{teams:{top:ta(ta({},o.teams.top),{},{jassPoints:n.scores.top,total:n.scores.top,striche:ta({},n.striche.top)}),bottom:ta(ta({},o.teams.bottom),{},{jassPoints:n.scores.bottom,total:n.scores.bottom,striche:ta({},n.striche.bottom)})},roundHistory:n.roundHistory,currentRound:n.currentRound,currentPlayer:n.currentPlayer,currentHistoryIndex:n.currentHistoryIndex,historyState:n.historyState,isGameStarted:n.isGameStarted,isRoundCompleted:n.isRoundCompleted,isGameCompleted:!0});t({games:r.games.map(function(t){return t.id===o.id?i:t})})}},resetJass:function(){t(tl)},undoNewGame:function(){var r=e();if(!(r.games.length<=1)){var n=r.games.slice(0,-1),o=n[n.length-1];if(o){var i=t3.getState();i.resetGamePoints(),i.setScore("top",o.teams.top.jassPoints),i.setScore("bottom",o.teams.bottom.jassPoints);var a=r.games[r.games.length-1],s=ta({},r.teams);s.top=ta(ta({},s.top),{},{jassPoints:s.top.jassPoints-a.teams.top.jassPoints,total:s.top.total-a.teams.top.jassPoints}),s.bottom=ta(ta({},s.bottom),{},{jassPoints:s.bottom.jassPoints-a.teams.bottom.jassPoints,total:s.bottom.total-a.teams.bottom.jassPoints}),t({games:n,currentGameId:o.id,teams:s})}}},navigateToGame:function(r){var n,o,i,a=e(),s=a.games.find(function(t){return t.id===r});if(s){var c=r===a.games.length,u=s.roundHistory.length-1,l=s.roundHistory[u],f=null!==(n=null==l?void 0:l.roundState)&&void 0!==n?n:{roundNumber:s.currentRound,nextPlayer:s.currentPlayer};t3.setState({scores:{top:s.teams.top.jassPoints,bottom:s.teams.bottom.jassPoints},striche:{top:s.teams.top.striche,bottom:s.teams.bottom.striche},roundHistory:s.roundHistory,currentRound:f.roundNumber,currentPlayer:f.nextPlayer,currentHistoryIndex:c?u:-1,historyState:{isNavigating:!c,lastNavigationTimestamp:Date.now()},isGameStarted:!0,isRoundCompleted:null!==(o=null==l?void 0:l.isRoundFinalized)&&void 0!==o&&o,isGameCompleted:null!==(i=s.isGameCompleted)&&void 0!==i&&i}),t({currentGameId:r,teams:s.teams})}},navigateToPreviousGame:function(){var t=e();return t.currentGameId>1&&(e().navigateToGame(t.currentGameId-1),!0)},navigateToNextGame:function(){var t=e();return t.currentGameId<t.games.length&&(e().navigateToGame(t.currentGameId+1),!0)},canNavigateBack:function(){return e().currentGameId>1},canNavigateForward:function(){var t=e();return t.currentGameId<t.games.length},calculateTotalPoints:function(){var t=e();return{top:t.teams.top.total,bottom:t.teams.bottom.total}},calculateTotalJassPoints:function(){var t=e();return{top:t.teams.top.jassPoints,bottom:t.teams.bottom.jassPoints}},getGameHistory:function(){return e().games},getCurrentGame:function(){var t=e();return t.games.find(function(e){return e.id===t.currentGameId})},getVisibleGames:function(){var t=e();return t.games.filter(function(e){return e.id<=t.currentGameId})},getState:function(){return e()},setState:function(e){return t(e)},subscribe:function(t){return tf.subscribe(t)},updateWeisPoints:function(e,r){t(function(t){var n=ta({},t.teams);return n[e].weisPoints+=r,n[e].total+=r,{teams:n}})},updateCurrentGame:function(e){t(function(t){var r,n,o=t.games.find(function(e){return e.id===t.currentGameId});if(!o)return t;e.teams&&console.log("\uD83D\uDCDD JassStore Striche Update:",{gameId:t.currentGameId,top:null===(r=e.teams.top)||void 0===r?void 0:r.striche,bottom:null===(n=e.teams.bottom)||void 0===n?void 0:n.striche});var i=e.teams?{top:ta(ta({},o.teams.top),e.teams.top),bottom:ta(ta({},o.teams.bottom),e.teams.bottom)}:o.teams;return ta(ta({},t),{},{games:t.games.map(function(r){return r.id===t.currentGameId?ta(ta(ta({},r),e),{},{teams:i}):r})})})},getTotalsUpToGame:function(t){return e().games.filter(function(e){return e.id<=t}).reduce(function(t,e){return{striche:{top:t.striche.top+tu(e.teams.top.striche),bottom:t.striche.bottom+tu(e.teams.bottom.striche)},punkte:{top:t.punkte.top+e.teams.top.total,bottom:t.punkte.bottom+e.teams.bottom.total}}},{striche:{top:0,bottom:0},punkte:{top:0,bottom:0}})},startGame:function(){var r=e();if(!r.currentSession){console.error("Keine g\xfcltige Session gefunden");return}var n=t3.getState(),o=r.currentGameId+1,i=K(r.games.find(function(t){return t.id===r.currentGameId})||null,n.startingPlayer),a=ts(o,i,r.currentSession.id);t3.setState({currentPlayer:i,startingPlayer:i,scores:{top:0,bottom:0},weisPoints:{top:0,bottom:0},striche:{top:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0},bottom:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0}},roundHistory:[],currentRound:1,isGameStarted:!0,isRoundCompleted:!1,isGameCompleted:!1}),t(function(t){var e,r,n;return ta(ta({},t),{},{currentGameId:o,games:[].concat(tt(t.games),[a]),currentSession:ta(ta({},t.currentSession),{},{games:[].concat(tt(t.currentSession.games),[o]),statistics:ta(ta({},t.currentSession.statistics),{},{gamesPlayed:((null===(e=t.currentSession.statistics)||void 0===e?void 0:e.gamesPlayed)||0)+1,totalDuration:Date.now()-t.currentSession.startedAt,scores:{top:t.teams.top.total,bottom:t.teams.bottom.total},weisCount:(null===(r=t.currentSession.statistics)||void 0===r?void 0:r.weisCount)||0,stricheCount:(null===(n=t.currentSession.statistics)||void 0===n?void 0:n.stricheCount)||{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0}})})})}),e().saveSession().catch(console.error);var s=X.getState();s.resetGameTimers(),s.startGameTimer(),s.startRoundTimer()}})}),td=function(t){var e={100:Math.floor(t/100),50:0,20:0},r=t%100;return r>=50&&(e[50]=Math.floor(r/50),r%=50),r>=20&&(e[20]=Math.floor(r/20),r%=20),{striche:e,restZahl:r}},tm=r(782),th={backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"},tp=[{id:"mis\xe8re",name:"Mis\xe8re",multiplier:1,order:1,emojiStyle:{backgroundColor:"bg-[#f87171] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#f87171]"},standardStyle:th,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"eicheln",name:"Eicheln",multiplier:7,order:7,emojiStyle:{backgroundColor:"bg-[#65a30d] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#65a30d]"},standardStyle:th,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"rosen",name:"Rosen",multiplier:4,order:3,emojiStyle:{backgroundColor:"bg-[#fde047] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#fde047]"},standardStyle:th,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"schellen",name:"Schellen",multiplier:2,order:4,emojiStyle:{backgroundColor:"bg-[#fbbf24] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#fbbf24]"},standardStyle:th,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"schilten",name:"Schilten",multiplier:3,order:5,emojiStyle:{backgroundColor:"bg-[#64748b] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#6b7280]"},standardStyle:th,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"obe",name:"Obe",multiplier:5,order:6,emojiStyle:{backgroundColor:"bg-[#0891b2] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#0284c7]"},standardStyle:th,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"une",name:"Une",multiplier:6,order:7,emojiStyle:{backgroundColor:"bg-[#0369a1] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#854d0e]"},standardStyle:th,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"dreimal",name:"3x3",multiplier:4,order:8,emojiStyle:{backgroundColor:"bg-[#f0abfc] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#f0abfc]"},standardStyle:th,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"quer",name:"Quer",multiplier:7,order:9,emojiStyle:{backgroundColor:"bg-[#f87171] group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-[#0891b2]"},standardStyle:th,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}},{id:"slalom",name:"Slalom",multiplier:7,order:10,emojiStyle:{backgroundColor:"bg-white group-[.has-active]:bg-gray-600/75 group-[.active]:!bg-white"},standardStyle:th,frStyle:{backgroundColor:"bg-gradient-to-b from-gray-600 to-gray-700 shadow-inner border border-gray-500/30 hover:from-gray-500 hover:to-gray-600 group-[.has-active]:bg-gray-600/75 group-[.active]:!from-gray-500 group-[.active]:!to-gray-600"}}],tg=[{id:"sieg",name:"Sieg",defaultValue:5e3,maxValue:1e4,order:1},{id:"berg",name:"Berg",defaultValue:2500,maxValue:5e3,order:2},{id:"schneider",name:"Schneider",defaultValue:2500,maxValue:5e3,order:3}];tg[0].defaultValue,tg[1].defaultValue,tg[2].defaultValue;var ty=function(t){var e=tg.find(function(e){return e.id===t});if(!e)throw Error("Ung\xfcltiger Score-Mode: ".concat(t));return e},tb=function(t,e){var r=ty(t);if(e<0)return!1;if("sieg"===t)return e<=r.maxValue;var n=Math.floor(ty("sieg").defaultValue/2);return e<=Math.min(r.maxValue,n)},tv=((u={}).JASSGROUP="JASSGROUP",u),tx={schneider:2,kontermatsch:2};tv.JASSGROUP;var tS={berg:1,sieg:2,matsch:1,schneider:tx.schneider,kontermatsch:tx.kontermatsch},tw=function(t){return!!((void 0===t.schneider||[1,2].includes(t.schneider))&&(void 0===t.kontermatsch||[1,2].includes(t.kontermatsch)))};function tj(t){return(tj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tO(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function tP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function tN(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tP(Object(r),!0).forEach(function(e){tE(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function tE(t,e,r){var n;return(n=function(t,e){if("object"!==tj(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==tj(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===tj(n)?n:String(n))in t)?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var tk=((l={}).INSTALL="INSTALL",l.INTRODUCTION="INTRODUCTION",l.SCREEN_TIME="SCREEN_TIME",l),tC={farbe:"jass-farbe-settings",score:"jass-score-settings",pictogram:"jass-pictogram-settings",strokes:"jass-stroke-settings",scores:"jass-score-settings"},tT=function(t,e){try{localStorage.setItem(tC[t],JSON.stringify(e))}catch(e){console.error("Fehler beim Speichern von ".concat(t,":"),e)}},tA=function(t){return tT("farbe",t)},tL=function(){return{isActive:!1,pressStartTime:null,chargeAmount:0}},tI={values:tp.map(function(t){return t.multiplier}),multipliers:tp.map(function(t){return t.multiplier}),isFlipped:!1},tD={values:Object.fromEntries(tg.map(function(t){return[t.id,t.defaultValue]})),isFlipped:!1,enabled:Object.fromEntries(tg.map(function(t){return[t.id,!0]}))},tR={calculator:{isOpen:!1,value:0,isFlipped:!1},gameInfo:{isOpen:!1},startScreen:{transitionState:"initial",names:{1:"",2:"",3:"",4:""}},history:{warning:null},chargeEffects:{berg:{top:tL(),bottom:tL()},bedanken:{top:tL(),bottom:tL()},matsch:{top:tL(),bottom:tL()}},menu:{isOpen:!1,activeButton:null,showIntroduction:!1,showResetWarning:!1},resultatKreidetafel:{isOpen:!1,swipePosition:null,currentStatistic:"striche"},settings:{isOpen:!1,activeTab:"farben",cardStyle:"DE",pictogramConfig:{isEnabled:!0,mode:"svg"}},farbeSettings:tI,scoreSettings:tD,strokeSettings:tx,isGameInfoOpen:!1,isHistoryWarningOpen:!1,historyWarningCallback:null,lastDoubleClickPosition:null,historyWarning:{show:!1,message:"",onConfirm:function(){},onCancel:function(){}},isPaused:!1,strichStyle:{baseStrich:{length:20,width:1.5,color:"rgba(255, 255, 255, 0.9)",opacity:.9},diagonalStrich:{length:28,width:1.5,angle:45,offset:{x:-1,y:0}},container:{spacing:4,groupSpacing:8,scale:1}},overlayPosition:null,jassFinishNotification:{isOpen:!1},onboarding:{currentStep:tk.INSTALL,hasCompletedOnboarding:!0,show:!1,canBeDismissed:!0,isPWA:!1}},tG=(0,E.U)()((0,tm.tJ)(function(t,e){return tN(tN({},tR),{},{resetStartScreen:function(){return t(function(t){return tN(tN({},t),{},{startScreen:{transitionState:"initial",names:{1:"",2:"",3:"",4:""}}})})},startCharge:function(e,r){return t(function(t){return{chargeEffects:tN(tN({},t.chargeEffects),{},tE({},r,tN(tN({},t.chargeEffects[r]),{},tE({},e,{isActive:!0,pressStartTime:Date.now(),chargeAmount:0}))))}})},updateCharge:function(r,n){var o=e().chargeEffects[n][r];if(o.isActive&&o.pressStartTime){var i=Date.now()-o.pressStartTime;t(function(t){return{chargeEffects:tN(tN({},t.chargeEffects),{},tE({},n,tN(tN({},t.chargeEffects[n]),{},tE({},r,tN(tN({},o),{},{chargeAmount:Math.min(i/1e3,1)})))))}})}},endCharge:function(e,r){return t(function(t){return{chargeEffects:tN(tN({},t.chargeEffects),{},tE({},r,tN(tN({},t.chargeEffects[r]),{},tE({},e,tL()))))}})},resetChargeEffects:function(){return t(function(){return{chargeEffects:{berg:{top:tL(),bottom:tL()},bedanken:{top:tL(),bottom:tL()},matsch:{top:tL(),bottom:tL()}}}})},openCalculator:function(){return t(function(t){return{calculator:tN(tN({},t.calculator),{},{isOpen:!0})}})},closeCalculator:function(){return t(function(t){return{calculator:tN(tN({},t.calculator),{},{isOpen:!1})}})},setCalculatorFlipped:function(e){return t(function(t){return{calculator:tN(tN({},t.calculator),{},{isFlipped:e})}})},setStartScreenState:function(e){return t(function(t){return{startScreen:tN(tN({},t.startScreen),{},{transitionState:e})}})},setStartScreenNames:function(e){return t(function(t){return{startScreen:tN(tN({},t.startScreen),{},{names:e})}})},setMenuActiveButton:function(e){return t(function(t){return{menu:tN(tN({},t.menu),{},{activeButton:e})}})},setShowIntroduction:function(e){return t(function(t){return{menu:tN(tN({},t.menu),{},{showIntroduction:e})}})},setShowResetWarning:function(e){return t(function(t){return{menu:tN(tN({},t.menu),{},{showResetWarning:e})}})},resetAll:function(){return t(function(){return{calculator:{isOpen:!1,value:0,isFlipped:!1},gameInfo:{isOpen:!1},startScreen:{transitionState:"initial",names:{1:"",2:"",3:"",4:""}},history:{warning:null},chargeEffects:{berg:{top:tL(),bottom:tL()},bedanken:{top:tL(),bottom:tL()},matsch:{top:tL(),bottom:tL()}},menu:{isOpen:!1,activeButton:null,showIntroduction:!1,showResetWarning:!1},resultatKreidetafel:{isOpen:!1,swipePosition:null,currentStatistic:"striche"},historyWarning:{show:!1,message:"",onConfirm:function(){},onCancel:function(){}}}})},setMenuOpen:function(e){return t(function(t){return{menu:tN(tN({},t.menu),{},{isOpen:e}),overlayPosition:e?t.overlayPosition:null}})},openResultatKreidetafel:function(e){return t({resultatKreidetafel:{isOpen:!0,swipePosition:e,currentStatistic:"striche"},overlayPosition:e})},closeResultatKreidetafel:function(){return t({resultatKreidetafel:{isOpen:!1,swipePosition:null,currentStatistic:"striche"}})},setGameInfoOpen:function(e){return t({isGameInfoOpen:e})},setHistoryWarningOpen:function(e){return t({isHistoryWarningOpen:e})},setHistoryWarningCallback:function(e){return t({historyWarningCallback:e})},setLastDoubleClickPosition:function(e){return t({lastDoubleClickPosition:e})},showHistoryWarning:function(e){t({historyWarning:{show:!0,message:e.message,onConfirm:e.onConfirm,onCancel:e.onCancel}})},closeHistoryWarning:function(){return t(function(t){return{historyWarning:tN(tN({},t.historyWarning),{},{show:!1})}})},pauseGame:function(){return t({isPaused:!0})},resumeGame:function(){return t({isPaused:!1})},setKreidetafelPosition:function(e){return t(function(t){return{resultatKreidetafel:tN(tN({},t.resultatKreidetafel),{},{swipePosition:e})}})},setKreidetafelStatistic:function(e){return t(function(t){return{resultatKreidetafel:tN(tN({},t.resultatKreidetafel),{},{currentStatistic:e})}})},setStrichStyle:function(e){return t(function(t){return{strichStyle:tN(tN({},t.strichStyle),e)}})},openFarbeSettings:function(){return t(function(t){return{settings:tN(tN({},t.settings),{},{isOpen:!0,activeTab:"farben"})}})},closeFarbeSettings:function(){return t(function(t){return{settings:tN(tN({},t.settings),{},{isOpen:!1})}})},setFarbeMultiplier:function(r,n){var o,i=e().farbeSettings,a=function(t){if(Array.isArray(t))return tO(t)}(o=i.multipliers)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(o)||function(t,e){if(t){if("string"==typeof t)return tO(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tO(t,void 0)}}(o)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();if(a[r]=n,a.every(function(t){return t>=0&&t<=8})){var s=tN(tN({},i),{},{multipliers:a});tA(s),t({farbeSettings:s})}},setFarbeFlipped:function(r){var n=tN(tN({},e().farbeSettings),{},{isFlipped:r});tA(n),t({farbeSettings:n})},updateFarbeSettings:function(e){return t(function(t){var r=tN(tN({},t.farbeSettings),e);return tA(r),{farbeSettings:r}})},openScoreSettings:function(){return t(function(t){return{settings:tN(tN({},t.settings),{},{isOpen:!0,activeTab:"scores"})}})},closeScoreSettings:function(){return t(function(t){return{settings:tN(tN({},t.settings),{},{isOpen:!1})}})},updateScoreSettings:function(e){return t(function(t){return{scoreSettings:tN(tN({},t.scoreSettings),e)}})},setScoreValue:function(e,r){tb(e,r)&&t(function(t){return{scoreSettings:tN(tN({},t.scoreSettings),{},{values:tN(tN({},t.scoreSettings.values),{},tE({},e,r))})}})},toggleScoreEnabled:function(e){return t(function(t){return{scoreSettings:tN(tN({},t.scoreSettings),{},{enabled:tN(tN({},t.scoreSettings.enabled),{},tE({},e,!t.scoreSettings.enabled[e]))})}})},setSettingsTab:function(e){return t(function(t){return{settings:tN(tN({},t.settings),{},{activeTab:e})}})},openSettings:function(){return t(function(t){return{settings:tN(tN({},t.settings),{},{isOpen:!0})}})},closeSettings:function(){return t(function(t){return{settings:tN(tN({},t.settings),{},{isOpen:!1})}})},cyclePictogramMode:function(){return t(function(t){var e,r=t.settings.pictogramConfig;return tT("pictogram",e=r.isEnabled?"svg"===r.mode?{isEnabled:!0,mode:"emoji"}:{isEnabled:!1,mode:"svg"}:{isEnabled:!0,mode:"svg"}),{settings:tN(tN({},t.settings),{},{pictogramConfig:e})}})},updateScoreValue:function(e,r){return t(function(t){if(!tb(e,r))return t;var n=tN({},t.scoreSettings.values);if(n[e]=r,"sieg"===e){var o=Math.floor(r/2);n.berg=Math.min(n.berg,o),n.schneider=Math.min(n.schneider,o)}var i=tN(tN({},t.scoreSettings),{},{values:n});return tT("score",i),{scoreSettings:i}})},updateSettings:function(e,r){t(function(t){var n=tN(tN({},"farbe"===e?t.farbeSettings:t.scoreSettings),r);return tT(e,n),tE({},"".concat(e,"Settings"),n)})},setOverlayPosition:function(e){return t({overlayPosition:e})},showJassFinishNotification:function(){return t(function(t){return{jassFinishNotification:{isOpen:!0}}})},closeJassFinishNotification:function(){return t(function(t){return{jassFinishNotification:{isOpen:!1}}})},setOnboardingStep:function(e){return t(function(t){return{onboarding:tN(tN({},t.onboarding),{},{currentStep:e})}})},completeOnboarding:function(){return t(function(t){return{onboarding:tN(tN({},t.onboarding),{},{hasCompletedOnboarding:!0})}})},showOnboarding:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t(function(t){return{onboarding:tN(tN({},t.onboarding),{},{show:!0,canBeDismissed:e,isPWA:r})}})},hideOnboarding:function(){return t(function(t){return{onboarding:tN(tN({},t.onboarding),{},{show:!1,hasCompletedOnboarding:!0})}})},setCardStyle:function(e){return t(function(t){return{settings:tN(tN({},t.settings),{},{cardStyle:e})}})},updateStrokeSettings:function(e){tw(e)&&t(function(t){return{strokeSettings:tN(tN({},t.strokeSettings),e)}})},setStrokeValue:function(e,r){tw(tE({},e,r))&&t(function(t){return{strokeSettings:tN(tN({},t.strokeSettings),{},tE({},e,r))}})}})},{name:"jass-ui-storage",partialize:function(t){return{scoreSettings:t.scoreSettings,strokeSettings:t.strokeSettings}}}));tG.persist.rehydrate();var tM=r(1773),t_=r(3114),tF=r(9679),tH="Willst du wirklich die Vergangenheit \xe4ndern? Dies wird alle nachfolgenden Eintr\xe4ge l\xf6schen!",tz=function(t){var e=t.message,r=t.onConfirm,n=t.onDismiss,o=t.show;t3().jumpToLatest;var i=tG().closeHistoryWarning,a=(0,h.useCallback)(function(){i(),r()},[r,i]),s=(0,h.useCallback)(function(){i(),n()},[n,i]);return(0,b.jsx)(t_.M,{children:o&&(0,b.jsxs)(tF.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-[9999] p-4 pointer-events-auto",children:[(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:s}),(0,b.jsxs)(tF.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white z-10",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[(0,b.jsx)(tM.gJy,{className:"w-12 h-12 text-yellow-600 mb-2"}),(0,b.jsx)("p",{className:"text-center mb-6",children:e})]}),(0,b.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,b.jsx)("button",{onClick:a,className:"flex-1 bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors text-lg font-semibold",children:"Ja"}),(0,b.jsx)("button",{onClick:s,className:"flex-1 bg-gray-600 text-white px-6 py-2 rounded-full hover:bg-gray-700 transition-colors text-lg font-semibold",children:"Abbrechen"})]})]})]})})},tW={Misère:{DE:"Mis\xe8re",FR:"Mis\xe8re"},Eicheln:{DE:"Eichel",FR:"Schaufel"},Rosen:{DE:"Rosen",FR:"Kreuz"},Schellen:{DE:"Schellen",FR:"Herz"},Schilten:{DE:"Schilten",FR:"Ecke"},Obe:{DE:"Obe",FR:"Obe"},Une:{DE:"Unde",FR:"Unde"},"3x3":{DE:"3x3",FR:"3x3"},Quer:{DE:"Quer",FR:"Quer"},Slalom:{DE:"Slalom",FR:"Slalom"}};function tB(t){return(tB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tJ(t){return function(t){if(Array.isArray(t))return tU(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return tU(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tU(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tU(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function tK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function tq(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tK(Object(r),!0).forEach(function(e){tV(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tK(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function tV(t,e,r){var n;return(n=function(t,e){if("object"!==tB(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==tB(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===tB(n)?n:String(n))in t)?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var tY={berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0},tZ={1:"",2:"",3:"",4:""},t$={isNavigating:!1,lastNavigationTimestamp:null},tX=function(t,e){return{top:t.top+e.top,bottom:t.bottom+e.bottom,weisPoints:t}},tQ=function(t){return{currentPlayer:t,startingPlayer:t,initialStartingPlayer:t,isGameStarted:!1,currentRound:1,weisPoints:{top:0,bottom:0},jassPoints:{top:0,bottom:0},scores:{top:0,bottom:0},striche:{top:tq({},tY),bottom:tq({},tY)},roundHistory:[],currentRoundWeis:[],isGameCompleted:!1,isRoundCompleted:!1,farbeSettings:{colors:[],multipliers:[]},scoreSettings:{scores:[],enabled:[]},playerNames:tZ,currentHistoryIndex:-1,historyState:t$}},t0=function(t,e,r,n){var o=tG.getState().settings,i=(null==n?void 0:n.cardStyle)||o.cardStyle,a={id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),timestamp:Date.now(),roundId:t.currentRound,weisPoints:tq({},t.weisPoints),jassPoints:tq({},t.jassPoints),scores:tq({},t.scores),weisActions:tJ(t.currentRoundWeis),currentPlayer:t.currentPlayer,visualStriche:{top:e.getVisualStriche("top"),bottom:e.getVisualStriche("bottom")},previousRoundId:t.roundHistory.length>0?t.roundHistory[t.roundHistory.length-1].roundId:void 0,nextRoundId:void 0,roundState:{roundNumber:t.currentRound,nextPlayer:t.currentPlayer},striche:{top:tq({},t.striche.top),bottom:tq({},t.striche.bottom)}};return"weis"===r?tq(tq({},a),{},{actionType:"weis",isRoundFinalized:!1,isCompleted:!1}):tq(tq({},a),{},{actionType:"jass",isRoundFinalized:!0,isCompleted:!0,farbe:null!=n&&n.farbe?tW[n.farbe][i]:null==n?void 0:n.farbe,cardStyle:i,strichType:null==n?void 0:n.strichType})},t1=function(t){return Math.max(0,t)},t2=function(t,e){var r=t.currentHistoryIndex,n=t.roundHistory.slice(0,r+1);return{roundHistory:[].concat(tJ(n),[e]),currentHistoryIndex:n.length,historyState:{isNavigating:!1,lastNavigationTimestamp:Date.now()}}},t5=function(t,e){return t.striche.top[e]>0?"top":t.striche.bottom[e]>0?"bottom":void 0},t3=(0,E.U)(function(t,e){return tq(tq({},tQ(1)),{},{startGame:function(){var r=tf.getState(),n=!r.isJassStarted,o=e();n?(console.log("\uD83C\uDFAE Starting first game of Jass"),r.startJass({playerNames:o.playerNames,initialStartingPlayer:o.currentPlayer})):(console.log("\uD83C\uDFAE Starting next game"),t({currentPlayer:K(r.getCurrentGame()||null,o.currentPlayer)}),r.startGame()),t({isGameStarted:!0})},startRound:function(){var r=e(),n=X.getState();1===r.currentRound&&n.startGameTimer(),n.startRoundTimer(),t(function(){return{isRoundCompleted:!1,farbe:void 0,currentRoundWeis:[]}})},finalizeRound:function(r,n,o,i){var a=X.getState(),s=tG.getState().settings;t(function(t){var c,u=tG.getState().strokeSettings,l={top:t.jassPoints.top+n,bottom:t.jassPoints.bottom+o},f=tq({},t.striche);if(i){var d="kontermatsch"==(c=t.currentPlayer%2==("top"===i.team?0:1)?"matsch":"kontermatsch")?u.kontermatsch:tS[c];f[i.team]=tq(tq({},f[i.team]),{},tV({},c,f[i.team][c]+d)),console.log("\uD83C\uDFB2 Aktualisierte Striche:",{team:i.team,type:c,settings:u,increment:d,vorher:t.striche[i.team][c],nachher:f[i.team][c]})}var m=tX(t.weisPoints,l),h=U(t.currentPlayer),p=tq(tq({},t),{},{jassPoints:l,scores:m,striche:f,isRoundCompleted:!0,currentRound:t.currentRound+1,currentPlayer:h,currentRoundWeis:[],farbe:r}),g=t0(p,e(),"jass",{farbe:r,strichType:c,cardStyle:s.cardStyle});return tf.getState().updateCurrentGame({teams:{top:{jassPoints:l.top,weisPoints:t.weisPoints.top,striche:f.top,total:m.top,bergActive:t.striche.top.berg>0,bedankenActive:!1,isSigned:!1,playerStats:{1:{striche:0,points:0,weisPoints:0},2:{striche:0,points:0,weisPoints:0},3:{striche:0,points:0,weisPoints:0},4:{striche:0,points:0,weisPoints:0}}},bottom:{jassPoints:l.bottom,weisPoints:t.weisPoints.bottom,striche:f.bottom,total:m.bottom,bergActive:t.striche.bottom.berg>0,bedankenActive:!1,isSigned:!1,playerStats:{1:{striche:0,points:0,weisPoints:0},2:{striche:0,points:0,weisPoints:0},3:{striche:0,points:0,weisPoints:0},4:{striche:0,points:0,weisPoints:0}}}},roundHistory:[].concat(tJ(t.roundHistory),[g]),currentRound:t.currentRound+1,currentPlayer:h}),a.resetRoundTimer(),a.startRoundTimer(),tq(tq({},p),{},{roundHistory:[].concat(tJ(t.roundHistory),[g]),currentHistoryIndex:t.roundHistory.length})})},updateScore:function(e,r,n){t(function(t){var o=tq({},t.scores);return o[e]=t1(r),o["top"===e?"bottom":"top"]=t1(n),{scores:o}})},addStrich:function(e,r){t(function(t){var n=tG.getState().strokeSettings,o=tq({},t.striche),i=1;"schneider"===r?i=n.schneider:"kontermatsch"===r&&(i=n.kontermatsch),o[e][r]+=i;var a=tf.getState(),s=a.getCurrentGame();return s&&a.updateCurrentGame({teams:tq(tq({},s.teams),{},tV({},e,tq(tq({},s.teams[e]),{},{striche:o[e]}))),roundHistory:s.roundHistory,currentRound:t.currentRound,currentPlayer:t.currentPlayer}),tq(tq({},t),{},{striche:o})})},addWeisPoints:function(r,n){t(function(t){var o=tq({},t.weisPoints);o[r]+=n;var i=tX(o,t.jassPoints),a={position:r,points:n},s=t0(tq(tq({},t),{},{weisPoints:o,scores:i,currentRoundWeis:[].concat(tJ(t.currentRoundWeis),[a]),currentRound:t.currentRound}),e(),"weis"),c=t2(t,s);return tq(tq({},t),{},{weisPoints:o,scores:i,currentRoundWeis:[].concat(tJ(t.currentRoundWeis),[a])},c)});var o=e();console.group("\uD83C\uDFB2 WEIS UPDATE:"),console.log("Team:",r),console.log("Points:",n),console.log("New State:",{weisPoints:o.weisPoints,currentRoundWeis:o.currentRoundWeis,scores:o.scores}),console.groupEnd()},undoLastWeis:function(){t(function(t){return{currentRoundWeis:t.currentRoundWeis.slice(0,-1)}})},finalizeGame:function(){t(function(){return{isGameCompleted:!0}})},resetGame:function(){var r=tf.getState();e(),t(function(t){var e;return tq(tq({},tQ(t.currentPlayer)),{},{playerNames:(null===(e=r.currentSession)||void 0===e?void 0:e.playerNames)||t.playerNames,scoreSettings:t.scoreSettings,farbeSettings:t.farbeSettings})})},resetGamePoints:function(){t(function(){return{scores:{top:0,bottom:0}}})},setScore:function(e,r){t(function(t){var n=tq({},t.scores);return n[e]=t1(r),{scores:n}})},setPlayerNames:function(e){t(function(){return{playerNames:e}})},updateScoreByStrich:function(r,n){var o=e(),i=tG.getState().showHistoryWarning,a=function(){t(function(t){var o=tq({},t.scores);o[r]+=n;var i=t0(tq(tq({},t),{},{scores:o}),e(),"jass");return tq({scores:o},t2(t,i))})};if(o.currentHistoryIndex<o.roundHistory.length-1){i({message:tH,onConfirm:a,onCancel:function(){return e().jumpToLatest()}});return}a()},getVisualStriche:function(t){var r=td(e().scores[t]),n=r.striche,o=r.restZahl;return{stricheCounts:{20:n["20"],50:n["50"],100:n["100"]},restZahl:o}},showHistoryWarning:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return e().jumpToLatest()},o=e();o.currentHistoryIndex<o.roundHistory.length-1?tG.getState().showHistoryWarning({message:t,onConfirm:r,onCancel:n}):r()},navigateHistory:function(r){var n=e(),o=Date.now();n.historyState.lastNavigationTimestamp&&o-n.historyState.lastNavigationTimestamp<300||t(function(t){var n="forward"===r?t.currentHistoryIndex+1:t.currentHistoryIndex-1;if(n<-1||n>t.roundHistory.length)return t;if(-1===n)return tq(tq({},tQ(t.startingPlayer)),{},{playerNames:t.playerNames,scoreSettings:t.scoreSettings,farbeSettings:t.farbeSettings,roundHistory:t.roundHistory,currentHistoryIndex:-1,historyState:{isNavigating:!0,lastNavigationTimestamp:o}});var i=t.roundHistory[n],a=tq(tq({},t),{},{currentRound:i.roundState.roundNumber,currentPlayer:i.roundState.nextPlayer,weisPoints:tq({},i.weisPoints),jassPoints:tq({},i.jassPoints),scores:tq({},i.scores),striche:JSON.parse(JSON.stringify(i.striche)),currentRoundWeis:tJ(i.weisActions),isRoundCompleted:i.isCompleted,farbe:"jass"===i.actionType?i.farbe:void 0,currentHistoryIndex:n,historyState:{isNavigating:!0,lastNavigationTimestamp:o}});if(n===t.roundHistory.length){var s=e();return tq(tq({},a),{},{currentRound:s.currentRound,isRoundCompleted:!1,farbe:void 0})}return a})},canNavigateForward:function(){var t=e();return t.currentHistoryIndex<t.roundHistory.length-1},canNavigateBackward:function(){return e().currentHistoryIndex>-1},jumpToLatest:function(){var r=e();if(0!==r.roundHistory.length){var n,o=r.roundHistory[r.roundHistory.length-1];t(tq(tq({},r),{},{weisPoints:o.weisPoints,jassPoints:o.jassPoints,scores:o.scores,currentPlayer:o.currentPlayer,currentRound:o.roundId,striche:{top:{berg:(n=o.visualStriche).top.stricheCounts.berg||0,sieg:n.top.stricheCounts.sieg||0,matsch:n.top.stricheCounts.matsch||0,schneider:n.top.stricheCounts.schneider||0,kontermatsch:n.top.stricheCounts.kontermatsch||0},bottom:{berg:n.bottom.stricheCounts.berg||0,sieg:n.bottom.stricheCounts.sieg||0,matsch:n.bottom.stricheCounts.matsch||0,schneider:n.bottom.stricheCounts.schneider||0,kontermatsch:n.bottom.stricheCounts.kontermatsch||0}},currentRoundWeis:o.weisActions,currentHistoryIndex:r.roundHistory.length-1,historyState:{isNavigating:!1,lastNavigationTimestamp:Date.now()}}))}},validateHistoryAction:function(){var t=e();return t.currentHistoryIndex===t.roundHistory.length-1},syncHistoryState:function(e){t(function(t){return tq(tq({},t),{},{roundHistory:[].concat(tJ(t.roundHistory),[e]),currentHistoryIndex:t.roundHistory.length,historyState:{isNavigating:!1,lastNavigationTimestamp:Date.now()}})})},logGameHistory:function(){var t=e().roundHistory.filter(function(t){return t.isRoundFinalized}).map(function(t){return{roundId:t.roundId,farbe:"jass"===t.actionType?t.farbe:void 0,strichInfo:"jass"===t.actionType?t.strichInfo:void 0,timestamp:new Date(t.timestamp).toLocaleString("de-CH"),points:{top:t.jassPoints.top,bottom:t.jassPoints.bottom},weisPoints:{top:t.weisPoints.top,bottom:t.weisPoints.bottom},totalPoints:{top:t.scores.top,bottom:t.scores.bottom}}});return console.log("Spielverlauf:",t),t},updateWeisPoints:function(r,n){e(),t(function(t){var o=tq({},t.weisPoints);o[r]+=n;var i={top:t.jassPoints.top+o.top,bottom:t.jassPoints.bottom+o.bottom},a={position:r,points:n},s=t0(tq(tq({},t),{},{weisPoints:o,scores:i,currentRoundWeis:[].concat(tJ(t.currentRoundWeis),[a])}),e(),"weis"),c=t2(t,s);return console.log("\uD83C\uDFB2 Weis-Update:",{position:r,points:n,newWeisPoints:o,newScores:i}),tq(tq({},t),{},{weisPoints:o,scores:i,currentRoundWeis:[].concat(tJ(t.currentRoundWeis),[a])},c)})},restoreRoundState:function(e){t(function(t){return tq(tq({},t),{},{currentRound:e.roundState.roundNumber,currentPlayer:e.roundState.nextPlayer})})},isBergActive:function(t){return e().striche[t].berg>0},isSiegActive:function(t){return e().striche[t].sieg>0},addBerg:function(e){t(function(t){var r,n=tG.getState().scoreSettings;if(!(null!=n&&null!==(r=n.enabled)&&void 0!==r&&r.berg))return t;var o=t5(t,"berg"),i=tq({},t.striche);return o===e?i[e].berg=0:o||(i[e].berg=1,i["top"===e?"bottom":"top"].berg=0),tq(tq({},t),{},{striche:i})})},addSieg:function(e){t(function(t){var r=tG.getState(),n=r.scoreSettings,o=r.strokeSettings,i=t5(t,"sieg"),a=null==n||null===(s=n.enabled)||void 0===s||!s.berg||t.striche.top.berg>0||t.striche.bottom.berg>0;if(i===e)return tq(tq({},t),{},{striche:tq(tq({},t.striche),{},tV({},e,tq(tq({},t.striche[e]),{},{sieg:0,schneider:0})))});if(!i&&a){var s,c,u="top"===e?"bottom":"top",l=tq(tq({},t),{},{striche:tq(tq({},t.striche),{},tV(tV({},e,tq(tq({},t.striche[e]),{},{sieg:tS.sieg})),u,tq(tq({},t.striche[u]),{},{sieg:0})))});return null!=n&&null!==(c=n.enabled)&&void 0!==c&&c.schneider&&t.scores[u]<n.values.schneider&&(l.striche[e].schneider=o.schneider),l}return t})},addSchneider:function(e){t(function(t){var r=tG.getState(),n=r.scoreSettings,o=r.strokeSettings;if(console.log("\uD83C\uDFB2 Settings beim Schneider:",{scoreSettings:n,strokeSettings:o,team:e,currentStriche:t.striche[e]}),!(t.striche[e].sieg>0))return t;var i="top"===e?"bottom":"top",a=t.scores[i],s=n.enabled.schneider&&a<n.values.schneider;return tq(tq({},t),{},{striche:tq(tq({},t.striche),{},tV(tV({},e,tq(tq({},t.striche[e]),{},{schneider:s?o.schneider:0})),i,tq(tq({},t.striche[i]),{},{schneider:0})))})})},addMatsch:function(e){t(function(t){var r=tG.getState().strokeSettings,n=t.currentPlayer%2==0,o=n&&"top"===e||!n&&"bottom"===e?"kontermatsch":"matsch",i="kontermatsch"===o?r.kontermatsch:tS.matsch;return console.log("\uD83C\uDFB2 Matsch/Kontermatsch hinzuf\xfcgen:",{team:e,strichTyp:o,settings:r,increment:i}),tq(tq({},t),{},{striche:tq(tq({},t.striche),{},tV({},e,tq(tq({},t.striche[e]),{},tV({},o,t.striche[e][o]+i))))})})},getTotalStriche:function(t){var r,n,o=e(),i=tG.getState().scoreSettings,a=o.striche[t],s=0;return null!=i&&null!==(r=i.enabled)&&void 0!==r&&r.berg&&(s+=a.berg),s+=a.sieg,null!=i&&null!==(n=i.enabled)&&void 0!==n&&n.schneider&&(s+=a.schneider),s+=a.matsch+a.kontermatsch},completeRound:function(){var e=X.getState();t(function(t){return tq(tq({},t),{},{isRoundCompleted:!0,currentRound:t.currentRound+1})}),e.resetRoundTimer()}})});function t4(t){return(t4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function t6(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function t8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function t7(t,e,r){var n;return(n=function(t,e){if("object"!==t4(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==t4(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===t4(n)?n:String(n))in t)?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}t3.subscribe(function(t){console.log("\uD83D\uDD04 GameStore State nach Update:",{currentPlayer:t.currentPlayer,startingPlayer:t.startingPlayer,currentRound:t.currentRound,isRoundCompleted:t.isRoundCompleted})});var t9=(0,S.ZP)("div")({position:"absolute",width:"75%",maxWidth:"320px",height:"80%",top:"10%",left:"50%",transform:"translateX(-50%)",pointerEvents:"none"}),et=(0,S.ZP)("div")(function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?t8(Object(r),!0).forEach(function(e){t7(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t8(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({position:"absolute",width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-start",padding:"0 10px",boxSizing:"border-box",pointerEvents:"auto",cursor:"pointer"},t.customStyle)}),ee=(0,S.ZP)("span")(function(t){var e=t.position;return t7(t7(t7(t7(t7(t7({position:"absolute"},"top"===e?"left":"right","10px"),"top","50%"),"transform","top"===e?"translateY(-50%) rotate(180deg)":"translateY(-50%)"),"color","rgba(255, 255, 255, 0.8)"),"fontSize","16px"),"fontWeight","bold")}),er=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-43,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0%",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0%",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0%",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"0%";return"bottom"===t?{"100er":{height:"20%",top:"calc(-3.5% + ".concat(n,")"),left:"-4%",width:"105%"},"50er":{height:"20%",top:"70%",left:"9%",width:"95%",transform:"rotate(".concat(e,"deg)"),transformOrigin:"top left"},"20er":{height:"20%",bottom:"calc(-4.5% + ".concat(i,")"),left:"2%",width:"90%"},restzahl:{height:"20%",top:"88%",right:"-2%",width:"20%"}}:{"20er":{height:"20%",top:"calc(-4.5% + ".concat(o,")"),right:"2%",width:"90%"},"50er":{height:"20%",bottom:"14%",left:"22%",width:"95%",transform:"rotate(".concat(e,"deg)"),transformOrigin:"bottom left"},"100er":{height:"20%",bottom:"calc(-3.5% + ".concat(r,")"),right:"-4%",width:"105%"},restzahl:{height:"20%",bottom:"88%",left:"-2%",width:"20%"}}},en=(0,S.ZP)("div")(function(t){return{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",transform:t.isRotated?"rotateX(180deg) rotateY(180deg) rotateZ(180deg)":"none",transformOrigin:"center center"}}),eo=function(t){if("restzahl"===t)return"restzahl";var e=parseInt(t);return 20===e||50===e||100===e?e:20},ei=function(t){if("restzahl"===t)return 1;var e=parseInt(t);return 20===e||50===e||100===e?e:20},ea=function(t){var e=t.position,r=t.onBlendEffect,n=t.top100erOffset,o=t.bottom100erOffset,i=t.top20erOffset,a=t.bottom20erOffset,s=(0,h.useRef)(0),c=(0,h.useRef)(),u=t3(),l=(u.updateScoreByStrich,u.addWeisPoints),f=u.currentHistoryIndex,d=u.roundHistory,m=u.showHistoryWarning,p=u.getVisualStriche,g=u.jumpToLatest,y=tG(),v=y.setGameInfoOpen,x=y.setLastDoubleClickPosition;y.closeHistoryWarning;var S=p(e),w=(0,h.useCallback)(function(t,n){var o=Date.now();if(o-s.current<200){c.current&&clearTimeout(c.current),v(!0),x(e);return}s.current=o;var i=function(){l(e,ei(n)),r(e)};if(f<d.length-1){m(tH,i,function(){return g()});return}c.current=setTimeout(i,200)},[l,r,e,f,d.length,m,g]);(0,h.useEffect)(function(){return function(){c.current&&clearTimeout(c.current)}},[]);var j=er(e,-43,void 0===n?"2%":n,void 0===o?"2%":o,void 0===i?"2%":i,void 0===a?"2%":a);return(0,b.jsx)(t9,{children:(0,b.jsx)(en,{isRotated:"top"===e,children:Object.entries(j).map(function(t){var r=function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{for(i=(r=r.call(t)).next;!(c=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,2)||function(t,e){if(t){if("string"==typeof t)return t6(t,2);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t6(t,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=r[0],o=r[1],i=eo(n),a="restzahl"===i?S.restZahl:S.stricheCounts[i]||0;return(0,b.jsx)(et,{customStyle:o,"data-strich-box":"true",onClick:function(t){return w(t,n)},children:"restzahl"===i?(0,b.jsx)(ee,{position:e,children:S.restZahl}):(0,b.jsx)(N,{stricheCount:a,stricheCounts:S.stricheCounts,einheitWert:i,strichColor:"rgb(255, 255, 255)",animationDuration:100,isActive:!0,direction:"top"===e?"rtl":"ltr",edgeOffset:0,isXMode:50===i,xAngle:18,xAlignment:"top"===e?"right":"left",isDiagonal:!0,diagonalAngle:"top"===e?-43:43,diagonalStrichHeight:"116%",diagonalStrichWidth:"2px",diagonalStrichOffset:{vertical:"0%",horizontal:"0%"},diagonalStrichAngle:"top"===e?-25:25,topDiagonalStrichOffset:{vertical:"0%",horizontal:"0%"},bottomDiagonalStrichOffset:{vertical:"0%",horizontal:"0%"},topDiagonalStrichAngle:30,bottomDiagonalStrichAngle:30,position:e,diagonalStrichOffset100er:{vertical:"top"===e?"-18%":"3%",horizontal:"top"===e?"10%":"-5%"},diagonalStrichOffset20er:{vertical:"top"===e?"-20%":"3.5%",horizontal:"top"===e?"5.5%":"-1.5%"},diagonalStrichAngle100er:35,diagonalStrichAngle20er:35})},n)})})})};function es(t){return(es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ec(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function eu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ec(Object(r),!0).forEach(function(e){el(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ec(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function el(t,e,r){var n;return(n=function(t,e){if("object"!==es(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==es(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===es(n)?n:String(n))in t)?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ef(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var ed=(0,h.forwardRef)(function(t,e){var r,n=t.position,o=t.height,i=t.zShapeConfig,a=t.padding,s=t.onSwipe,c=t.y,u=t.mainOpacity,l=t.getBrightness,f=t.onLongPress,d=t.score,m=t.triggerBlendEffect;t.isHistoryNavigationActive;var g=function(t){if(Array.isArray(t))return t}(r=(0,h.useState)(null))||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{for(i=(r=r.call(t)).next;!(c=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(r,2)||function(t,e){if(t){if("string"==typeof t)return ef(t,2);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ef(t,2)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=g[0],S=g[1],w=function(){S(setTimeout(function(){f()},400))},j=function(){y&&clearTimeout(y)};(0,h.useEffect)(function(){return function(){y&&clearTimeout(y)}},[y]),x({onSwipeLeft:function(){return s("left",n)},onSwipeRight:function(){return s("right",n)},onSwipeUp:function(){return s("up",n)},onSwipeDown:function(){return s("down",n)},element:n});var O=el(el(el(el(el(el({width:"100%",position:"absolute",left:0,right:0,overflow:"visible",height:"".concat(o,"px")},n,0),a,"env(safe-area-inset-top)"),"userSelect","none"),"WebkitUserSelect","none"),"WebkitTouchCallout","none"),"touchAction","none"),P=el(el({position:"absolute",width:"110%",left:"-1%"},"top"===n?"bottom":"top","".concat(1.5*i.innerSpacing,"px")),"height","calc(100% - ".concat(1.5*i.edgeSpacing+.8*i.innerSpacing,"px)"));return(0,b.jsxs)(p.q.div,{style:eu(eu({},O),{},{transform:c.to(function(t){return 0===t?"none":"translateY(".concat("top"===n?-t:t,"px)")})}),"data-swipe-area":n,onMouseDown:w,onMouseUp:j,onTouchStart:w,onTouchEnd:j,onContextMenu:function(t){return t.preventDefault()},children:[(0,b.jsx)("div",{style:P,children:(0,b.jsx)(v,{className:"w-full h-full text-chalk-red",position:n,isReversed:"top"===n})}),(0,b.jsx)(p.q.div,{style:eu(eu({},{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"white",pointerEvents:"none"}),{},{opacity:c.to(l)})}),(0,b.jsx)(p.q.div,{className:"absolute inset-0 flex items-center justify-center",style:{opacity:u},children:(0,b.jsx)("span",{className:"text-gray-300 text-[9rem] opacity-50 select-none",style:{transform:"top"===n?"rotate(180deg)":"none"},children:d})}),(0,b.jsx)(ea,{position:n,onBlendEffect:m})]})});function em(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var eh=function(t){var e,r=t.initialPosition,n=t.maxOffset;t.position;var o=function(t){if(Array.isArray(t))return t}(e=(0,p.q_)(function(){return{y:r,mainOpacity:1,oppositeOpacity:1,config:{mass:1,tension:120,friction:26,clamp:!0,duration:250}}}))||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{for(i=(r=r.call(t)).next;!(c=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,2)||function(t,e){if(t){if("string"==typeof t)return em(t,2);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return em(t,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],a=o[1];return{y:i.y,mainOpacity:i.mainOpacity,oppositeOpacity:i.oppositeOpacity,animateSwipe:function(t){"boolean"==typeof t?a.start({y:t?n:r,mainOpacity:1,oppositeOpacity:1}):a.start({mainOpacity:0,oppositeOpacity:0,config:{duration:125},onRest:function(){a.start({mainOpacity:1,oppositeOpacity:1,config:{duration:125}})}})},getBrightness:function(t){return"number"!=typeof t||isNaN(t)||"number"!=typeof n||0===n?0:Math.max(0,Math.min(t/n*.45,.45))}}},ep=r(3280),eg=r(9883),ey=function(t,e){if(!(t<.3)){var r=document.querySelector(".matsch-button");if(r)for(var n=r.getBoundingClientRect(),o=(n.left+n.width/2)/window.innerWidth,i=(n.top+n.height/2)/window.innerHeight,a=10+(t-.3)*30,s=function(t,r,n,a){(0,eg.Z)({particleCount:n,angle:e?(t+180)%360:t,spread:r,origin:{x:o,y:i},colors:["#FF0000","#FFA500","#FFFF00","#00FF00","#0000FF","#800080"],scalar:a,gravity:e?-1:1,ticks:300})},c=0;c<360;c+=45)s(c,55,Math.floor(.3*a),1.2),s(c,25,Math.floor(.4*a),.8),s(c,10,Math.floor(.3*a),.4)}},eb=["Eicheln","Rosen","Schellen","Schilten"],ev={Misère:"\uD83E\uDD2E",Eicheln:"\uD83C\uDF33",Rosen:"\uD83C\uDF39",Schellen:"\uD83D\uDD14",Schilten:"\uD83D\uDEE1️",Obe:"\uD83D\uDC47",Une:"\uD83D\uDC47","3x3":"3️⃣",Quer:"↕️",Slalom:"⛷️"},ex={Misère:"\uD83E\uDD2E",Eicheln:"♠️",Rosen:"♣️",Schellen:"♥️",Schilten:"♦️",Obe:"\uD83D\uDC46",Une:"\uD83D\uDC47","3x3":"3️⃣",Quer:"↕️",Slalom:"⛷️"},eS={},ew=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DE",n="".concat(t,"-").concat(e,"-").concat(r);if(eS[n])return eS[n];if("emoji"===e){var o="DE"===r?ev:ex;return eS[n]=o[t],eS[n]}var i=tW[t][r].toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,""),a="/assets/pictograms/standardDE/".concat(i,".").concat(eb.includes(t)?"png":"svg");return eS[n]=a,a};function ej(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var eO=function(t){var e,r=function(t){if(Array.isArray(t))return t}(e=(0,h.useState)(!1))||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{for(i=(r=r.call(t)).next;!(c=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,2)||function(t,e){if(t){if("string"==typeof t)return ej(t,2);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ej(t,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=r[0],o=r[1],i=function(t){null==t||t.preventDefault(),o(!0)},a=function(e){null==e||e.preventDefault(),o(!1),t()};return{isPressedDown:n,handlers:{onMouseDown:i,onMouseUp:a,onMouseLeave:function(){return o(!1)},onTouchStart:i,onTouchEnd:a},buttonClasses:"\n      transition-all duration-100\n      ".concat(n?"scale-95 opacity-80":"scale-100 opacity-100","\n    ")}};function eP(t){return(eP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function eE(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?eN(Object(r),!0).forEach(function(e){var n,o;n=e,o=r[e],(n=function(t){var e=function(t,e){if("object"!==eP(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==eP(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===eP(e)?e:String(e)}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function ek(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return eC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eC(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eC(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var eT=function(t){var e,r,n=t.isOpen,o=t.onClose,i=t.initialValue,a=void 0===i?0:i,s=t.clickedPosition,c=t3(),u=c.finalizeRound,l=c.currentHistoryIndex,f=c.roundHistory,d=c.showHistoryWarning,m=c.jumpToLatest,g=c.validateHistoryAction,y=tG(),v=y.calculator,x=y.setCalculatorFlipped,S=y.farbeSettings,w=y.settings,j=w.pictogramConfig,O=w.cardStyle,P=ek((0,h.useState)((null==a?void 0:a.toString())||"0"),2),N=P[0],E=P[1],k=ek((0,h.useState)("0"),2),C=k[0],T=k[1],A=ek((0,h.useState)("0"),2),L=A[0],I=A[1],D=ek((0,h.useState)(1),2),R=D[0],G=D[1],M=ek((0,h.useState)(null),2),_=M[0],F=M[1],H=ek((0,h.useState)(new Set),2),z=(H[0],H[1]),W=ek((0,h.useState)(!1),2),B=W[0],J=W[1],U=ek((0,h.useState)(!1),2),K=U[0],q=U[1],V=ek((0,h.useState)(0),2),Y=V[0],Z=V[1],$=ek((0,h.useState)(null),2),X=$[0],Q=$[1],tt=ek((0,h.useState)(0),2),te=tt[0],tr=tt[1],tn=ek((0,h.useState)(!1),2),to=tn[0],ti=tn[1],ta=(0,p.q_)({opacity:n?1:0,transform:"scale(".concat(n?1:.95,") rotate(").concat(v.isFlipped?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20}});(0,h.useEffect)(function(){n&&x(!1)},[n,x]),(0,h.useEffect)(function(){n&&s&&x("top"===s)},[n,s,x]),(0,h.useEffect)(function(){ti(!0)},[]);var ts=function(t,e){if("0"===t)T("0"),I("0");else if("257"===t)T("0"),I((257*e).toString());else{var r=parseInt(t,10);T((Math.max(157-r,0)*e).toString()),I((r*e).toString())}};(0,h.useEffect)(function(){ts(N,R)},[N,R]);var tc=function(){return!isNaN(parseInt(N,10))&&null!==_},tu=function(t){if(!B){var e=Date.now();e-te<100||(tr(e),E(function(e){if("0"===e)return t.toString();var r=e+t.toString();return 157>=parseInt(r,10)?r:e}),z(function(e){return new Set(e).add(t)}),setTimeout(function(){z(function(e){var r=new Set(e);return r.delete(t),r})},100))}},tl=function(t,e){F(t),G(e),ts(N,e)},tf=(0,h.useCallback)(function(){if(tc()&&_){var t=parseInt(L,10),e=parseInt(C,10),r={top:"top"===s?t:e,bottom:"bottom"===s?t:e};if(!g()){d(tH,function(){u(_,r.top,r.bottom,B?{team:s,type:"matsch"}:void 0),o()},function(){return m()});return}u(_,r.top,r.bottom,B?{team:s,type:"matsch"}:void 0),o()}},[tc,_,L,C,s,B,l,f.length,d,m,u,o,g]),td=function(){x(!v.isFlipped)},tm=function(t){null==t||t.stopPropagation(),E("257"),T("0"),I((257*R).toString()),J(!0),ey(Y,v.isFlipped)},th=(v.isFlipped,[1,2,3,4,5,6,7,8,9]),tg=(0,h.useMemo)(function(){return tp.map(function(t,e){return{color:t.name,multiplier:S.multipliers[e]}}).filter(function(t){return t.multiplier>0}).sort(function(t,e){return t.multiplier-e.multiplier})},[S.multipliers]),ty=function(t,e,r){var n,o,i,a=tp.find(function(e){return e.name===t});return e?"bg-orange-500":"FR"===O?(null==a||null===(o=a.frStyle)||void 0===o?void 0:o.backgroundColor)||"bg-gray-600":"emoji"===r?(null==a||null===(i=a.emojiStyle)||void 0===i?void 0:i.backgroundColor)||"bg-gray-600":(null==a||null===(n=a.standardStyle)||void 0===n?void 0:n.backgroundColor)||"bg-gray-600"},tb=function(t){return j.isEnabled||"une"!==t.toLowerCase()?"FR"!==O||j.isEnabled?t:({Eicheln:"Schaufel",Rosen:"Kreuz",Schellen:"Herz",Schilten:"Ecke"})[t]||t:"Unde"},tv=function(t,e){var r=eO(function(){return tl(t,e)}),n=r.handlers,o=r.buttonClasses,i="mis\xe8re"===t.toLowerCase()&&_===t;return(0,b.jsx)("button",eE(eE({},n),{},{className:"p-1 rounded text-white select-none text-xs h-12 flex items-center justify-center ".concat(_===t?"active":""," ").concat(ty(t,_===t,j.mode)," ").concat(o),"aria-label":"".concat(t),children:to&&j.isEnabled?"emoji"===j.mode?(0,b.jsx)("span",{className:"text-2xl",children:ew(t,"emoji",O)}):(0,b.jsx)("img",{src:ew(t,"svg",O),alt:t,className:"w-10 h-10 object-contain ".concat(i?"invert brightness-0":""),onError:function(e){e.currentTarget.style.display="none";var r=e.currentTarget.parentElement;r&&(r.textContent=tb(t))}}):tb(t)}),t)},tx=function(t){var e=eO(function(){return tu(t)}),r=(e.isPressedDown,e.handlers),n=e.buttonClasses;return(0,b.jsx)("button",eE(eE({},r),{},{className:"bg-gray-600 text-white p-4 rounded select-none text-2xl ".concat(n),children:t}),t)},tS=eO(tm);tS.isPressedDown,tS.handlers,tS.buttonClasses;var tw=eO(function(){E("0"),T("0"),G(1),F(null),J(!1)}),tj=tw.handlers,tO=tw.buttonClasses,tP=eO(tf),tN=tP.handlers,tE=tP.buttonClasses;return(0,b.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300 prevent-interactions ".concat(n?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:o,onContextMenu:function(t){return t.preventDefault()},children:(0,b.jsxs)(p.q.div,{style:ta,className:"relative w-11/12 max-w-md",children:[(0,b.jsx)("button",{onClick:function(t){t.stopPropagation(),td()},className:"absolute bottom-full mb-[-10px] left-1/2 transform -translate-x-1/2 \n            text-white hover:text-gray-300 transition-all duration-1000\n            w-24 h-24 flex items-center justify-center\n            rounded-full\n            ".concat(v.isFlipped?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,b.jsx)(ep.bxQ,{className:"w-8 h-8"})}),(0,b.jsx)("button",{onClick:function(t){t.stopPropagation(),o()},className:"absolute right-2 top-2 p-2 text-gray-400 hover:text-white transition-colors z-10",children:(0,b.jsx)(ep.q5L,{size:24})}),(0,b.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg transition-all duration-700 flex flex-col items-center",onClick:function(t){return t.stopPropagation()},children:[(0,b.jsx)("h2",{className:"text-white text-xl mb-4 text-center select-none",children:"Runde schreiben"}),(0,b.jsxs)("div",{className:"flex flex-col w-full space-y-4",children:[(0,b.jsx)("input",{type:"text",value:N,readOnly:!0,className:"w-full bg-gray-700 text-white text-6xl p-4 rounded select-none text-center"}),(0,b.jsxs)("div",{className:"flex justify-between items-stretch w-full space-x-2 h-10",children:[(0,b.jsxs)("div",{className:"w-1/3 bg-gray-700 text-white p-1 rounded select-none flex items-center justify-end relative",children:[(0,b.jsx)("div",{className:"text-xs absolute top-0 left-1",children:"Gegner:"}),(0,b.jsx)("div",{className:"text-xl pr-1",children:C})]}),(0,b.jsx)("button",{onClick:tm,onMouseDown:function(){q(!0),Z(0),Q(setInterval(function(){Z(function(t){return Math.min(t+1,20)})},100))},onMouseUp:function(){q(!1),X&&clearInterval(X),tm()},onMouseLeave:function(){q(!1),X&&clearInterval(X)},onTouchStart:function(){q(!0),Z(0),Q(setInterval(function(){Z(function(t){return Math.min(t+1,20)})},100))},onTouchEnd:function(){q(!1),X&&clearInterval(X),tm()},className:"w-1/3 p-1 rounded select-none transition-all duration-100 text-lg flex items-center justify-center matsch-button ".concat(B?"bg-orange-500 text-white":K?"bg-gray-600 text-white scale-95 opacity-80":"bg-gray-700 text-white hover:bg-orange-500 scale-100 opacity-100"),disabled:B,children:"Matsch"}),(0,b.jsxs)("div",{className:"w-1/3 bg-gray-700 text-white p-1 rounded select-none flex items-center justify-end relative",children:[(0,b.jsx)("div",{className:"text-xs absolute top-0 left-1",children:"Total:"}),(0,b.jsx)("div",{className:"text-xl pr-1",children:L})]})]})]}),(0,b.jsx)("div",{className:"mt-4"}),(0,b.jsx)("div",{className:(e=tg.length,r="grid grid-cols-5 gap-2 mb-4 w-full group ".concat(_?"has-active":""),e<=4?r.replace("grid-cols-5","grid-cols-4"):e<=6?r.replace("grid-cols-5","grid-cols-3"):e<=8?r.replace("grid-cols-5","grid-cols-4"):r),children:tg.map(function(t){return tv(t.color,t.multiplier)})}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-3 w-full",children:[th.map(function(t){return tx(t)}),(0,b.jsx)("button",eE(eE({},tj),{},{className:"bg-red-600 text-white p-4 rounded select-none text-2xl ".concat(tO),children:"C"})),tx(0),(0,b.jsx)("button",eE(eE({},tN),{},{disabled:!tc()||!_,className:"bg-green-600 text-white p-4 rounded select-none text-2xl ".concat(tE,"\n                ").concat(tc()&&_?"":"opacity-50 cursor-not-allowed"),children:"OK"}))]})]})]})})};function eA(t){return(eA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eL(){eL=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(e,r,n,i){var a,s,c=Object.create((r&&r.prototype instanceof g?r:g).prototype);return o(c,"_invoke",{value:(a=new E(i||[]),s=d,function(r,o){if(s===m)throw Error("Generator is already running");if(s===h){if("throw"===r)throw o;return{value:t,done:!0}}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var c=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),p;var a=f(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var s=a.arg;return s?s.done?(n[r.resultName]=s.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):s:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,p)}(i,a);if(c){if(c===p)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var u=f(e,n,a);if("normal"===u.type){if(s=a.done?h:"suspendedYield",u.arg===p)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=h,a.method="throw",a.arg=u.arg)}})}),c}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",m="executing",h="completed",p={};function g(){}function y(){}function b(){}var v={};u(v,a,function(){return this});var x=Object.getPrototypeOf,S=x&&x(x(k([])));S&&S!==r&&n.call(S,a)&&(v=S);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==eA(l)&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,a,s)},function(t){r("throw",t,a,s)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,s)})}s(c.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function k(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(eA(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(O.prototype),u(O.prototype,s,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),u(w,c,"Generator"),u(w,a,function(){return this}),u(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:k(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function eI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function eD(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?eI(Object(r),!0).forEach(function(e){var n,o;n=e,o=r[e],(n=function(t){var e=function(t,e){if("object"!==eA(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==eA(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===eA(e)?e:String(e)}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function eR(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){r(t);return}s.done?e(c):Promise.resolve(c).then(n,o)}function eG(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return eM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eM(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eM(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var e_=function(){t3().startGame;var t,e,r=tG().setStartScreenState,n=tf();X();var o=eG((0,h.useState)({1:"",2:"",3:"",4:""}),2),i=o[0],a=o[1],s=eG((0,h.useState)(z),2),c=s[0];s[1];var u=eG((0,h.useState)(1),2),l=u[0],f=u[1],d=(t=eL().mark(function t(){var e,o,a,s,u,f,d;return eL().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return tG.getState().resetStartScreen(),console.log("\uD83C\uDFAE StartScreen.handleStart:",{startingPlayer:l,teamConfig:c,validatedNames:u={1:(null===(e=i[1])||void 0===e?void 0:e.trim())||"Spieler 1",2:(null===(o=i[2])||void 0===o?void 0:o.trim())||"Spieler 2",3:(null===(a=i[3])||void 0===a?void 0:a.trim())||"Spieler 3",4:(null===(s=i[4])||void 0===s?void 0:s.trim())||"Spieler 4"}}),B(c),console.log("\uD83D\uDCDD Ordered Names:",f={1:u[c.bottom.includes(1)?1:2],2:u[c.top.includes(2)?2:1],3:u[c.bottom.includes(3)?3:4],4:u[c.top.includes(4)?4:3]}),n.startJass({playerNames:f,initialStartingPlayer:l}),t3.setState({playerNames:f,currentPlayer:l,startingPlayer:l}),console.log("\uD83C\uDFB2 GameStore Updated:",t3.getState()),t3.setState(function(t){return eD(eD({},t),{},{isGameStarted:!0,currentRound:1,isGameCompleted:!1,isRoundCompleted:!1})}),(d=X.getState()).resetGameTimers(),d.startGameTimer(),d.startRoundTimer(),r("starting"),t.next=17,new Promise(function(t){return setTimeout(t,300)});case 17:r("complete");case 18:case"end":return t.stop()}},t)}),e=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){eR(i,n,o,a,s,"next",t)}function s(t){eR(i,n,o,a,s,"throw",t)}a(void 0)})},function(){return e.apply(this,arguments)});return(0,b.jsx)(t_.M,{children:(0,b.jsxs)(tF.E.div,{className:"fixed inset-0 flex flex-col items-center justify-center bg-gray-900 bg-opacity-90 z-50 p-4",children:[(0,b.jsxs)("div",{className:"bg-gray-800 bg-opacity-95 rounded-xl p-6 w-full max-w-xs space-y-6 shadow-lg text-center",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white text-center mb-4",children:"Spielernamen eingeben"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Sitzreihenfolge:"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("input",{type:"text",placeholder:"Spieler 1 (Team 1) - Dein Ger\xe4t",value:i[1],onChange:function(t){return a(function(e){return eD(eD({},e),{},{1:t.target.value})})},className:"w-full p-2 ".concat(c.bottom.includes(1)?"bg-gray-500":"bg-gray-800"," \n                border ").concat(1===l?"border-yellow-500 ring-2 ring-yellow-500":"border-gray-600"," \n                rounded-xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 \n                focus:ring-green-500 focus:border-transparent")}),(0,b.jsx)("input",{type:"text",placeholder:"Spieler 2 (Team 2)",value:i[2],onChange:function(t){return a(function(e){return eD(eD({},e),{},{2:t.target.value})})},className:"w-full p-2 ".concat(c.top.includes(2)?"bg-gray-700":"bg-gray-800"," \n                border ").concat(2===l?"border-yellow-500 ring-2 ring-yellow-500":"border-gray-600"," \n                rounded-xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 \n                focus:ring-green-500 focus:border-transparent")}),(0,b.jsx)("input",{type:"text",placeholder:"Spieler 3 (Team 1)",value:i[3],onChange:function(t){return a(function(e){return eD(eD({},e),{},{3:t.target.value})})},className:"w-full p-2 ".concat(c.bottom.includes(3)?"bg-gray-500":"bg-gray-800"," \n                border ").concat(3===l?"border-yellow-500 ring-2 ring-yellow-500":"border-gray-600"," \n                rounded-xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 \n                focus:ring-green-500 focus:border-transparent")}),(0,b.jsx)("input",{type:"text",placeholder:"Spieler 4 (Team 2)",value:i[4],onChange:function(t){return a(function(e){return eD(eD({},e),{},{4:t.target.value})})},className:"w-full p-2 ".concat(c.top.includes(4)?"bg-gray-700":"bg-gray-800"," \n                border ").concat(4===l?"border-yellow-500 ring-2 ring-yellow-500":"border-gray-600"," \n                rounded-xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 \n                focus:ring-green-500 focus:border-transparent")})]}),(0,b.jsx)(tF.E.button,{onClick:function(t){f(function(t){return t%4+1})},className:"w-full p-2 bg-yellow-600 text-white rounded-xl  transition-colors border-b-4 border-yellow-900",whileTap:{scale:.95},animate:{opacity:1},transition:{duration:0},children:"Rosen 10 (Startspieler)"})]}),(0,b.jsx)(tF.E.button,{initial:{scale:.9},animate:{scale:1},whileTap:{scale:.95},onClick:d,className:"bg-green-600 text-white text-2xl font-bold py-6 px-12 rounded-xl shadow-lg hover:bg-green-700 transition-colors mt-6 border-b-4 border-green-900",children:"START"})]})})};function eF(t){return(eF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function ez(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?eH(Object(r),!0).forEach(function(e){var n,o;n=e,o=r[e],(n=function(t){var e=function(t,e){if("object"!==eF(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==eF(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===eF(e)?e:String(e)}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eH(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var eW=function(t){var e=t.currentPlayer,r=t.opacity,n=t.isOpen,o=t.isGameStarted,i=t3().playerNames,a=(0,p.q_)({from:{opacity:0},to:{opacity:n?0:r},config:{duration:150},delay:n?0:750,immediate:n});if(n)return null;var s=function(t){var r=t?[1,3]:[2,4],n=r[0],o=r[1],a=i[n]||"Spieler ".concat(n),s=i[o]||"Spieler ".concat(o);return(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)("span",{className:e===n?"text-white font-semibold text-xl":"text-gray-500",children:a}),(0,b.jsx)("span",{className:"text-gray-500",children:"+"}),(0,b.jsx)("span",{className:e===o?"text-white font-semibold text-xl":"text-gray-500",children:s})]})};return(0,b.jsxs)(p.q.div,{className:"absolute inset-x-0 flex flex-col items-center justify-center pointer-events-none",style:ez(ez({},a),{},{top:"calc(50% - 4rem)",height:"3.5rem"}),children:[(0,b.jsx)("div",{className:"absolute w-full flex justify-center top-[4.5rem]",children:o?s(!0):"START"}),(0,b.jsx)("div",{className:"absolute w-full flex justify-center bottom-0",children:(0,b.jsx)("div",{className:"rotate-180",children:o?s(!1):"START"})})]})},eB=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=(0,h.useRef)(0),n=(0,h.useRef)();return(0,h.useCallback)(function(o){if(o.preventDefault(),r.current+=1,n.current&&clearTimeout(n.current),2===r.current){t(o),r.current=0;return}n.current=setTimeout(function(){r.current=0},e)},[t,e])},eJ=r(4830),eU=function(t){var e=t.onConfirm,r=t.onDismiss,n=t.show;return(0,b.jsx)(t_.M,{children:n&&(0,b.jsxs)(tF.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-[9999] p-4 pointer-events-auto",children:[(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:r}),(0,b.jsxs)(tF.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white z-10",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[(0,b.jsx)(tM.gJy,{className:"w-12 h-12 text-yellow-600 mb-2"}),(0,b.jsx)("p",{className:"text-center mb-6",children:"M\xf6chten Sie wirklich das Spiel zur\xfccksetzen? Alle Daten werden gel\xf6scht."})]}),(0,b.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,b.jsx)("button",{onClick:e,className:"flex-1 bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors text-lg font-semibold",children:"Ja"}),(0,b.jsx)("button",{onClick:r,className:"flex-1 bg-gray-600 text-white px-6 py-2 rounded-full hover:bg-gray-700 transition-colors text-lg font-semibold",children:"Abbrechen"})]})]})]})})},eK=r(5152),eq=r.n(eK);function eV(t){return(eV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eY(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return eZ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eZ(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eZ(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function e$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function eX(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?e$(Object(r),!0).forEach(function(e){eQ(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e$(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function eQ(t,e,r){var n;return(n=function(t,e){if("object"!==eV(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==eV(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===eV(n)?n:String(n))in t)?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var e0=[0,1,2,3,4,5,6,7,8],e1={sieg:{min:0,max:1e4,default:5e3},berg:{min:0,max:5e3,default:2500},schneider:{min:0,max:5e3,default:2500}},e2=function(t){var e=t.multiplier,r=t.onMultiplierClick;return(0,b.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 rounded-lg text-lg font-bold transition-all duration-150\n      ".concat(0===e?"bg-gray-600/50 text-gray-400 hover:bg-gray-700/50":"bg-orange-500 text-white hover:bg-orange-600 active:scale-95 active:opacity-80"),children:0===e?"-":"".concat(e,"x")})},e5=function(t){var e=t.isEnabled,r=t.mode,n=eO(t.onClick),o=n.handlers,i=n.buttonClasses;return(0,b.jsx)("button",eX(eX({},o),{},{className:"px-4 py-2 rounded-lg text-lg font-bold transition-all duration-150\n        ".concat(e?"bg-green-500 text-white hover:bg-green-600":"bg-gray-600/50 text-gray-400 hover:bg-gray-700/50"," ").concat(i),children:e?"svg"===r?"Standard":"Emojis":"Nein"}))},e3=function(t){var e=t.farbe,r=t.mode,n=tG().settings,o=ew(e,r,n.cardStyle),i=tW[e][n.cardStyle];return(0,b.jsx)("div",{className:"flex items-center justify-center w-8 h-8",children:"emoji"===r?(0,b.jsx)("span",{className:"text-2xl",children:o}):(0,b.jsx)("img",{src:o,alt:i,className:"w-6 h-6 object-contain"})})},e4=function(t){var e=t.style,r=t.isActive,n=eO(t.onClick),o=n.handlers,i=n.buttonClasses;return(0,b.jsx)("button",eX(eX({},o),{},{className:"px-3 py-1 rounded ".concat(r?"bg-green-500 text-white":"bg-gray-700 text-gray-300"," ").concat(i),children:e}))},e6=function(t){var e=t.value,r=t.isActive,n=eO(t.onClick),o=n.handlers,i=n.buttonClasses;return(0,b.jsx)("button",eX(eX({},o),{},{className:"px-4 py-2 rounded-lg text-xl font-bold transition-all duration-150 ".concat(r?"bg-green-500 text-white hover:bg-green-600":"bg-gray-700 text-gray-300 hover:bg-gray-600"," ").concat(i),children:e}))},e8=eq()(function(){return Promise.resolve(function(){var t=tG(),e=t.settings,r=t.farbeSettings,n=t.scoreSettings,o=t.updateFarbeSettings,i=t.updateScoreSettings,a=t.closeSettings,s=t.setSettingsTab,c=t.cyclePictogramMode,u=t.setCardStyle,l=t.strokeSettings,f=t.updateStrokeSettings,d=eY((0,h.useState)(r.multipliers),2),m=d[0],g=d[1],y=eY((0,h.useState)(n.values),2),v=y[0],x=y[1],S=eY((0,h.useState)(n.enabled),2),w=S[0],j=S[1],O=eY((0,h.useState)(!1),2),P=O[0],N=O[1],E=eY((0,h.useState)(l),2),k=E[0],C=E[1],T=(0,p.q_)({opacity:e.isOpen?1:0,transform:"scale(".concat(e.isOpen?1:.95,") rotate(").concat(P?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20}});(0,h.useEffect)(function(){x(n.values),j(n.enabled)},[n]);var A=function(t){g(function(e){var r=e[t],n=(e0.indexOf(r)+1)%e0.length;return e.map(function(e,r){return r===t?e0[n]:e})})},L=function(t,e){x(function(r){var n=eX({},r),o=Math.max(e1[t].min,Math.min(e,e1[t].max));if(n[t]=o,"sieg"===t){var i=Math.floor(o/2);n.berg=Math.min(r.berg,i),n.schneider=Math.min(r.schneider,i)}return n})},I=function(t){j(function(e){return eX(eX({},e),{},eQ({},t,!e[t]))})},D=function(){var t=["farben","scores","strokes"],r=(t.indexOf(e.activeTab)+1)%t.length;s(t[r])};return(0,b.jsx)(t_.M,{children:e.isOpen&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",onClick:function(t){t.target===t.currentTarget&&a()},children:(0,b.jsx)(p.q.div,{style:T,className:"w-full max-w-lg p-4 max-h-[85vh]",onClick:function(t){return t.stopPropagation()},children:(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 relative",children:[(0,b.jsx)("button",{onClick:function(){return N(!P)},className:"absolute bottom-full mb-[-10px] left-1/2 transform -translate-x-1/2 \n                  text-white hover:text-gray-300 transition-all duration-1000\n                  w-24 h-24 flex items-center justify-center\n                  rounded-full\n                  ".concat(P?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,b.jsx)(ep.bxQ,{className:"w-8 h-8"})}),(0,b.jsx)("button",{onClick:a,className:"absolute right-2 top-2 p-2 text-gray-400 hover:text-white transition-colors",children:(0,b.jsx)(ep.q5L,{size:24})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-white text-center mb-6",children:function(){switch(e.activeTab){case"farben":return"Farben Einstellungen";case"scores":return"Punkte Einstellungen";case"strokes":return"Striche Einstellungen";default:return""}}()}),"farben"===e.activeTab&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-3 rounded-lg",children:[(0,b.jsx)("span",{className:"text-white text-lg",children:"Jasskarten"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e4,{style:"DE",isActive:"DE"===e.cardStyle,onClick:function(){return u("DE")}}),(0,b.jsx)(e4,{style:"FR",isActive:"FR"===e.cardStyle,onClick:function(){return u("FR")}})]})]})}),(0,b.jsxs)("div",{className:"space-y-4 max-h-[40vh] overflow-y-auto pr-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-3 rounded-lg",children:[(0,b.jsx)("span",{className:"text-white text-lg",children:"Piktogramme"}),(0,b.jsx)(e5,{isEnabled:e.pictogramConfig.isEnabled,mode:e.pictogramConfig.mode,onClick:c})]}),tp.map(function(t,r){return(0,b.jsxs)("div",{className:"flex items-center bg-gray-700/50 p-3 rounded-lg",children:[(0,b.jsx)("span",{className:"text-white text-lg w-12",children:tW[t.name][e.cardStyle]}),(0,b.jsx)("div",{className:"flex-1 flex justify-center items-center",children:e.pictogramConfig.isEnabled&&(0,b.jsx)(e3,{farbe:t.name,mode:e.pictogramConfig.mode})}),(0,b.jsx)(e2,{multiplier:m[r],onMultiplierClick:function(){return A(r)}})]},t.id)})]})]}),"scores"===e.activeTab&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-3 rounded-lg",children:[(0,b.jsx)("span",{className:"text-white text-lg",children:"Sieg-Punkte"}),(0,b.jsx)("input",{type:"number",value:v.sieg,onChange:function(t){return L("sieg",parseInt(t.target.value)||0)},onFocus:function(t){return t.target.select()},className:"w-24 px-3 py-2 bg-gray-600 text-white rounded-lg text-right focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",min:e1.sieg.min,max:e1.sieg.max,style:{WebkitAppearance:"none",MozAppearance:"textfield"}})]}),(0,b.jsxs)("div",{className:"bg-gray-700/50 rounded-lg overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-gray-600",children:[(0,b.jsx)("span",{className:"text-white text-lg",children:"Berg aktiviert"}),(0,b.jsx)("button",{onClick:function(){return I("berg")},className:"px-4 py-2 rounded-lg text-lg font-bold transition-all duration-150\n              ".concat(w.berg?"bg-green-500 text-white hover:bg-green-600":"bg-gray-600/50 text-gray-400 hover:bg-gray-700/50"),children:w.berg?"Ja":"Nein"})]}),w.berg&&(0,b.jsxs)("div",{className:"flex items-center justify-between p-3",children:[(0,b.jsx)("span",{className:"text-white text-lg",children:"Berg-Punkte"}),(0,b.jsx)("input",{type:"number",value:v.berg,onChange:function(t){return L("berg",parseInt(t.target.value)||0)},onFocus:function(t){return t.target.select()},className:"w-24 px-3 py-2 bg-gray-600 text-white rounded-lg text-right focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",min:e1.berg.min,max:Math.floor(v.sieg/2),style:{WebkitAppearance:"none",MozAppearance:"textfield"}})]})]}),(0,b.jsxs)("div",{className:"bg-gray-700/50 rounded-lg overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-gray-600",children:[(0,b.jsx)("span",{className:"text-white text-lg",children:"Schneider aktiviert"}),(0,b.jsx)("button",{onClick:function(){return I("schneider")},className:"px-4 py-2 rounded-lg text-lg font-bold transition-all duration-150\n              ".concat(w.schneider?"bg-green-500 text-white hover:bg-green-600":"bg-gray-600/50 text-gray-400 hover:bg-gray-700/50"),children:w.schneider?"Ja":"Nein"})]}),w.schneider&&(0,b.jsxs)("div",{className:"flex items-center justify-between p-3",children:[(0,b.jsx)("span",{className:"text-white text-lg",children:"Schneider-Punkte"}),(0,b.jsx)("input",{type:"number",value:v.schneider,onChange:function(t){return L("schneider",parseInt(t.target.value)||0)},onFocus:function(t){return t.target.select()},className:"w-24 px-3 py-2 bg-gray-600 text-white rounded-lg text-right focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",min:e1.schneider.min,max:Math.floor(v.sieg/2),style:{WebkitAppearance:"none",MozAppearance:"textfield"}})]})]})]}),"strokes"===e.activeTab&&(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-4 rounded-lg min-h-[4rem]",children:[(0,b.jsx)("span",{className:"text-lg text-white",children:"Schneider-Striche"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(e6,{value:1,isActive:1===k.schneider,onClick:function(){return C(function(t){return eX(eX({},t),{},{schneider:1})})}}),(0,b.jsx)(e6,{value:2,isActive:2===k.schneider,onClick:function(){return C(function(t){return eX(eX({},t),{},{schneider:2})})}})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between bg-gray-700/50 p-4 rounded-lg min-h-[4rem]",children:[(0,b.jsx)("span",{className:"text-lg text-white",children:"Kontermatsch-Striche"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(e6,{value:1,isActive:1===k.kontermatsch,onClick:function(){return C(function(t){return eX(eX({},t),{},{kontermatsch:1})})}}),(0,b.jsx)(e6,{value:2,isActive:2===k.kontermatsch,onClick:function(){return C(function(t){return eX(eX({},t),{},{kontermatsch:2})})}})]})]})]})}),(0,b.jsxs)("div",{className:"mt-8 flex justify-center items-center space-x-6",children:[(0,b.jsx)(e7,{direction:"left",onClick:D}),(0,b.jsx)(e9,{onClick:function(){o({multipliers:m,isFlipped:P}),i({values:v,enabled:w}),f(k),a()}}),(0,b.jsx)(e7,{direction:"right",onClick:D})]})]})})})})})},{ssr:!1}),e7=function(t){var e=t.direction,r=eO(t.onClick),n=r.handlers,o=r.buttonClasses,i="left"===e?ep.YFh:ep.Tfp;return(0,b.jsx)("button",eX(eX({},n),{},{className:"p-3 text-white transition-colors\n        bg-gray-700 rounded-lg hover:bg-gray-600 ".concat(o),children:(0,b.jsx)(i,{size:32})}))},e9=function(t){var e=eO(t.onClick),r=e.handlers,n=e.buttonClasses;return(0,b.jsx)("button",eX(eX({},r),{},{className:"py-3 px-8 bg-yellow-600 text-white rounded-lg font-medium text-lg\n        hover:bg-yellow-700 transition-all duration-150 ".concat(n),children:"Speichern"}))},rt=function(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://")};function re(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return rr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rr(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var rn=function(t){var e=t.isOpen,r=t.onClose,n=t.swipePosition,o=tG(),i=o.openResultatKreidetafel,a=o.openFarbeSettings,s=re((0,h.useState)(null),2),c=s[0],u=s[1],l=re((0,h.useState)(!1),2),f=l[0],d=l[1],m={hidden:{opacity:0,y:0},visible:{opacity:1,y:0}},p=function(t){u(t),setTimeout(function(){return u(null)},150)},g=function(){p("trash"),d(!0)},y=(0,h.useCallback)(function(){var t=tf.getState(),e=t3.getState(),n=tG.getState(),o=X.getState();t.resetJass(),e.resetGame(),n.resetAll(),o.resetAllTimers(),d(!1),r()},[r]),v=(0,h.useCallback)(function(){i(n),setTimeout(function(){r()},100)},[i,n,r]),x=(0,h.useCallback)(function(){a(),setTimeout(function(){r()},100)},[a,r]),S=(0,h.useCallback)(function(){tG.getState().showOnboarding(!0,rt()),r()},[r]),w=[{icon:tM.AMf,onClick:g,color:"bg-red-500",id:"trash"},{icon:tM.DAO,onClick:S,color:"bg-blue-500",id:"info"},{icon:tM.p4t,onClick:x,color:"bg-yellow-500",id:"farbe"},{icon:eJ.cmy,onClick:v,color:"bg-green-500",id:"resultat"}],j=[{icon:eJ.cmy,onClick:v,color:"bg-green-500",id:"resultat"},{icon:tM.p4t,onClick:x,color:"bg-yellow-500",id:"farbe"},{icon:tM.DAO,onClick:S,color:"bg-blue-500",id:"info"},{icon:tM.AMf,onClick:g,color:"bg-red-500",id:"trash"}],O="top"===n?j:w;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(tF.E.div,{className:"absolute inset-x-0 top-1/2 transform -translate-y-1/2 flex justify-center items-center h-16 z-10 ".concat(e?"opacity-100":"opacity-0 pointer-events-none"," transition-opacity duration-300"),variants:{hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.05}}},initial:"hidden",animate:e?"visible":"hidden",children:(0,b.jsx)("div",{className:"flex justify-center space-x-10",children:O.map(function(t){var e=t.icon,r=t.onClick,o=t.color,i=t.id;return(0,b.jsx)(tF.E.button,{onClick:r,className:"".concat("w-12 h-12 p-2 rounded-xl shadow-md transition-transform hover:scale-110"," ").concat(o," text-white"),variants:m,onMouseDown:function(){return p(i)},onTouchStart:function(){return p(i)},children:(0,b.jsx)(e,{className:"w-full h-full ".concat(c===i?"opacity-70":""),style:{transform:"top"===n?"rotate(180deg)":"none"}})},i)})})}),(0,b.jsx)(e8,{}),(0,b.jsx)(eU,{show:f,onConfirm:y,onDismiss:function(){return d(!1)}})]})},ro=r(8407),ri=r(5480);function ra(t){return function(t){if(Array.isArray(t))return rs(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return rs(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rs(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rs(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function rc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ru={baseStrich:{length:38,width:3,color:"#FFFFFF",opacity:1},diagonalStrich:{length:54,width:3.5,angle:-45,offset:{x:0,y:10}},container:{spacing:10,groupSpacing:12,scale:1,stackSpacing:0}},rl=ri.ZP.div(f||(f=rc(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  \n  /* Basis-Styles */\n  min-height: ",";\n  \n  /* Container-spezifische Positionierung */\n  ","\n"])),function(t){return"horizontal"===t.type?"16px":"50px"},function(t){return"horizontal"===t.type?"\n    transform: rotate(-90deg);\n    transform-origin: left center;\n    margin: 1px 0px;\n    padding-left: 0px; // Horizontale Gruppe kann nach rechts verschoben werden\n  ":"\n    margin: -14px 0 -6px -30px; // Negativer margin-left f\xfcr vertikale Gruppe\n  "}),rf=(0,ri.ZP)(p.q.div)(d||(d=rc(["\n  position: absolute;\n  background-color: ",";\n  opacity: ",";\n  transition: all 0.2s ease;\n\n  ","\n"])),ru.baseStrich.color,ru.baseStrich.opacity,function(t){return(t.type,t.isDiagonal)?"\n        width: ".concat(ru.diagonalStrich.length,"px;\n        height: ").concat(ru.diagonalStrich.width,"px;\n        transform: rotate(").concat(ru.diagonalStrich.angle,"deg);\n        transform-origin: left center;\n        z-index: 2;\n      "):"\n      width: ".concat(ru.baseStrich.width,"px;\n      height: ").concat(ru.baseStrich.length,"px;\n    ")}),rd=(0,ri.ZP)(p.q.div)(m||(m=rc(["\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  margin-right: ",";\n"])),function(t){return"horizontal"===t.type?"8px":"12px"}),rm=function(t){return"horizontal"===t?{left:"".concat(-.2*ru.container.spacing,"px"),top:"18px",transform:"rotate(-50deg)"}:{left:"".concat(3*ru.container.spacing-32,"px"),top:"18px",transform:"rotate(-45deg)"}},rh=function(t){var e=t.type,r=t.count,n=t.position;t.style;var o=(0,p.q_)({from:{progress:0},to:{progress:r},config:{tension:400,friction:15}});return(0,b.jsx)(rl,{type:e,children:function(){for(var t=[],i=Math.floor(r/5),a=r%5,s=function(r){t.push((0,b.jsxs)(rd,{type:e,children:[ra([,,,,]).map(function(t,i){return(0,b.jsx)(rf,{type:e,position:n,style:{opacity:o.progress.to(function(t){return t>5*r+i?1:0}),transform:o.progress.to(function(t){return t>5*r+i?"scale(1)":"scale(0)"}),left:"".concat(i*ru.container.spacing,"px")}},"strich-".concat(r,"-").concat(i))}),(0,b.jsx)(rf,{type:"diagonal",position:n,isDiagonal:!0,style:{opacity:o.progress.to(function(t){return t>5*r+4?1:0}),transform:o.progress.to(function(t){return t>5*r+4?rm(e).transform:"scale(0)"}),left:rm(e).left,top:rm(e).top}})]},"group-".concat(r)))},c=0;c<i;c++)s(c);return a>0&&t.push((0,b.jsx)(rd,{type:e,children:ra(Array(a)).map(function(t,r){return(0,b.jsx)(rf,{type:e,position:n,style:{opacity:o.progress.to(function(t){return t>5*i+r?1:0}),transform:o.progress.to(function(t){return t>5*i+r?"scale(1)":"scale(0)"}),left:"".concat(r*ru.container.spacing,"px")}},"rest-".concat(r))})},"remainder")),t}()})},rp=function(t){var e=t.spielNummer,r=t.topTeam,n=t.bottomTeam,o=t.showJassPoints,i=t.gameId,a=tf(function(t){return t.currentGameId}),s=tf(function(t){return t.getCurrentGame()}),c=t3(function(t){return t.striche}),u=t3(function(t){return t.weisPoints}),l=t3(function(t){return t.jassPoints});if(i>a)return null;var f=i===a,d=f?{striche:c.top,jassPoints:l.top+u.top,total:null==s?void 0:s.teams.top.total}:r,m=f?{striche:c.bottom,jassPoints:l.bottom+u.bottom,total:null==s?void 0:s.teams.bottom.total}:n,h=J(d.striche),p=J(m.striche);return(0,b.jsxs)("div",{className:"grid grid-cols-[0.5fr_5fr_5fr] gap-4 items-center py-2 last:border-b-0 border-b border-gray-700",children:[(0,b.jsx)("div",{className:"text-gray-400 text-center pl-2",children:e}),(0,b.jsx)("div",{className:"flex justify-center -ml-[-22px]",children:o?(0,b.jsx)("div",{className:"text-xl text-white text-center w-[90px]",children:m.jassPoints||0}):(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,b.jsx)(rh,{type:"horizontal",count:p.horizontal,position:"bottom"}),(0,b.jsx)(rh,{type:"vertikal",count:p.vertikal,position:"bottom"})]})}),(0,b.jsx)("div",{className:"flex justify-center -ml-[-10px]",children:o?(0,b.jsx)("div",{className:"text-xl text-white text-center w-[100px]",children:d.jassPoints||0}):(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,b.jsx)(rh,{type:"horizontal",count:h.horizontal,position:"top"}),(0,b.jsx)(rh,{type:"vertikal",count:h.vertikal,position:"top"})]})})]})},rg=function(t){t.teams;var e=t.games,r=t.currentGameId;t.onSwipe;var n=t3();return(0,b.jsx)("div",{className:"flex flex-col w-full space-y-4",children:e.map(function(t,e){return(0,b.jsx)(rp,{gameId:t.id,spielNummer:e+1,topTeam:{striche:t.id===r?n.striche.top:t.teams.top.striche},bottomTeam:{striche:t.id===r?n.striche.bottom:t.teams.bottom.striche},showJassPoints:!1},"game-".concat(t.id))})})},ry=function(t){var e=t.teams,r=t.games,n=t.currentGameId;t3(function(t){return t.scores});var o=t3(function(t){return t.weisPoints}),i=t3(function(t){return t.jassPoints}),a=(0,p.q_)({from:{opacity:.3,transform:"scale(0.97)"},to:{opacity:1,transform:"scale(1)"},reset:!0,key:"".concat(i.top+i.bottom+o.top+o.bottom),config:{tension:280,friction:20}});return(0,b.jsx)(p.q.div,{style:a,className:"flex flex-col w-full",children:r.map(function(t,r){return(0,b.jsx)(rp,{gameId:t.id,spielNummer:r+1,topTeam:{striche:t.id===n?e.top.striche:t.teams.top.striche,jassPoints:t.id===n?i.top+o.top:t.teams.top.jassPoints+(t.teams.top.weisPoints||0)},bottomTeam:{striche:t.id===n?e.bottom.striche:t.teams.bottom.striche,jassPoints:t.id===n?i.bottom+o.bottom:t.teams.bottom.jassPoints+(t.teams.bottom.weisPoints||0)},showJassPoints:!0},t.id)})})};console.log("STATISTIC_MODULES wird geladen");var rb=[{id:"striche",title:"Strichergebnis",component:rg,calculateData:function(t){return{top:t.teams.top.total,bottom:t.teams.bottom.total}}},{id:"jasspunkte",title:"Punkte",component:ry,calculateData:function(t){return{top:t.teams.top.jassPoints,bottom:t.teams.bottom.jassPoints}}}];console.log("STATISTIC_MODULES:",rb);var rv=r(2865),rx=r.n(rv);function rS(t){return(rS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rw(){rw=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(e,r,n,i){var a,s,c=Object.create((r&&r.prototype instanceof g?r:g).prototype);return o(c,"_invoke",{value:(a=new E(i||[]),s=d,function(r,o){if(s===m)throw Error("Generator is already running");if(s===h){if("throw"===r)throw o;return{value:t,done:!0}}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var c=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),p;var a=f(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var s=a.arg;return s?s.done?(n[r.resultName]=s.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):s:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,p)}(i,a);if(c){if(c===p)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var u=f(e,n,a);if("normal"===u.type){if(s=a.done?h:"suspendedYield",u.arg===p)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=h,a.method="throw",a.arg=u.arg)}})}),c}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",m="executing",h="completed",p={};function g(){}function y(){}function b(){}var v={};u(v,a,function(){return this});var x=Object.getPrototypeOf,S=x&&x(x(k([])));S&&S!==r&&n.call(S,a)&&(v=S);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==rS(l)&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,a,s)},function(t){r("throw",t,a,s)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,s)})}s(c.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function k(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(rS(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(O.prototype),u(O.prototype,s,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),u(w,c,"Generator"),u(w,a,function(){return this}),u(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:k(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function rj(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){r(t);return}s.done?e(c):Promise.resolve(c).then(n,o)}var rO=function(t){var e,r=t.onShare,n=t.onBack,o=t.show,i=tG().closeJassFinishNotification,a=(0,h.useCallback)((e=rw().mark(function t(){return rw().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r();case 2:i();case 3:case"end":return t.stop()}},t)}),function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(t){rj(i,n,o,a,s,"next",t)}function s(t){rj(i,n,o,a,s,"throw",t)}a(void 0)})}),[r,i]),s=(0,h.useCallback)(function(){i(),n()},[n,i]);return(0,b.jsx)(t_.M,{children:o&&(0,b.jsxs)(tF.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-[9999] p-4 pointer-events-auto",children:[(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:s}),(0,b.jsxs)(tF.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white z-10",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[(0,b.jsx)(tM.Cq,{className:"w-12 h-12 text-yellow-600 mb-2"}),(0,b.jsx)("p",{className:"text-center mb-6",children:"Der Jass wurde beendet."})]}),(0,b.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,b.jsx)("button",{onClick:s,className:"flex-1 bg-gray-600 text-white px-6 py-2 rounded-full hover:bg-gray-700 transition-colors text-lg font-semibold",children:"Zur\xfcck"}),(0,b.jsx)("button",{onClick:a,className:"flex-1 bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors text-lg font-semibold",children:"Teilen"})]})]})]})})};function rP(t){return(rP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rN(){rN=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(e,r,n,i){var a,s,c=Object.create((r&&r.prototype instanceof g?r:g).prototype);return o(c,"_invoke",{value:(a=new E(i||[]),s=d,function(r,o){if(s===m)throw Error("Generator is already running");if(s===h){if("throw"===r)throw o;return{value:t,done:!0}}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var c=function e(r,n){var o=n.method,i=r.iterator[o];if(i===t)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),p;var a=f(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,p;var s=a.arg;return s?s.done?(n[r.resultName]=s.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):s:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,p)}(i,a);if(c){if(c===p)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===d)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=m;var u=f(e,n,a);if("normal"===u.type){if(s=a.done?h:"suspendedYield",u.arg===p)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=h,a.method="throw",a.arg=u.arg)}})}),c}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var d="suspendedStart",m="executing",h="completed",p={};function g(){}function y(){}function b(){}var v={};u(v,a,function(){return this});var x=Object.getPrototypeOf,S=x&&x(x(k([])));S&&S!==r&&n.call(S,a)&&(v=S);var w=b.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function O(t,e){var r;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(r,a){!function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==rP(l)&&n.call(l,"__await")?e.resolve(l.__await).then(function(t){r("next",t,a,s)},function(t){r("throw",t,a,s)}):e.resolve(l).then(function(t){u.value=t,a(u)},function(t){return r("throw",t,a,s)})}s(c.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function k(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw TypeError(rP(e)+" is not iterable")}return y.prototype=b,o(w,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},j(O.prototype),u(O.prototype,s,function(){return this}),e.AsyncIterator=O,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},j(w),u(w,c,"Generator"),u(w,a,function(){return this}),u(w,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:k(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function rE(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){r(t);return}s.done?e(c):Promise.resolve(c).then(n,o)}function rk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function rC(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rk(Object(r),!0).forEach(function(e){var n,o;n=e,o=r[e],(n=function(t){var e=function(t,e){if("object"!==rP(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==rP(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===rP(e)?e:String(e)}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function rT(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return rA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rA(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rA(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var rL=function(t){var e=t.name,r=t.isStarter,n=(0,h.useRef)(null),o=rT((0,h.useState)(e),2),i=o[0],a=o[1];return(0,h.useEffect)(function(){var t=function(){var t=n.current;if(t){var o=document.createElement("div");o.style.visibility="hidden",o.style.position="absolute",o.style.whiteSpace="nowrap",o.className=t.className,o.textContent=e+(r?" ❀":""),document.body.appendChild(o);var i=o.offsetWidth,s=1.25*t.offsetWidth;if(document.body.removeChild(o),i>s){for(var c=0,u=e.length;c<u;){var l=Math.floor((c+u+1)/2);o.textContent=e.slice(0,l)+(r?"❀":""),document.body.appendChild(o);var f=o.offsetWidth;document.body.removeChild(o),f<=s?c=l:u=l-1}a(e.slice(0,c))}else a(e)}};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}},[e,r]),(0,b.jsx)("div",{ref:n,className:"text-center text-gray-400 px-1",children:(0,b.jsxs)("span",{className:"inline-block",children:[i,r&&(0,b.jsx)("span",{children:"❀"})]})})},rI=function(){var t,e,r,n,o,i=rT(h.useState(null),2),a=i[0],s=i[1],c=rT(h.useState(null),2),u=c[0],l=c[1],f=rT(h.useState(null),2),d=f[0],m=f[1],g=tG(function(t){return t.resultatKreidetafel.isOpen}),y=tG(function(t){return t.resultatKreidetafel.swipePosition}),v=tG(function(t){return t.resultatKreidetafel.currentStatistic}),x=tG(function(t){return t.closeResultatKreidetafel}),S=t3(function(t){return t.playerNames}),w=t3(function(t){var e,r;return null!==(e=null===(r=t.scores)||void 0===r?void 0:r.top)&&void 0!==e?e:0}),j=t3(function(t){var e,r;return null!==(e=null===(r=t.scores)||void 0===r?void 0:r.bottom)&&void 0!==e?e:0}),O=t3(function(t){return t.weisPoints}),P="top"===y,N=(0,ro.ZP)(new Date,"d.M.yyyy"),E=rb.find(function(t){return t.id===v}),k=tf(function(t){return t.canNavigateBack()}),C=tf(function(t){return t.canNavigateForward()}),T=t3(function(t){return t.striche}),A=(0,h.useMemo)(function(){return T.top.sieg>0||T.bottom.sieg>0},[T]),L=(0,h.useCallback)(function(){var t=tf.getState(),e=t3.getState();if(t.canNavigateBack()){t.navigateToPreviousGame();var r=t.getCurrentGame();r&&(e.resetGame(),t3.setState(function(t){return rC(rC({},t),{},{isGameStarted:!0,currentRound:r.currentRound||1,currentPlayer:r.currentPlayer,scores:{top:(r.teams.top.jassPoints||0)+(r.teams.top.weisPoints||0),bottom:(r.teams.bottom.jassPoints||0)+(r.teams.bottom.weisPoints||0)},weisPoints:{top:r.teams.top.weisPoints,bottom:r.teams.bottom.weisPoints},striche:{top:rC({},r.teams.top.striche),bottom:rC({},r.teams.bottom.striche)},roundHistory:r.roundHistory||[],isGameCompleted:!1,isRoundCompleted:!1})}))}},[]),I=(0,h.useCallback)(function(){var t=tf.getState(),e=t3.getState();if(t.canNavigateForward()){t.navigateToNextGame();var r=t.getCurrentGame();r&&(e.resetGame(),t3.setState(function(t){return rC(rC({},t),{},{isGameStarted:!0,currentRound:r.currentRound||1,currentPlayer:r.currentPlayer,scores:{top:(r.teams.top.jassPoints||0)+(r.teams.top.weisPoints||0),bottom:(r.teams.bottom.jassPoints||0)+(r.teams.bottom.weisPoints||0)},weisPoints:{top:r.teams.top.weisPoints,bottom:r.teams.bottom.weisPoints},striche:{top:rC({},r.teams.top.striche),bottom:rC({},r.teams.bottom.striche)},roundHistory:r.roundHistory||[],isGameCompleted:!1,isRoundCompleted:!1})}))}else{if(!A){tG.getState().showHistoryWarning({message:"Bitte erst bedanken, bevor ein neues Spiel gestartet wird.",onConfirm:function(){},onCancel:function(){}});return}t.finalizeGame(),t.startGame(),e.resetGame(),t3.setState(function(t){return rC(rC({},t),{},{isGameStarted:!0,currentRound:1,isGameCompleted:!1,isRoundCompleted:!1})})}},[A]),D=C?"1 Spiel\nvorw\xe4rts":"Neues\nSpiel",R=tf(function(t){return t.teams}),G=tf(function(t){return t.games}),M=tf(function(t){return t.currentGameId}),_=(0,h.useMemo)(function(){var t=G.filter(function(t){return t.id<=M}).filter(function(t){return t.id<M}).reduce(function(t,e){return{striche:{top:t.striche.top+Object.values(e.teams.top.striche).reduce(function(t,e){return t+e},0),bottom:t.striche.bottom+Object.values(e.teams.bottom.striche).reduce(function(t,e){return t+e},0)},punkte:{top:t.punkte.top+e.teams.top.total,bottom:t.punkte.bottom+e.teams.bottom.total}}},{striche:{top:0,bottom:0},punkte:{top:0,bottom:0}});return{striche:{top:t.striche.top+Object.values(T.top).reduce(function(t,e){return t+e},0),bottom:t.striche.bottom+Object.values(T.bottom).reduce(function(t,e){return t+e},0)},punkte:{top:t.punkte.top+w,bottom:t.punkte.bottom+j}}},[M,G,T,w,j,O]),F=h.useCallback(function(t){var e=rb.findIndex(function(t){return t.id===v}),r="right"===t?(e+1)%rb.length:(e-1+rb.length)%rb.length;tG.setState(function(t){return{resultatKreidetafel:rC(rC({},t.resultatKreidetafel),{},{currentStatistic:rb[r].id})}})},[v]),H=(0,p.q_)({opacity:g?1:0,transform:"scale(".concat(g?1:.95,") rotate(").concat(P?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20}});t3(function(t){return t.getTotalStriche("top")}),t3(function(t){return t.getTotalStriche("bottom")});var z=(0,h.useRef)(null),W=(0,h.useCallback)((t=rN().mark(function t(){var e,r,n,o,i,a,s,c;return rN().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e=document.querySelector(".kreidetafel-content"),r=z.current,n=document.querySelector(".button-container"),!(!e||!r||!n)){t.next=6;break}return t.abrupt("return");case 6:return o=r.style.maxHeight,i=r.style.overflowY,a=n.style.display,r.style.maxHeight="none",r.style.overflowY="visible",n.style.display="none",t.prev=12,t.next=15,rx()(e,{background:"#1F2937",useCORS:!0,logging:!1,windowWidth:e.scrollWidth,windowHeight:e.scrollHeight,scale:2});case 15:return s=t.sent,t.next=18,new Promise(function(t){s.toBlob(function(e){return t(e)},"image/png",1)});case 18:if(c=t.sent,!navigator.share){t.next=22;break}return t.next=22,navigator.share({files:[new File([c],"jass-resultat.png",{type:"image/png"})],title:"Jass Resultat",text:"Jassergebnis von https://jassguru.web.app"});case 22:return t.prev=22,r.style.maxHeight=o,r.style.overflowY=i,n.style.display=a,t.finish(22);case 27:t.next=32;break;case 29:t.prev=29,t.t0=t.catch(0),console.error("Screenshot Fehler:",t.t0);case 32:case"end":return t.stop()}},t,null,[[0,29],[12,,22,27]])}),function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){rE(i,n,o,a,s,"next",t)}function s(t){rE(i,n,o,a,s,"throw",t)}a(void 0)})}),[]);X(function(t){return t.completeJass});var B=eO(L),J=eO(W),U=eO(I),K=tG(function(t){return t.jassFinishNotification.isOpen}),q=tG(function(t){return t.showJassFinishNotification});(0,h.useEffect)(function(){z.current&&g&&setTimeout(function(){z.current&&(z.current.scrollTop=z.current.scrollHeight)},50)},[g,G.length,M]);var V=(0,p.q_)({opacity:d?.7:1,transform:"left"===d?"translateX(-10px)":"right"===d?"translateX(10px)":"translateX(0px)",config:{tension:280,friction:20}});return g?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50",onClick:function(t){t.target===t.currentTarget&&x()},onTouchStart:function(t){s(t.targetTouches[0].clientX),m(null)},onTouchMove:function(t){if(l(t.targetTouches[0].clientX),a&&t.targetTouches[0].clientX){var e=a-t.targetTouches[0].clientX;Math.abs(e)>20&&m(e>0?"left":"right")}},onTouchEnd:function(){if(a&&u){var t=a-u,e=t>50;(e||t<-50)&&F(e?"right":"left"),s(null),l(null),m(null)}},children:(0,b.jsxs)(p.q.div,{style:H,className:"w-11/12 max-w-md ".concat("left"===d?"-translate-x-4":"right"===d?"translate-x-4":""),children:[(0,b.jsxs)("div",{className:"kreidetafel-content relative bg-gray-800 bg-opacity-95 rounded-t-xl p-6 shadow-lg select-none",children:[(0,b.jsxs)("div",{className:"text-center mb-4",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:(null==E?void 0:E.title)||"Jassergebnis"}),(0,b.jsx)("p",{className:"text-gray-400",children:N})]}),(0,b.jsx)("button",{onClick:function(){return tG.setState(function(t){return{resultatKreidetafel:rC(rC({},t.resultatKreidetafel),{},{swipePosition:P?"bottom":"top"})}})},className:"absolute bottom-full mb-[-10px] left-1/2 transform -translate-x-1/2 \n                text-white hover:text-gray-300 transition-all duration-1000\n                w-24 h-24 flex items-center justify-center\n                rounded-full\n                ".concat(P?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,b.jsx)(ep.bxQ,{className:"w-8 h-8"})}),(0,b.jsx)("button",{onClick:x,className:"absolute right-2 top-2 p-2 text-gray-400 hover:text-white",children:(0,b.jsx)(ep.q5L,{size:24})}),(0,b.jsxs)("div",{className:"grid grid-cols-[1fr_4fr_4fr] gap-4 mb-2",children:[(0,b.jsx)("div",{}),(0,b.jsx)("div",{className:"text-center text-white",children:"Team 1"}),(0,b.jsx)("div",{className:"text-center text-white",children:"Team 2"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-[1fr_4fr_4fr] gap-4 mb-4",children:[(0,b.jsx)("div",{}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)(rL,{name:S[1],isStarter:(null===(e=G[0])||void 0===e?void 0:e.initialStartingPlayer)===1}),(0,b.jsx)(rL,{name:S[3],isStarter:(null===(r=G[0])||void 0===r?void 0:r.initialStartingPlayer)===3})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)(rL,{name:S[2],isStarter:(null===(n=G[0])||void 0===n?void 0:n.initialStartingPlayer)===2}),(0,b.jsx)(rL,{name:S[4],isStarter:(null===(o=G[0])||void 0===o?void 0:o.initialStartingPlayer)===4})]})]}),(0,b.jsx)("div",{className:"border-t border-b border-gray-700",children:(0,b.jsx)("div",{ref:z,className:"max-h-[280px] overflow-y-auto",children:(0,b.jsx)(p.q.div,{style:V,className:"py-2",children:"striche"===v?(0,b.jsx)(rg,{teams:R,games:G,currentGameId:M,onSwipe:F}):(0,b.jsx)(ry,{teams:R,games:G,currentGameId:M,onSwipe:F})})})}),(0,b.jsxs)("div",{className:"grid grid-cols-[0.5fr_5fr_5fr] gap-4 mt-4",children:[(0,b.jsx)("div",{className:"text-gray-400 text-center pr-4",children:"Total:"}),(0,b.jsx)("div",{className:"flex justify-center -ml-[36px]",children:(0,b.jsx)("div",{className:"text-2xl font-bold text-white w-[100px] text-center",children:"striche"===v?_.striche.bottom:_.punkte.bottom})}),(0,b.jsx)("div",{className:"flex justify-center -ml-[12px]",children:(0,b.jsx)("div",{className:"text-2xl font-bold text-white w-[100px] text-center",children:"striche"===v?_.striche.top:_.punkte.top})})]}),(0,b.jsx)("div",{className:"flex justify-center mt-4 mb-2",children:(0,b.jsx)("div",{className:"flex justify-center items-center space-x-2 bg-gray-700/50 px-1.5 py-1 rounded-full",children:rb.map(function(t){return(0,b.jsx)("div",{className:"w-2 h-2 rounded-full transition-all duration-200 ".concat(v===t.id?"bg-white/80 shadow-sm":"bg-gray-500/50")},t.id)})})})]}),(0,b.jsxs)("div",{className:"grid gap-4 p-4 bg-gray-800 bg-opacity-95 rounded-b-xl shadow-lg button-container ".concat(k?"grid-cols-3":"grid-cols-2"),children:[k&&(0,b.jsx)("button",rC(rC({},B.handlers),{},{disabled:!k,className:"\n                  py-2 px-4 text-white rounded-lg font-medium text-base\n                  transition-all duration-150\n                  ".concat(k?"bg-gray-600":"bg-gray-500/50 cursor-not-allowed","\n                  hover:bg-gray-700\n                  leading-tight\n                  ").concat(B.buttonClasses,"\n                "),children:["1 Spiel","zur\xfcck"].map(function(t,e){return(0,b.jsxs)(h.Fragment,{children:[t,0===e&&(0,b.jsx)("br",{})]},e)})})),(0,b.jsx)("button",{onClick:function(){q()},className:"\n                py-2 px-4 text-white rounded-lg font-medium text-base\n                transition-all duration-150\n                bg-yellow-600 hover:bg-yellow-700\n                flex items-center justify-center gap-2\n                leading-tight\n                ".concat(J.buttonClasses,"\n              "),children:["Jass","beenden"].map(function(t,e){return(0,b.jsxs)(h.Fragment,{children:[t,0===e&&(0,b.jsx)("br",{})]},e)})}),(0,b.jsx)("button",rC(rC({},U.handlers),{},{className:"\n                py-2 px-4 text-white rounded-lg font-medium text-base\n                transition-all duration-150\n                ".concat(C?"bg-gray-600 hover:bg-gray-700":"bg-green-600 hover:bg-green-700","\n                leading-tight\n                ").concat(U.buttonClasses,"\n              "),children:D.split("\n").map(function(t,e){return(0,b.jsxs)(h.Fragment,{children:[t,0===e&&D.includes("\n")&&(0,b.jsx)("br",{})]},e)})}))]})]})}),(0,b.jsx)(rO,{show:K,onShare:W,onBack:x})]}):null},rD=function(t){var e=t3(),r=e.navigateHistory,n=e.canNavigateForward,o=e.canNavigateBackward,i=e.currentHistoryIndex,a=e.validateHistoryAction;tG().showHistoryWarning;var s=(0,h.useRef)(Date.now());return(0,h.useCallback)(function(t){a()&&r(t)},[r,a]),{handleSwipe:(0,h.useCallback)(function(e){var i=Date.now();if(!(i-s.current<300)){s.current=i;var a="top"===t,c=a&&"left"===e||!a&&"right"===e;(c?n():o())&&r(c?"forward":"backward")}},[t,r,n,o]),isInPast:i>-1,canNavigateForward:n,canNavigateBackward:o}},rR=function(t){var e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=Math.floor(t/1e3),n=Math.floor(r/60),o=Math.floor(n/60),i=n%60,a=r%60;return o>0?e?"".concat(o,":").concat(i.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")):"".concat(o,":").concat(i.toString().padStart(2,"0")):e?"".concat(n.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")):"0:".concat(n.toString().padStart(2,"0"))};function rG(t){return function(t){if(Array.isArray(t))return r_(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||rM(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rM(t,e){if(t){if("string"==typeof t)return r_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r_(t,e)}}function r_(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var rF=Array.from(new Set(tp.map(function(t){return t.multiplier}))).filter(function(t){return t>1}).sort(function(t,e){return e-t}),rH=(0,E.U)(function(t,e){return{currentMultiplier:Math.max.apply(Math,rG(rF.filter(function(t){return t>1}))),setMultiplier:function(e){return t({currentMultiplier:e})},getDividedPoints:function(t){return Math.floor(t/e().currentMultiplier)},getRemainingPoints:function(t,e){var r=tG.getState().scoreSettings,n=e[t],o=e["top"===t?"bottom":"top"],i=r.values.sieg,a=r.values.berg,s=r.values.schneider;if(!r.enabled.berg)return{title:"SIEG",remaining:i-n};if(o>=a){if(!r.enabled.schneider||n>=s)return{title:"SIEG",remaining:i-n};if(r.enabled.schneider)return{title:"SCHNEIDER",remaining:s-n}}return n>=a?{title:"SIEG",remaining:i-n}:r.enabled.berg?{title:"BERG",remaining:a-n}:{title:"SIEG",remaining:i-n}}}}),rz=function(t){var e,r=t.mainTitle,n=t.subTitle,o=t.points,i=t.className,a=t.numberSize,s=void 0===a?"text-xl":a,c=(t.scoreSettings,t.scores),u=rH(),l=u.currentMultiplier,f=u.setMultiplier,d=u.getDividedPoints,m=u.getRemainingPoints,p=tG(function(t){return t.farbeSettings}),g=function(t){if(Array.isArray(t))return t}(e=(0,h.useState)(!1))||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{for(i=(r=r.call(t)).next;!(c=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,2)||rM(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=g[0],v=g[1];return(0,h.useEffect)(function(){var t=Object.values(p.multipliers);f(Math.min(Math.max.apply(Math,rG(t.filter(function(t){return t>1}))),8))},[p.multipliers,f]),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-400",children:r}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-2 mt-0 ".concat(void 0===i?"":i),children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("span",{className:"text-gray-400 text-xs",children:n}),(0,b.jsx)("div",{className:"".concat(s," font-bold mt-0"),children:o})]}),(0,b.jsxs)("button",{onClick:function(){var t=rF.indexOf(l),e=t===rF.length-1?0:t+1;f(rF[e])},onMouseDown:function(){return v(!0)},onMouseUp:function(){return v(!1)},onMouseLeave:function(){return v(!1)},onTouchStart:function(){return v(!0)},onTouchEnd:function(){return v(!1)},className:"bg-orange-500 hover:bg-orange-600 text-white rounded-lg px-2 py-3 self-center mx-auto h-12 w-14 mt-4 transition-all duration-100 ".concat(y?"bg-orange-700 scale-95 opacity-80":"scale-100 opacity-100"),children:[l,"x"]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("span",{className:"text-gray-400 text-xs",children:[l,"-fach"]}),(0,b.jsx)("div",{className:"".concat(s," font-bold mt-0"),children:d(m("bottom",c).remaining)})]})]})]})},rW=function(t){console.log("\uD83C\uDFD4️ Berg-Effekt!",t)},rB=function(t){console.log("\uD83C\uDF86 Bedanken-Effekt!",t)};function rJ(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var rU=function(t){var e,r=t.type,n=t.team,o=t.condition,i=void 0===o||o,a=function(t){if(Array.isArray(t))return t}(e=(0,h.useState)(!1))||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{for(i=(r=r.call(t)).next;!(c=(n=i.call(r)).done)&&(s.push(n.value),2!==s.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,2)||function(t,e){if(t){if("string"==typeof t)return rJ(t,2);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rJ(t,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=a[0],c=a[1],u=t3(),l=u.isBergActive,f=u.isSiegActive,d=!!n&&("berg"===r?l(n):f(n)),m=(0,h.useCallback)(function(){n&&i&&c(!0)},[n,i]),p=(0,h.useCallback)(function(){if(n&&i){c(!1);var t=t3.getState(),e=t.addBerg,o=t.addSieg;"berg"===r?(e(n),rW({position:n,chargeAmount:s?1.5:1})):"sieg"===r&&(o(n),rB({position:n,chargeAmount:s?2:1}))}},[n,i,r,s]);return{isButtonActive:d,isPressed:s,handlers:{onMouseDown:m,onMouseUp:p,onMouseLeave:function(){return c(!1)},onTouchStart:m,onTouchEnd:function(t){t.preventDefault(),p()}}}};function rK(t){return(rK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function rV(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rq(Object(r),!0).forEach(function(e){var n,o;n=e,o=r[e],(n=function(t){var e=function(t,e){if("object"!==rK(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==rK(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===rK(e)?e:String(e)}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rq(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var rY=function(t){var e=t.handlers,r=t.isButtonActive,n=t.isPressed,o=t.showDepth,i=t.color,a=t.disabled,s=void 0!==a&&a,c=t.children;return(0,b.jsx)("button",rV(rV({},e),{},{disabled:!!s,className:"\n      py-4 text-white rounded-xl font-bold\n      transition-all duration-150\n      ".concat(r?"bg-".concat(i,"-600"):n?"bg-gray-700":"bg-gray-600","\n      ").concat(o?"border-b-4 border-t border-l border-r":"","\n      ").concat(o?s?"border-gray-500":"border-".concat(i,"-900"):"","\n      ").concat(n?"translate-y-1 shadow-inner opacity-80":s?"shadow-gray-500":"shadow-lg","\n    "),children:c}))};function rZ(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r$(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r$(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var rX=function(t){var e,r=t.isOpen,n=t.onClose,o=t3(),i=o.currentRound,a=o.currentPlayer,s=o.playerNames,c=o.isBergActive,u=o.isSiegActive,l=o.scores,f=tf().currentGameId,d=rZ((0,h.useState)(!1),2),m=d[0],g=d[1],y=rZ((0,h.useState)(!1),2),v=y[0],x=y[1],S=rZ((0,h.useState)(""),2),w=S[0],j=S[1],O=rZ((0,h.useState)(""),2),P=O[0],N=O[1],E=rZ((0,h.useState)(""),2),k=E[0],C=E[1],T=X(),A=T.pauseTimer,L=T.resumeTimer,I=T.getCurrentTime,D=T.gameStartTime,R=T.roundStartTime,G=T.jassStartTime,M=tG(),_=M.isPaused,F=M.pauseGame,H=M.resumeGame,z=M.lastDoubleClickPosition,W=M.calculator.isFlipped,B=M.setCalculatorFlipped,J=M.scoreSettings,U=rH(),K=U.currentMultiplier,q=U.getDividedPoints,V=U.getRemainingPoints,Y=W?"top":"bottom",Z=rU({type:"berg",team:Y,condition:!0}),$=rU({type:"sieg",team:Y,condition:!0}),Q=function(){_&&H(),n()},tt=function(){A(),F()},te=function(){L(),H()};(0,h.useEffect)(function(){var t=function(){var t=I();D&&j(rR(t-D,!1)),R&&N(rR(t-R,!0)),G&&C(rR(t-G,!1))};if(t(),r&&!_){var e=setInterval(t,1e3);return function(){return clearInterval(e)}}},[r,_,D,R,G,I]);var tr=(0,p.q_)({opacity:r?1:0,transform:"scale(".concat(r?1:.95,") rotate(").concat(W?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20}});return(0,h.useEffect)(function(){r&&z&&B("top"===z)},[r,z]),(0,b.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 ".concat(r?"":"pointer-events-none"),onClick:function(t){_||t.target.closest('[data-strich-box="true"]')||t.target!==t.currentTarget||Q()},children:(0,b.jsxs)(p.q.div,{style:tr,className:"relative w-11/12 max-w-md bg-gray-800 bg-opacity-95 rounded-xl p-6 shadow-lg select-none",onClick:function(t){return t.stopPropagation()},children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white text-center mb-6",children:"Spielstand"}),(0,b.jsx)("button",{onClick:function(t){t.stopPropagation(),B(!W)},className:"absolute bottom-full mb-[-10px] left-1/2 transform -translate-x-1/2 \n            text-white hover:text-gray-300 transition-all duration-1000\n            w-24 h-24 flex items-center justify-center\n            rounded-full\n            ".concat(W?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,b.jsx)(ep.bxQ,{className:"w-8 h-8"})}),(0,b.jsx)("button",{onClick:Q,className:"absolute right-2 top-2 p-2 transition-colors\n            ".concat(_?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-white"),disabled:_,children:(0,b.jsx)(ep.q5L,{size:24})}),(0,b.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-white",children:[(0,b.jsxs)("div",{className:"text-center pl-5",children:[(0,b.jsx)("span",{className:"text-gray-400 text-xs",children:"Spiel"}),(0,b.jsx)("div",{className:"text-xl font-bold",children:f})]}),(0,b.jsxs)("div",{className:"text-center -ml-10 pl-0",children:[(0,b.jsx)("span",{className:"text-gray-400 text-xs",children:"Runde"}),(0,b.jsx)("div",{className:"text-xl font-bold",children:i})]}),(0,b.jsxs)("div",{className:"text-center -ml-10 pl-0",children:[(0,b.jsx)("span",{className:"text-gray-400 text-xs",children:"Spieldauer"}),(0,b.jsx)("div",{className:"text-xl font-bold",children:w})]}),(0,b.jsxs)("div",{className:"text-center -ml-8 pl-0",children:[(0,b.jsx)("span",{className:"text-gray-400 text-xs",children:"Jassdauer"}),(0,b.jsx)("div",{className:"text-xl font-bold",children:k})]})]}),(0,b.jsxs)("div",{className:"text-center text-white mt-1",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Spieler"}),(0,b.jsx)("div",{className:"text-3xl font-bold p-2 bg-gray-700 bg-opacity-50 rounded-xl mt-1",children:s[a]||"Spieler ".concat(a)})]}),(0,b.jsxs)("div",{className:"text-center text-white mt-1",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Zeit Runde"}),(0,b.jsx)("div",{className:"text-3xl font-bold p-2 bg-gray-700 bg-opacity-50 rounded-xl mt-1",children:P})]}),(0,b.jsx)("div",{className:"text-center text-white mt-3",children:(0,b.jsx)(rz,{mainTitle:"Punkte bis",subTitle:V(W?"top":"bottom",l).title,points:V(W?"top":"bottom",l).remaining,numberSize:"text-3xl",scoreSettings:J,scores:l})}),(0,b.jsx)("div",{className:"text-center text-white mt-1",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Gegner"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-2 -mt-10",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("span",{className:"text-gray-400 text-xs",children:V(W?"bottom":"top",l).title}),(0,b.jsx)("div",{className:"text-xl font-bold mt-0",children:V(W?"bottom":"top",l).remaining})]}),(0,b.jsx)("div",{className:"invisible"}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("span",{className:"text-gray-400 text-xs",children:[K,"-fach"]}),(0,b.jsx)("div",{className:"text-xl font-bold mt-0",children:q(V(W?"bottom":"top",l).remaining)})]})]})]})})]}),(0,b.jsxs)("div",{className:"space-y-4 max-w-md mx-auto mt-10",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(rY,{handlers:Z.handlers,isButtonActive:Z.isButtonActive,isPressed:Z.isPressed,showDepth:v,color:"yellow",disabled:_||u("top")||u("bottom"),children:"BERG"}),(0,b.jsx)(rY,{handlers:$.handlers,isButtonActive:$.isButtonActive&&(null==J||null===(e=J.enabled)||void 0===e||!e.berg||c("top")||c("bottom")),isPressed:$.isPressed,showDepth:v,color:"yellow",disabled:_,children:"BEDANKEN"})]}),(0,b.jsx)("button",{onMouseDown:function(){return g(!0)},onMouseUp:function(){g(!1),_?(te(),x(!1)):(tt(),x(!0))},onMouseLeave:function(){return g(!1)},onTouchStart:function(){return g(!0)},onTouchEnd:function(t){t.preventDefault(),g(!1),_?(te(),x(!1)):(tt(),x(!0))},className:"\n              w-full py-2 text-white rounded-xl font-bold\n              transition-all duration-150\n              ".concat(v?"border-b-4 border-t border-l border-r":"","\n              ").concat(_?"bg-green-600 hover:bg-green-700 border-green-900":"bg-red-600 hover:bg-red-700 border-red-900","\n              ").concat(m?"translate-y-1 shadow-inner opacity-80":v?"translate-y-1 shadow-inner":"shadow-lg","\n            "),children:_?"Weiter":"Pause"})]})]})})},rQ={iOS:{INSTALL_WELCOME:{title:"Installiere die Jassapp",message:"F\xfcge sie jetzt deinem Homebildschirm hinzu. Die moderne Webapp funktioniert ganz ohne App Store!",icon:tM.aBF},INSTALL_SHARE:{title:"Schritt 1",message:"Tippe auf das Teilen-Symbol.",icon:tM.aBF,image:"/onboarding_pics/pfeilchenbox.png"},INSTALL_HOME:{title:"Schritt 2",message:'Scrolle hinunter und w\xe4hle "Zum Home-Bildschirm".',icon:tM.aBF,image:"/onboarding_pics/zumhomebildschirm.png"},INSTALL_FINAL:{title:"Schritt 3",message:'Tippe auf "Hinzuf\xfcgen".',icon:tM.aBF,image:"/onboarding_pics/hinzufuegen.png"},INSTALL_DONE:{title:"Schritt 4",message:"Fertig! App \xf6ffnen und Jassen.",icon:tM.aBF,image:"/onboarding_pics/homescreen.png"},FINAL_HINTS:{title:"Letzte Hinweise",message:"",icon:tM.DAO}},Android:{INSTALL_WELCOME:{title:"Installiere die Jassapp",message:"F\xfcge sie jetzt deinem Homebildschirm hinzu. Die moderne Webapp funktioniert ganz ohne App Store!",icon:tM.aBF},INSTALL_SHARE:{title:"Schritt 1",message:"Klicke auf die drei Punkte.",icon:tM.aBF,image:"/onboarding_pics/android_menu.png"},INSTALL_HOME:{title:"Schritt 2",message:'W\xe4hle "Zum Startbildschirm hin..."',icon:tM.aBF,image:"/onboarding_pics/android_hinzufuegen.png"},INSTALL_FINAL:{title:"Schritt 3",message:"App \xf6ffnen und Jassen!",icon:tM.aBF,image:"/onboarding_pics/homescreen.png"},FINAL_HINTS:{title:"Abschliessende\nHinweise",message:"Vermeide es, die App mehrfach zu installieren. Das kann zu unerw\xfcnschtem Verhalten f\xfchren.",secondaryMessage:"Beim ersten \xd6ffnen der App wirst du durch alle wichtigen Funktionen gef\xfchrt.",finalMessage:"Viel Spass beim Jassen!",icon:tM.DAO,image:"/welcome-guru.png"}}},r0={INTRODUCTION:{title:"Willkommen zu Jassguru",message:"So bedienst du die Jasstafel:",icon:tM.DAO,list:["Swipe nach unten/oben f\xfcr das Men\xfc. Dort kannst du die Einstellungen vornehmen","Mit dem gr\xfcnen Knopf im Men\xfc \xf6ffnest du die Resultattafel und startest ein neues Spiel","Halte die Seite des z\xe4hlenden Spielers lange gedr\xfcckt, um die Punkte einzutragen","Doppelklicke auf deine Seite f\xfcr Spiel-Informationen, Berg und Bedanken","Schreibe Weise durch Klicken auf die Z-Linie","Navigiere durch die Spiel-Historie durch links/rechts Swipen und korrigiere Ergebnisse"]},SCREEN_TIME:{title:"Bildschirmzeit einstellen",message:"Stelle die Bildschirmzeit auf mindestens 5 Minuten ein, damit die App w\xe4hrend dem Jassen nicht ausgeht.",icon:tM.qyc}},r1=function(){var t=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(t)?"iOS":/android/.test(t)?"Android":"other"};function r2(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r5(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r5(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var r3=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=r1(),r="other"===e?"Android":e,n="iOS"===r?_:F,o=r2((0,h.useState)(t?n.INSTALL_WELCOME:H.INTRODUCTION),2),i=o[0],a=o[1],s=r2((0,h.useState)(!1),2),c=s[0],u=s[1];(0,h.useEffect)(function(){if(t){var e=Object.values(n),o=e.indexOf(i),a=e[o+1];if(a){var s=rQ[r][a];"image"in s&&(new Image().src=s.image)}}},[i,t,r]);var l=(0,h.useCallback)(function(){tG.getState().hideOnboarding(),u(!1)},[]),f=t?rQ[r][i]:r0[i];return{currentStep:i,showOnboarding:t||c,content:f,handleNext:function(){var e=Object.values(t?n:H),r=e.indexOf(i);a(r<e.length-1?e[r+1]:e[0])},handlePrevious:function(){var e=Object.values(t?n:H),r=e.indexOf(i);a(r>0?e[r-1]:e[e.length-1])},handleDismiss:l,canBeDismissed:!0,isBrowserOnboarding:t}};function r4(t){return(r4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function r8(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?r6(Object(r),!0).forEach(function(e){var n,o;n=e,o=r[e],(n=function(t){var e=function(t,e){if("object"!==r4(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==r4(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r4(e)?e:String(e)}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r6(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var r7=function(t){var e=t.content;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-4 text-center text-white",children:"Willkommen zu Jassguru"}),(0,b.jsx)("img",{src:"/welcome-guru.png",alt:"Jass Guru",className:"w-32 h-32 object-contain mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-300",children:"Schritt 1:"}),(0,b.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center",children:e.title}),e.icon&&(0,b.jsx)(e.icon,{className:"w-12 h-12 text-yellow-600 mb-4"}),(0,b.jsx)("p",{className:"text-center text-base mb-6",children:e.message}),(0,b.jsx)("h4",{className:"text-lg font-semibold mb-6 text-gray-300",children:"So geht's:"})]})},r9=function(){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-4 text-center text-white",children:"Letzte Hinweise"}),(0,b.jsx)("img",{src:"/welcome-guru.png",alt:"Jass Guru",className:"w-32 h-32 object-contain mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-300",children:"Achtung:"}),(0,b.jsx)("p",{className:"text-center text-base mb-6",children:"Vermeide es, die App mehrfach zu installieren – das kann zu unerw\xfcnschtem Verhalten f\xfchren!"}),(0,b.jsx)("h4",{className:"text-lg font-semibold mb-3 text-gray-300",children:"N\xe4chster Schritt:"}),(0,b.jsx)("p",{className:"text-center text-base mb-8",children:"Schliesse das Browser-Fenster nach der Installation. Beim ersten \xd6ffnen der App wirst du durch alle wichtigen Funktionen gef\xfchrt."}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-center mb-8",children:"Gutes Jassen!"})]})},nt=function(t){var e=t.content;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-300",children:e.title}),e.image&&(0,b.jsx)("div",{className:"w-full mb-6",children:(0,b.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-auto rounded-lg border border-gray-700"})}),(0,b.jsx)("p",{className:"text-center text-base mb-7",children:e.message})]})},ne=function(t){var e=t.previousButton,r=t.nextButton;return(0,b.jsxs)("div",{className:"flex justify-between w-full gap-4",children:[(0,b.jsxs)("button",r8(r8({},e.handlers),{},{className:"\n        flex-1 bg-gray-600 text-white px-6 py-2 rounded-full \n        hover:bg-gray-700 transition-all duration-100 text-lg font-semibold \n        flex items-center justify-center\n        ".concat(e.buttonClasses,"\n      "),children:[(0,b.jsx)(tM.x_l,{className:"mr-2"}),"Zur\xfcck"]})),(0,b.jsxs)("button",r8(r8({},r.handlers),{},{className:"\n        flex-1 bg-yellow-600 text-white px-6 py-2 rounded-full \n        hover:bg-yellow-700 transition-all duration-100 text-lg font-semibold \n        flex items-center justify-center\n        ".concat(r.buttonClasses,"\n      "),children:["Weiter",(0,b.jsx)(tM.Z1Y,{className:"ml-2"})]}))]})},nr=function(t){var e=t.show,r=t.step,n=t.content,o=t.onNext,i=t.onPrevious;t.onDismiss,t.canBeDismissed,t.isPWA,t.isBrowserOnboarding;var a=eO(i),s=eO(o),c="INSTALL_WELCOME"===r;return(0,b.jsx)(t_.M,{children:e&&(0,b.jsx)(tF.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-[9999] p-4",children:(0,b.jsx)(tF.E.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[c?(0,b.jsx)(r7,{content:n}):"FINAL_HINTS"===r?(0,b.jsx)(r9,{}):(0,b.jsx)(nt,{content:n}),(0,b.jsx)(ne,{previousButton:a,nextButton:s})]})},r)})})};function nn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return no(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return no(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function no(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ni(t){var e=(0,h.useRef)();return(0,h.useEffect)(function(){e.current=t},[t]),e.current}var na=function(t){var e=t.middleLineThickness,r=void 0===e?60:e,n=t.zShapeConfig,o=nn((0,h.useState)(!1),2),i=o[0],a=o[1],s=nn((0,h.useState)(!1),2),c=s[0],u=s[1],l=nn((0,h.useState)(null),2),f=l[0],d=l[1],m=t3(),g=m.isGameStarted,v=m.isGameCompleted,x=m.scores,S=x.top,w=x.bottom,j=m.currentPlayer,O=m.currentRound,P=m.updateScoreByStrich,N=tf().isJassStarted,E=tG(),k=E.menu.isOpen,C=E.setMenuOpen,T=E.historyWarning,A=E.isGameInfoOpen,L=E.setGameInfoOpen,I=E.setLastDoubleClickPosition,D=E.setOverlayPosition,R=y(),G=nn((0,h.useState)(function(){return rt()}),1)[0],M=nn((0,h.useState)(!G),2),_=M[0];M[1];var F=nn((0,h.useState)(!1),2),H=F[0],z=F[1],W=r3(_),B=W.currentStep,J=W.showOnboarding,U=W.content,K=W.handleNext,q=W.handlePrevious,V=(W.handleDismiss,W.canBeDismissed);(0,h.useEffect)(function(){G||(tG.getState().showOnboarding(!0,G),z(!0))},[]);var Y=(0,h.useMemo)(function(){return!N&&!g},[N,g]);(0,h.useEffect)(function(){a(!0)},[]),(0,h.useEffect)(function(){u(!1)},[]);var Z=(0,h.useMemo)(function(){if(!i)return{topContainerHeight:0,bottomContainerHeight:0,middleLinePosition:0};var t=rt()?parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--safe-area-top")||"0"):0,e=R-t-(rt()?parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--safe-area-bottom")||"0"):0),r=Math.floor(e/2),n=Math.floor(e/2);return{topContainerHeight:n,bottomContainerHeight:n,middleLinePosition:r+t}},[R,r,i]),$=Z.topContainerHeight,X=Z.bottomContainerHeight,Q=Z.middleLinePosition,tt=eh({initialPosition:0,maxOffset:.07*R,position:"top"}),te=tt.y,tr=tt.mainOpacity,tn=(tt.oppositeOpacity,tt.animateSwipe),to=tt.getBrightness,ti=eh({initialPosition:0,maxOffset:.07*R,position:"bottom"}),ta=ti.y,ts=ti.mainOpacity,tc=(ti.oppositeOpacity,ti.animateSwipe),tu=ti.getBrightness,tl=(0,h.useCallback)(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"left";("top"===t?tn:tc)(e);var r="top"===t?to:tu;r(1.2),setTimeout(function(){r(1)},300)},[tn,tc,to,tu]),td=rD("top"),tm=rD("bottom"),th=(0,h.useCallback)(function(t,e){if("left"===t||"right"===t){("top"===e?td:tm).handleSwipe(t),tl(e,t);return}if("up"===t||"down"===t){var r="top"===e&&"up"===t||"bottom"===e&&"down"===t,n="top"===e&&"down"===t||"bottom"===e&&"up"===t;r?(D(e),d(e),setTimeout(function(){C(!0),tn(!0),tc(!0)},0)):n&&(C(!1),d(null),D(null),tn(!1),tc(!1))}},[td,tm,tn,tc,C,tl,D]),tp=(0,h.useCallback)(function(t){k||(D(t),d(t),u(!0))},[k]),tg=(0,h.useCallback)(function(){u(!1),d(null),D(null)},[]),ty=eB(function(t){if(!k){var e=t.clientY<Q?"top":"bottom";D(e),I(e),L(!0)}});(0,h.useEffect)(function(){if(i){var t=setTimeout(function(){var t=window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px"))},0),e=setTimeout(function(){var t=window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px"))},100);return function(){clearTimeout(t),clearTimeout(e)}}},[i]),(0,h.useEffect)(function(){var t=function(){};return window.addEventListener("scroll",t,{passive:!1}),function(){window.removeEventListener("scroll",t)}},[]);var tb=ni(S),tv=ni(w);(0,h.useEffect)(function(){void 0!==tb&&S!==tb&&tl("top",S>tb?"left":"right")},[S,tb,tl]),(0,h.useEffect)(function(){void 0!==tv&&w!==tv&&tl("bottom",w>tv?"left":"right")},[w,tv,tl]);var tx=(0,h.useCallback)(function(){C(!1),d(null),tn(!1),tc(!1)},[C,tn,tc]);(0,h.useCallback)(function(t,e){P(e,t)},[P]);var tS=(0,h.useCallback)(function(t){},[]);return((0,h.useEffect)(function(){console.log("Onboarding Status:",{showOnboarding:J,forceOnboarding:H,canBeDismissed:V,isPWAInstalled:G})},[J,H,V,G]),i)?(0,b.jsxs)("div",{className:"relative w-full h-full overflow-hidden bg-chalk-black prevent-interactions",onClick:ty,onContextMenu:function(t){return t.preventDefault()},children:[(0,b.jsx)(nr,{show:J&&H,step:B,content:U,onNext:K,onPrevious:q,onDismiss:function(){},canBeDismissed:!1,isPWA:G,isBrowserOnboarding:_}),Y?(0,b.jsx)(e_,{}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ed,{position:"top",height:$,zShapeConfig:n,padding:"paddingTop",onSwipe:th,y:te,mainOpacity:tr,getBrightness:to,onLongPress:function(){return tp("top")},score:S,triggerBlendEffect:tS,isHistoryNavigationActive:td.isInPast}),(0,b.jsx)(p.q.div,{style:{position:"absolute",left:"5%",width:"90%",top:Q-r/2,height:"".concat(r/2,"px"),transform:te.to(function(t){return"translateY(".concat(-t,"px)")})},className:"bg-chalk-red"}),(0,b.jsx)(p.q.div,{style:{position:"absolute",left:"5%",width:"90%",top:Q,height:"".concat(r/2,"px"),transform:ta.to(function(t){return"translateY(".concat(t,"px)")})},className:"bg-chalk-red"}),(0,b.jsx)(eW,{currentPlayer:j,currentRound:O,opacity:tr.get(),isOpen:k,isGameStarted:!v,gameStartTime:null,roundStartTime:null}),(0,b.jsx)(ed,{position:"bottom",height:X,zShapeConfig:n,padding:"paddingBottom",onSwipe:th,y:ta,mainOpacity:ts,getBrightness:tu,onLongPress:function(){return tp("bottom")},score:w,triggerBlendEffect:tS,isHistoryNavigationActive:tm.isInPast}),c&&(0,b.jsx)(eT,{isOpen:c,onClose:tg,onCancel:tg,initialValue:0,clickedPosition:f}),(0,b.jsx)(rn,{isOpen:k,onClose:tx,swipePosition:f||"bottom"}),(0,b.jsx)(rI,{})]}),(0,b.jsx)(tz,{show:T.show,message:T.message,onConfirm:T.onConfirm,onDismiss:T.onCancel}),(0,b.jsx)(rX,{isOpen:A,onClose:function(){return L(!1)}})]}):null},ns=function(){return(0,b.jsx)("div",{className:"w-screen h-screen relative z-10",children:(0,b.jsx)(na,{middleLineThickness:3,zShapeConfig:{innerSpacing:50,sideSpacing:0,edgeSpacing:70}})})}},8312:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(5828)}])}},function(t){t.O(0,[391,130,365,729,754,888,774,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);