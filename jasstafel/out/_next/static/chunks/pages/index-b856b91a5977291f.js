(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{1988:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return tl}});var r=n(7294),o=n(32);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var c=function(){var t,e=function(t){if(Array.isArray(t))return t}(t=(0,r.useState)(0))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,c,a=[],u=!0,l=!1;try{for(i=(n=n.call(t)).next;!(u=(r=i.call(n)).done)&&(a.push(r.value),2!==a.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return a}}(t,2)||function(t,e){if(t){if("string"==typeof t)return i(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=e[0],o=e[1];return(0,r.useEffect)(function(){var t=function(){o(window.innerHeight)};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}},[]),n},a=n(5893),u=function(t){var e=t.className,n=t.outerStrokeWidth,o=void 0===n?2:n,i=t.diagonalStrokeWidth,c=t.position,u=t.onShapeRendered,l=(0,r.useRef)(null);return(0,r.useEffect)(function(){if(l.current&&u){var t=l.current.getBoundingClientRect();u({width:t.width,height:t.height,left:t.left,top:t.top})}},[u]),(0,a.jsx)("svg",{ref:l,className:e,viewBox:"0 0 120 100",preserveAspectRatio:"xMidYMid meet",children:(0,a.jsxs)("g",{transform:"top"===c?"translate(0, 0)":"none",children:[(0,a.jsx)("path",{d:"M0 0 L110 0",stroke:"currentColor",strokeWidth:o,fill:"none"}),(0,a.jsx)("path",{d:"M0 100 L110 0",stroke:"currentColor",strokeWidth:(void 0===i?.75:i)*Math.sqrt(2),fill:"none"}),(0,a.jsx)("path",{d:"M0 100 L110 100",stroke:"currentColor",strokeWidth:o,fill:"none"})]})})},l=function(t){var e=t.onSwipeUp,n=t.onSwipeDown,o=t.onSwipeLeft,i=t.onSwipeRight,c=t.threshold,a=void 0===c?50:c,u=t.element;(0,r.useEffect)(function(){var t=null,r=null,c=function(e){e.target.closest('[data-swipe-area="'.concat(u,'"]'))&&(t=e.touches[0].clientX,r=e.touches[0].clientY)},l=function(c){if(null!==t&&null!==r){var u=c.touches[0].clientX,l=c.touches[0].clientY,s=t-u,f=r-l;Math.abs(s)>Math.abs(f)?Math.abs(s)>a&&(s>0&&o?o():s<0&&i&&i(),t=null,r=null):Math.abs(f)>a&&(f>0&&e?e():f<0&&n&&n(),t=null,r=null)}};return document.addEventListener("touchstart",c),document.addEventListener("touchmove",l),function(){document.removeEventListener("touchstart",c),document.removeEventListener("touchmove",l)}},[e,n,o,i,a,u])},s=n(796);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}var y=(0,s.ZP)("div")({position:"absolute",width:"75%",maxWidth:"320px",height:"84%",top:"8%",left:"52%",transform:"translateX(-50%)",pointerEvents:"none",outline:"1px solid rgba(255, 255, 255, 0.3)"}),m=(0,s.ZP)("div")(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===f(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({position:"absolute",width:"100%",border:"2px solid rgba(255, 255, 255, 0.8)",display:"flex",alignItems:"center",justifyContent:"flex-start",padding:"0 10px",boxSizing:"border-box",pointerEvents:"auto",cursor:"pointer"},t.customStyle)}),b=(0,s.ZP)("span")({position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",color:"rgba(255, 255, 255, 0.8)",fontSize:"16px",fontWeight:"bold"}),h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-43;return"bottom"===t?{"100er":{height:"20%",top:"0.3%",left:"0%",width:"100%"},"50er":{height:"20%",top:"70%",left:"6%",width:"95%",transform:"rotate(".concat(e,"deg)"),transformOrigin:"top left"},"20er":{height:"20%",bottom:"0%",left:"5%",width:"95%"}}:{"20er":{height:"20%",top:"-1%",right:"5%",width:"95%"},"50er":{height:"20%",bottom:"16%",left:"22%",width:"95%",transform:"rotate(".concat(e,"deg)"),transformOrigin:"bottom left"},"100er":{height:"20%",bottom:"1%",right:"0%",width:"100%"}}},g=function(t){var e=t.position,n=(t.score,t.onStrichClick),r=(t.middleLinePosition,t.onBlendEffect),o=h(e,-43),i=function(t){n(t,e),r(e)};return(0,a.jsx)(y,{children:Object.entries(o).map(function(t){var n=function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,c,a=[],u=!0,l=!1;try{for(i=(n=n.call(t)).next;!(u=(r=i.call(n)).done)&&(a.push(r.value),2!==a.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return a}}(t,2)||function(t,e){if(t){if("string"==typeof t)return p(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1];return(0,a.jsx)(m,{customStyle:o,onClick:function(){return i(parseInt(r))},children:(0,a.jsx)(b,{style:{transform:"top"===e?"rotate(180deg)":"none",right:"top"===e?"auto":"10px",left:"top"===e?"10px":"auto"},children:"".concat(r," Box")})},r)})})};function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach(function(e){w(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function w(t,e,n){var r;return(r=function(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===v(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,c,a=[],u=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var P=(0,r.forwardRef)(function(t,e){var n=t.position,i=t.height,c=t.zShapeConfig,s=t.padding,f=t.onSwipe,p=t.y,d=t.mainOpacity,y=t.getBrightness,m=t.onLongPress,b=t.score,h=(t.isMenuOpen,t.onStrichClick),v=t.triggerBlendEffect,S=j((0,r.useState)(null),2),O=S[0],P=S[1],C=j((0,r.useState)(0),2);C[0],C[1];var M=function(){P(setTimeout(function(){m()},400))},N=function(){O&&clearTimeout(O)};(0,r.useEffect)(function(){return function(){O&&clearTimeout(O)}},[O]),l({onSwipeLeft:function(){console.log("Swipe Left detected"),f("left",n)},onSwipeRight:function(){console.log("Swipe Right detected"),f("right",n)},onSwipeUp:function(){console.log("Swipe Up detected"),f("up",n)},onSwipeDown:function(){console.log("Swipe Down detected"),f("down",n)},element:n});var k=w(w(w(w(w(w({width:"100%",position:"absolute",left:0,right:0,overflow:"visible",height:"".concat(i,"px")},n,0),s,"env(safe-area-inset-top)"),"userSelect","none"),"WebkitUserSelect","none"),"WebkitTouchCallout","none"),"touchAction","none"),E=w(w({position:"absolute",width:"110%",left:"-1%"},"top"===n?"bottom":"top","".concat(1.5*c.innerSpacing,"px")),"height","calc(100% - ".concat(1.5*c.edgeSpacing+.8*c.innerSpacing,"px)"));return(0,a.jsxs)(o.q.div,{style:x(x({},k),{},{transform:p.to(function(t){return"translateY(".concat("top"===n?-t:t,"px)")})}),"data-swipe-area":n,onMouseDown:M,onMouseUp:N,onTouchStart:M,onTouchEnd:N,onContextMenu:function(t){return t.preventDefault()},children:[(0,a.jsx)("div",{style:E,children:(0,a.jsx)(u,{className:"w-full h-full text-chalk-red",position:n,isReversed:"top"===n})}),(0,a.jsx)(o.q.div,{style:x(x({},{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"white",pointerEvents:"none"}),{},{opacity:p.to(y)})}),(0,a.jsx)(o.q.div,{className:"absolute inset-0 flex items-center justify-center",style:{opacity:d},children:(0,a.jsx)("span",{className:"text-gray-300 text-[9rem] opacity-50 select-none",style:{transform:"top"===n?"rotate(180deg)":"none"},children:b})}),(0,a.jsx)(g,{position:n,score:b,onStrichClick:function(t,e){e===n&&(h(t,n),v(n))},middleLinePosition:i/2,onBlendEffect:v})]})});function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var M=function(t){var e,n=t.initialPosition,r=t.maxOffset;t.position;var i=function(t){if(Array.isArray(t))return t}(e=(0,o.q_)(function(){return{y:n,mainOpacity:1,oppositeOpacity:1,config:{mass:1,tension:120,friction:26,clamp:!0,duration:250}}}))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,c,a=[],u=!0,l=!1;try{for(i=(n=n.call(t)).next;!(u=(r=i.call(n)).done)&&(a.push(r.value),2!==a.length);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return a}}(e,2)||function(t,e){if(t){if("string"==typeof t)return C(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(t,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=i[0],a=i[1];return{y:c.y,mainOpacity:c.mainOpacity,oppositeOpacity:c.oppositeOpacity,animateSwipe:function(t){"boolean"==typeof t?a.start({y:t?r:n,mainOpacity:1,oppositeOpacity:1}):a.start({mainOpacity:0,oppositeOpacity:0,config:{duration:125},onRest:function(){a.start({mainOpacity:1,oppositeOpacity:1,config:{duration:125}})}})},getBrightness:function(t){return"number"!=typeof t||isNaN(t)||"number"!=typeof r||0===r?0:Math.max(0,Math.min(t/r*.45,.45))}}},N=n(1993),k={siegScore:5e3,bergScore:2500,maxRoundScore:157,maxScore:157,colors:["Mis\xe8re","Sch\xe4lle","Schilte","Rosen","Guschti","Obenabe","Unenufe","Eichle","Qu\xe4r","Slalom"],colorMultipliers:[1,2,3,4,4,5,6,7,7,7]};function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t){return function(t){if(Array.isArray(t))return I(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return I(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach(function(e){T(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function T(t,e,n){var r;return(r=function(t,e){if("object"!==E(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==E(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===E(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D=(0,N.U)(function(t){return{topScore:0,bottomScore:0,topRounds:0,bottomRounds:0,settings:k,scoreHistory:[],currentHistoryIndex:-1,currentPlayer:1,currentRound:1,isCalculatorFlipped:!1,setTopScore:function(e){return t({topScore:e})},setBottomScore:function(e){return t({bottomScore:e})},incrementTopRound:function(){return t(function(t){return{topRounds:t.topRounds+1}})},incrementBottomRound:function(){return t(function(t){return{bottomRounds:t.bottomRounds+1}})},updateSettings:function(e){return t(function(t){return void 0!==e.siegScore&&(e.siegScore<=0||e.siegScore>1e4)||void 0!==e.bergScore&&void 0!==e.siegScore&&(e.bergScore<=0||e.bergScore>=e.siegScore)||void 0!==e.maxRoundScore&&(e.maxRoundScore<=0||e.maxRoundScore>1e3)||void 0!==e.colors&&10!==e.colors.length||void 0!==e.colorMultipliers&&(10!==e.colorMultipliers.length||e.colorMultipliers.some(function(t){return t<1||t>8}))?(console.error("Ung\xfcltige Spieleinstellungen"),t):{settings:H(H({},t.settings),e)}})},resetGame:function(){return t({topScore:0,bottomScore:0,topRounds:0,bottomRounds:0,currentHistoryIndex:-1,scoreHistory:[],currentPlayer:1,currentRound:1})},updateScore:function(e,n,r){return t(function(t){var o,i,c,a,u=t.scoreHistory[t.currentHistoryIndex],l=(null==u||null===(c=u.weisPoints)||void 0===c?void 0:c[e])||0,s=(null==u||null===(a=u.weisPoints)||void 0===a?void 0:a["top"===e?"bottom":"top"])||0,f=n+l,p=(o=t["".concat(e,"Score")]+f,t.settings.maxScore,Math.max(0,o)),d="top"===e?"bottom":"top",y=(i=t["".concat(d,"Score")]+(r+s),t.settings.maxScore,Math.max(0,i)),m=T(T(T(T(T(T({},"".concat(e,"Score"),p),"".concat(d,"Score"),y),"currentPlayer",t.currentPlayer%4+1),"currentRound",t.currentRound+1),"topRounds","top"===e?t.topRounds+1:t.topRounds),"bottomRounds","bottom"===e?t.bottomRounds+1:t.bottomRounds),b=H(H({},u),{},{topScore:m.topScore,bottomScore:m.bottomScore,topRounds:m.topRounds,bottomRounds:m.bottomRounds,totalPoints:{top:"top"===e?f:0,bottom:"bottom"===e?f:0},weisPoints:{top:0,bottom:0}}),h=[].concat(R(t.scoreHistory.slice(0,t.currentHistoryIndex+1)),[b]);return(p>=t.settings.bergScore||y>=t.settings.bergScore)&&console.log("BERG erreicht!"),(p>=t.settings.siegScore||y>=t.settings.siegScore)&&console.log("SIEG erreicht!"),H(H({},m),{},{scoreHistory:h,currentHistoryIndex:h.length-1})})},addToHistory:function(){return t(function(t){var e=[].concat(R(t.scoreHistory),[{topScore:t.topScore,bottomScore:t.bottomScore,topRounds:t.topRounds,bottomRounds:t.bottomRounds,totalPoints:{top:0,bottom:0},weisPoints:{top:0,bottom:0}}]);return console.log("Neue Historie hinzugef\xfcgt:",e),{scoreHistory:e,currentHistoryIndex:e.length-1}})},navigateHistory:function(e){return t(function(t){var n="forward"===e?Math.min(t.currentHistoryIndex+1,t.scoreHistory.length-1):Math.max(t.currentHistoryIndex-1,0);if(console.log("Navigiere in der Historie: ".concat(e,", Aktueller Index: ").concat(t.currentHistoryIndex,", Neuer Index: ").concat(n)),n!==t.currentHistoryIndex&&t.scoreHistory.length>0){var r=t.scoreHistory[n];if(r)return console.log("Historie-Eintrag gefunden:",r),H(H({},t),{},{topScore:r.topScore,bottomScore:r.bottomScore,currentRound:n+1,currentPlayer:n%4+1,currentHistoryIndex:n})}return console.log("Keine \xc4nderung in der Historie"),t})},incrementCurrentPlayer:function(){return t(function(t){return{currentPlayer:t.currentPlayer%4+1}})},incrementCurrentRound:function(){return t(function(t){return{currentRound:t.currentRound+1}})},setCalculatorFlipped:function(e){return t({isCalculatorFlipped:e})},updateScoreByStrich:function(e,n){return t(function(t){var r=t.scoreHistory[t.currentHistoryIndex]||{topScore:t.topScore,bottomScore:t.bottomScore,topRounds:t.topRounds,bottomRounds:t.bottomRounds,totalPoints:{top:0,bottom:0},weisPoints:{top:0,bottom:0}},o=H(H({},r.weisPoints),{},T({},e,(r.weisPoints[e]||0)+n)),i=R(t.scoreHistory);return i[t.currentHistoryIndex]=H(H({},r),{},{weisPoints:o}),T({scoreHistory:i},"".concat(e,"Score"),t["".concat(e,"Score")]+n)})}}}),L=n(3280),U=n(9883);function z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,c,a=[],u=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var F=function(t){var e=t.isOpen,n=t.onClose,i=t.onSubmit,c=t.initialValue,u=void 0===c?0:c;t.onCancel;var l=D(),s=l.isCalculatorFlipped,f=l.setCalculatorFlipped,p=z((0,r.useState)("0"),2),d=p[0],y=p[1],m=z((0,r.useState)("0"),2),b=m[0],h=m[1],g=z((0,r.useState)(1),2),v=g[0],S=g[1],x=z((0,r.useState)(null),2),w=x[0],j=x[1],O=D(function(t){return t.settings}),P=z((0,r.useState)(new Set),2),C=P[0],M=P[1],N=z((0,r.useState)(!1),2),k=N[0],E=N[1],R=z((0,r.useState)(null),2),I=R[0],A=R[1],H=z((0,r.useState)("0"),2),T=H[0],B=H[1],F=z((0,r.useState)(!1),2),W=F[0],_=F[1],q=z((0,r.useState)(!1),2),$=q[0],G=q[1],K=z((0,r.useState)(0),2),Y=K[0],V=K[1],Z=z((0,r.useState)(null),2),X=Z[0],Q=Z[1];(0,r.useRef)("0");var J=z((0,r.useState)(0),2),tt=J[0],te=J[1],tn=z((0,o.q_)(function(){return{opacity:.5,scale:.95,config:{mass:1,tension:300,friction:20}}}),2),tr=tn[0],to=tn[1];(0,r.useEffect)(function(){e?(y(u.toString()),h("0"),B(u.toString()),j(null),S(1),_(!1),to({opacity:1,scale:1,config:{mass:1,tension:300,friction:20}})):(E(!1),to({opacity:.5,scale:.9,config:{mass:1,tension:300,friction:20}}))},[e,u,to]),(0,r.useEffect)(function(){if("0"===d)h("0"),B("0");else if("257"===d)h("0"),B((257*v).toString());else{var t=157-parseInt(d,10);h(t>0?t.toString():"0"),B((parseInt(d,10)*v).toString())}},[d,v]);var ti=function(t){if(!W){var e=Date.now();e-tt<100||(te(e),y(function(e){var n=tl("0"===e?t.toString():e+t.toString());return"0"===n&&h("157"),n}),M(function(e){return new Set(e).add(t)}),setTimeout(function(){M(function(e){var n=new Set(e);return n.delete(t),n})},100))}},tc=function(t,e){if(j(t),S(e),A(null),"0"!==d){var n=parseInt(d,10);B((n*e).toString()),h((Math.max(157-n,0)*e).toString())}else h("0"),B("0")},ta=function(){y("0"),h("0"),S(1),j(null),_(!1)},tu=function(){f(!s)},tl=function(t){var e=parseInt(t,10);return isNaN(e)?"0":Math.min(e,157).toString()},ts=function(t){if(!(t<3)){var e=document.querySelector(".matsch-button");if(e)for(var n=e.getBoundingClientRect(),r=(n.left+n.width/2)/window.innerWidth,o=(n.top+n.height/2)/window.innerHeight,i=10+(t-3)*30,c=function(t,e,n,i){(0,U.Z)({particleCount:n,angle:s?(t+180)%360:t,spread:e,origin:{x:r,y:o},colors:["#FF0000","#FFA500","#FFFF00","#00FF00","#0000FF","#800080"],scalar:i,gravity:s?-1:1,ticks:300})},a=0;a<360;a+=45)c(a,55,Math.floor(.3*i),1.2),c(a,25,Math.floor(.4*i),.8),c(a,10,Math.floor(.3*i),.4)}},tf=function(){y("257"),h("0"),B((257*v).toString()),_(!0),ts(Y)};return(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300 ".concat(e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:n,children:(0,a.jsxs)(o.q.div,{style:{opacity:tr.opacity,transform:tr.scale.to(function(t){return"scale(".concat(t,")")})},className:"relative w-11/12 max-w-md",children:[(0,a.jsxs)("button",{onClick:function(t){t.stopPropagation(),tu()},className:"absolute ".concat(s?"top-full mt-6":"bottom-full mb-6"," left-1/2 transform -translate-x-1/2 text-white hover:text-gray-300 transition-all duration-1000"),"aria-label":"Umdrehen",children:[(0,a.jsx)(L.bxQ,{className:"w-8 h-8 ".concat(s?"rotate-180 opacity-0":"opacity-100"," transition-all duration-1000")}),(0,a.jsx)(L.bxQ,{className:"w-8 h-8 absolute top-0 left-0 ".concat(s?"rotate-0 opacity-100":"rotate-180 opacity-0"," transition-all duration-1000")})]}),(0,a.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg transition-all duration-700 flex flex-col items-center ".concat(k?"opacity-0 scale-95":"opacity-100 scale-100"),style:{transform:"".concat(s?"rotate(180deg)":"rotate(0deg)")},onClick:function(t){return t.stopPropagation()},children:[(0,a.jsx)("h2",{className:"text-white text-xl mb-4 text-center select-none","aria-label":"Runde schreiben",children:"Runde schreiben"}),(0,a.jsxs)("div",{className:"flex flex-col w-full space-y-4",children:[(0,a.jsx)("input",{type:"text",value:d,readOnly:!0,className:"w-full bg-gray-700 text-white text-6xl p-4 rounded select-none text-center","aria-label":"Aktueller Wert"}),(0,a.jsxs)("div",{className:"flex justify-between items-stretch w-full space-x-2 h-10",children:[(0,a.jsxs)("div",{className:"w-1/3 bg-gray-700 text-white p-1 rounded select-none flex items-center justify-end relative",children:[(0,a.jsx)("div",{className:"text-xs absolute top-0 left-1",children:"Gegner:"}),(0,a.jsx)("div",{className:"text-xl pr-1",children:b})]}),(0,a.jsx)("button",{onClick:tf,onMouseDown:function(){G(!0),V(0),Q(setInterval(function(){V(function(t){return Math.min(t+1,20)})},100))},onMouseUp:function(){G(!1),X&&clearInterval(X),tf()},onMouseLeave:function(){G(!1),X&&clearInterval(X)},onTouchStart:function(){G(!0),V(0),Q(setInterval(function(){V(function(t){return Math.min(t+1,20)})},100))},onTouchEnd:function(){G(!1),X&&clearInterval(X),tf()},className:"w-1/3 p-1 rounded select-none transition-all duration-100 text-lg flex items-center justify-center matsch-button ".concat(W?"bg-orange-500 text-white":$?"bg-gray-600 text-white scale-95 opacity-80":"bg-gray-700 text-white hover:bg-orange-500 scale-100 opacity-100"),disabled:W,children:"Matsch"}),(0,a.jsxs)("div",{className:"w-1/3 bg-gray-700 text-white p-1 rounded select-none flex items-center justify-end relative",children:[(0,a.jsx)("div",{className:"text-xs absolute top-0 left-1",children:"Total:"}),(0,a.jsx)("div",{className:"text-xl pr-1",children:T})]})]})]}),(0,a.jsx)("div",{className:"mt-4"}),(0,a.jsx)("div",{className:"grid grid-cols-5 gap-2 mb-4 w-full",children:O.colors.map(function(t,e){return(0,a.jsx)("button",{onMouseDown:function(){return A(t)},onMouseUp:function(){return tc(t,O.colorMultipliers[e])},onMouseLeave:function(){return A(null)},onTouchStart:function(){return A(t)},onTouchEnd:function(){return tc(t,O.colorMultipliers[e])},className:"p-1 rounded transition-all duration-100 ".concat(w===t?"bg-orange-500":I===t?"bg-gray-500 scale-95":"bg-gray-600 scale-100"," text-white select-none text-xs h-12 flex items-center justify-center"),"aria-label":"".concat(t),children:t},t)})}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3 w-full",children:[[1,2,3,4,5,6,7,8,9].map(function(t){return(0,a.jsx)("button",{onClick:function(){return ti(t)},onTouchEnd:function(e){e.preventDefault(),ti(t)},className:"bg-gray-600 text-white p-4 rounded select-none text-2xl transition-all duration-100 ".concat(C.has(t)?"bg-gray-500 scale-95 opacity-80":"scale-100 opacity-100"),children:t},t)}),(0,a.jsx)("button",{onClick:ta,onMouseDown:function(){return M(function(t){return new Set(t).add("C")})},onMouseUp:function(){return M(function(t){var e=new Set(t);return e.delete("C"),e})},onMouseLeave:function(){return M(function(t){var e=new Set(t);return e.delete("C"),e})},onTouchStart:function(){return M(function(t){return new Set(t).add("C")})},onTouchEnd:function(){M(function(t){var e=new Set(t);return e.delete("C"),e}),ta()},className:"bg-red-600 text-white p-4 rounded select-none text-2xl transition-all duration-100 ".concat(C.has("C")?"bg-red-500 scale-95 opacity-80":"scale-100 opacity-100"),children:"C"}),(0,a.jsx)("button",{onClick:function(){return ti(0)},onMouseDown:function(){return M(function(t){return new Set(t).add(0)})},onMouseUp:function(){return M(function(t){var e=new Set(t);return e.delete(0),e})},onMouseLeave:function(){return M(function(t){var e=new Set(t);return e.delete(0),e})},className:"bg-gray-600 text-white p-4 rounded select-none text-2xl transition-all duration-100 ".concat(C.has(0)?"bg-gray-500 scale-95 opacity-80":"scale-100 opacity-100"),children:"0"}),(0,a.jsx)("button",{onClick:function(){var t=parseInt(T,10),e=parseInt(b,10);E(!0),setTimeout(function(){i(t,e),E(!1)},300)},onMouseDown:function(){return M(function(t){return new Set(t).add("OK")})},onMouseUp:function(){return M(function(t){var e=new Set(t);return e.delete("OK"),e})},onMouseLeave:function(){return M(function(t){var e=new Set(t);return e.delete("OK"),e})},className:"bg-green-600 text-white p-4 rounded select-none text-2xl transition-all duration-100 ".concat(C.has("OK")?"bg-green-500 scale-95 opacity-80":"scale-100 opacity-100"),children:"OK"})]})]})]})})};function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==W(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==W(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===W(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var $=function(t){var e=t.currentPlayer,n=t.currentRound,r=t.opacity,i=t.isOpen,c=(0,o.q_)({opacity:i?0:r,config:{duration:i?150:500,delay:i?0:300}});return(0,a.jsxs)(o.q.div,{className:"absolute inset-x-0 flex flex-col items-center justify-center pointer-events-none",style:q(q({},c),{},{top:"calc(50% - 4rem)",height:"3.5rem"}),children:[(0,a.jsxs)("div",{className:"text-gray-500 text-xs transform scale-y-[-1] scale-x-[-1] absolute right-[8%] top-[4.5rem]",children:["Runde: ",n]}),(0,a.jsxs)("div",{className:"text-gray-500 text-xs absolute left-[8%] bottom-0",children:["Spieler: ",e]})]})},G=n(1773),K=n(7836),Y=function(t){var e=t.onDismiss,n=t.showTitle,r=t.message;return t.show?(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-[9999] p-4 animate-fade-in pointer-events-auto",children:(0,a.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[(0,a.jsx)(G.DAO,{className:"w-12 h-12 text-yellow-600 mb-2"}),(void 0===n||n)&&(0,a.jsx)("h2",{className:"text-xl font-bold text-center",children:r})]}),(0,a.jsxs)("ul",{className:"list-disc pl-5 mb-6 space-y-2",children:[(0,a.jsx)("li",{children:"Swipe nach unten/oben, um das Men\xfc zu \xf6ffnen/schliessen"}),(0,a.jsx)("li",{children:"Halte lange gedr\xfcckt, um den Punktez\xe4hler zu \xf6ffnen. Klicke ausserhalb, um ihn zu schliessen"}),(0,a.jsx)("li",{children:"Gez\xe4hlt wird auf der Seite, auf die gedr\xfcckt wurde. Die Punkte der Gegner werden automatisch mitgeschrieben"}),(0,a.jsx)("li",{children:"Schreibe Weise durch Klicken auf die Z-Linien"}),(0,a.jsx)("li",{children:"Swipe links/rechts, um die Punkte-Historie anzusehen. Eintippen von Resultaten nach alten Runden, \xfcberschreibt neue Runden"})]}),(0,a.jsx)("button",{onClick:e,className:"bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors w-full text-lg font-semibold",children:"Verstanden"})]})}):null};function V(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,c,a=[],u=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var X=function(t){var e=t.isOpen,n=D().resetGame,o=V((0,r.useState)(null),2),i=o[0],c=o[1],u=V((0,r.useState)(!1),2),l=u[0],s=u[1],f="w-12 h-12 p-2 rounded-xl shadow-md transition-transform hover:scale-110",p={hidden:{opacity:0,y:0},visible:{opacity:1,y:0}},d=function(t){c(t),setTimeout(function(){return c(null)},150)};return(0,a.jsxs)(K.E.div,{className:"absolute inset-x-0 top-1/2 transform -translate-y-1/2 flex justify-center items-center h-16 z-10 ".concat(e?"opacity-100":"opacity-0 pointer-events-none"," transition-opacity duration-300"),variants:{hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.05}}},initial:"hidden",animate:e?"visible":"hidden",children:[(0,a.jsxs)("div",{className:"flex justify-center space-x-10",children:[(0,a.jsx)(K.E.button,{onClick:function(){n(),d("trash")},className:"".concat(f," bg-red-500 text-white"),variants:p,onMouseDown:function(){return d("trash")},onTouchStart:function(){return d("trash")},children:(0,a.jsx)(G.AMf,{className:"w-full h-full ".concat("trash"===i?"opacity-70":"")})}),(0,a.jsx)(K.E.button,{onClick:function(){d("info"),s(!0)},className:"".concat(f," bg-blue-500 text-white"),variants:p,onMouseDown:function(){return d("info")},onTouchStart:function(){return d("info")},children:(0,a.jsx)(G.DAO,{className:"w-full h-full ".concat("info"===i?"opacity-70":"")})}),(0,a.jsx)(K.E.button,{onClick:function(){return d("save")},className:"".concat(f," bg-yellow-500 text-white"),variants:p,onMouseDown:function(){return d("save")},onTouchStart:function(){return d("save")},children:(0,a.jsx)(G.TvB,{className:"w-full h-full ".concat("save"===i?"opacity-70":"")})}),(0,a.jsx)(K.E.button,{onClick:function(){return d("forward")},className:"".concat(f," bg-green-500 text-white"),variants:p,onMouseDown:function(){return d("forward")},onTouchStart:function(){return d("forward")},children:(0,a.jsx)(G.C$r,{className:"w-full h-full ".concat("forward"===i?"opacity-70":"")})})]}),l&&(0,a.jsx)(Y,{onDismiss:function(){return s(!1)},showTitle:!1,show:!0,message:"Willkommen zu Jassguru"})]})},Q=n(5603);function J(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,c,a=[],u=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return tt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var te=function(){var t=J((0,r.useState)(!1),2),e=t[0],n=t[1],o=J((0,r.useState)(""),2),i=o[0],c=o[1],a=J((0,r.useState)(!1),2),u=a[0],l=a[1];return(0,r.useEffect)(function(){if(!(0,Q.Ee)()){n(!1);return}"true"===localStorage.getItem("hasShownIntro")?l(!0):(c("Willkommen zu Jassguru"),n(!0))},[]),{showMessage:e,message:i,dismissMessage:function(){n(!1),l(!0),localStorage.setItem("hasShownIntro","true")},hasShownIntro:u}};function tn(t){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function to(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tr(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==tn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==tn(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===tn(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ti(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,c,a=[],u=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(l)throw o}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return tc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tc(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var ta=function(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://")},tu=function(t){var e=t.middleLineThickness,n=void 0===e?60:e,i=t.zShapeConfig,u=c(),l=ti((0,r.useState)(!1),2),s=l[0],f=l[1],p=ti((0,r.useState)(!1),2),d=p[0],y=p[1],m=ti((0,r.useState)(!1),2),b=m[0],h=m[1],g=ti((0,r.useState)(null),2),v=g[0],S=g[1],x=ti((0,r.useState)(!1),2);x[0],x[1];var w=D(),j=w.topScore,O=w.bottomScore,C=(w.topRounds,w.bottomRounds,w.navigateHistory),N=w.currentHistoryIndex,k=w.updateScore,E=(w.scoreHistory,w.currentPlayer),R=w.currentRound,I=w.updateScoreByStrich;(0,r.useEffect)(function(){f(!0)},[]),(0,r.useEffect)(function(){console.log("Aktuelle Werte:",{topScore:j,bottomScore:O,currentHistoryIndex:N,currentPlayer:E,currentRound:R})},[j,O,N,E,R]),(0,r.useEffect)(function(){console.log("Aktualisierte Werte nach Zustands\xe4nderung:",{topScore:j,bottomScore:O,currentHistoryIndex:N,currentPlayer:E,currentRound:R})},[j,O,N,E,R]),(0,r.useEffect)(function(){h(!1)},[]);var A=(0,r.useMemo)(function(){if(!s)return{topContainerHeight:0,bottomContainerHeight:0,middleLinePosition:0};var t=ta()?parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--safe-area-top")||"0"):0,e=u-t-(ta()?parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--safe-area-bottom")||"0"):0),n=Math.floor(e/2);return{topContainerHeight:n,bottomContainerHeight:n,middleLinePosition:Math.floor(e/2)+t}},[u,n,s]),H=A.topContainerHeight,T=A.bottomContainerHeight,L=A.middleLinePosition,U=M({initialPosition:0,maxOffset:.07*u,position:"top"}),z=U.y,B=U.mainOpacity,W=U.oppositeOpacity,_=U.animateSwipe,q=U.getBrightness,G=M({initialPosition:0,maxOffset:.07*u,position:"bottom"}),K=G.y,V=G.mainOpacity,Z=G.oppositeOpacity,J=G.animateSwipe,tt=G.getBrightness,tn=(0,r.useRef)(null),tr=(0,r.useRef)(null),tc=(0,r.useCallback)(function(t,e){if("left"===t||"right"===t){var n="top"===e?"left"===t?"forward":"backward":"left"===t?"backward":"forward";console.log("Navigiere in der Historie: ".concat(n)),C(n),_(t),J(t)}else{var r="top"===e&&"up"===t||"bottom"===e&&"down"===t,o="top"===e&&"down"===t||"bottom"===e&&"up"===t;r?(y(!0),_(!0),J(!0)):o&&(y(!1),_(!1),J(!1))}},[C,_,J]),tu=u>0?.07*u:0,tl={position:"absolute",height:"".concat(n/1.5,"px"),backgroundColor:"#FF0000"},ts=(0,r.useCallback)(function(t){d||(h(!0),S(t))},[d]),tf=(0,r.useCallback)(function(){h(!1),S(null)},[]),tp=(0,r.useCallback)(function(t,e){v&&(k(v,t,e),h(!1),S(null))},[v,k]);(0,r.useCallback)(function(t,e){C("top"===e?"left"===t?"forward":"backward":"left"===t?"backward":"forward"),"top"===e?_(t):J(t)},[C,_,J]);var td=te(),ty=td.showMessage,tm=td.message,tb=td.dismissMessage,th=td.hasShownIntro,tg=(0,Q.oQ)(th),tv=tg.browserMessage,tS=tg.dismissMessage,tx=function(t,e){I(e,t)},tw=(0,r.useCallback)(function(t){"top"===t?_("left"):J("left")},[_,J]);return(0,a.jsxs)("div",{className:"w-full h-full bg-black relative select-none touch-action-none",style:{height:"".concat(u,"px")},children:[ty&&(0,a.jsx)(Y,{show:ty,message:tm,onDismiss:tb}),!ty&&tv.show&&(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4 animate-fade-in",children:(0,a.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white",children:[(0,a.jsx)("p",{className:"text-lg mb-8 text-center",children:tv.message}),(0,a.jsx)("button",{onClick:tS,className:"bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors w-full text-lg font-semibold",children:"Verstanden"})]})}),!ty&&!tv.show&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P,{ref:tn,position:"top",height:H,zShapeConfig:i,padding:"paddingTop",onSwipe:tc,isOpen:d,y:z,mainOpacity:B,oppositeOpacity:W,getBrightness:q,onLongPress:function(){return ts("top")},score:j,isMenuOpen:d,onStrichClick:tx,triggerBlendEffect:tw},"top-".concat(N)),(0,a.jsx)(o.q.div,{style:to(to({},tl),{},{left:z.to(function(t){return"".concat(5-t/tu*5,"%")}),width:z.to(function(t){return"".concat(90+t/tu*10,"%")}),top:L-n/2,height:"".concat(n,"px"),transform:z.to(function(t){return"translateY(".concat(-t,"px)")})}),className:"bg-chalk-red"}),(0,a.jsx)(o.q.div,{style:to(to({},tl),{},{left:K.to(function(t){return"".concat(5-t/tu*5,"%")}),width:K.to(function(t){return"".concat(90+t/tu*10,"%")}),top:L,height:"".concat(n,"px"),transform:K.to(function(t){return"translateY(".concat(t,"px)")})}),className:"bg-chalk-red"}),(0,a.jsx)(P,{ref:tr,position:"bottom",height:T,zShapeConfig:i,padding:"paddingBottom",onSwipe:tc,isOpen:d,y:K,mainOpacity:V,oppositeOpacity:Z,getBrightness:tt,onLongPress:function(){return ts("bottom")},score:O,isMenuOpen:d,onStrichClick:tx,triggerBlendEffect:tw},"bottom-".concat(N)),b&&(0,a.jsx)(F,{isOpen:b,onClose:tf,onSubmit:tp,onCancel:tf,initialValue:0}),!b&&(0,a.jsx)($,{currentPlayer:E,currentRound:R,opacity:1,isOpen:d}),(0,a.jsx)(X,{isOpen:d})]})]})},tl=function(){return(0,a.jsx)("div",{className:"w-screen h-screen relative z-10",children:(0,a.jsx)(tu,{middleLineThickness:3,zShapeConfig:{innerSpacing:50,sideSpacing:0,edgeSpacing:70}})})}},8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1988)}])}},function(t){t.O(0,[130,921,888,774,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);