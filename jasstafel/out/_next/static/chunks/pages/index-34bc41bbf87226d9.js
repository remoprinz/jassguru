(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5339:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return t3}});var r=n(7294),o=n(32);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var a=function(){var t,e=function(t){if(Array.isArray(t))return t}(t=(0,r.useState)(function(){return window.innerHeight}))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{for(i=(n=n.call(t)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,2)||function(t,e){if(t){if("string"==typeof t)return i(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=e[0],o=e[1];return(0,r.useEffect)(function(){var t=function(){var t=window.innerHeight;o(t),document.documentElement.style.setProperty("--vh","".concat(t,"px"))};t();var e=setTimeout(t,100);return window.addEventListener("resize",t),window.addEventListener("orientationchange",t),function(){clearTimeout(e),window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[]),n},s=n(5893),c=function(t){var e=t.className,n=t.outerStrokeWidth,o=void 0===n?2:n,i=t.diagonalStrokeWidth,a=t.position,c=t.onShapeRendered,l=(0,r.useRef)(null);return(0,r.useEffect)(function(){if(l.current&&c){var t=l.current.getBoundingClientRect();c({width:t.width,height:t.height,left:t.left,top:t.top})}},[c]),(0,s.jsx)("svg",{ref:l,className:e,viewBox:"0 0 120 100",preserveAspectRatio:"xMidYMid meet",children:(0,s.jsxs)("g",{transform:"top"===a?"translate(0, 0)":"none",children:[(0,s.jsx)("path",{d:"M0 0 L110 0",stroke:"currentColor",strokeWidth:o,fill:"none"}),(0,s.jsx)("path",{d:"M0 100 L110 0",stroke:"currentColor",strokeWidth:(void 0===i?.75:i)*Math.sqrt(2),fill:"none"}),(0,s.jsx)("path",{d:"M0 100 L110 100",stroke:"currentColor",strokeWidth:o,fill:"none"})]})})},l=function(t){var e=t.onSwipeUp,n=t.onSwipeDown,o=t.onSwipeLeft,i=t.onSwipeRight,a=t.threshold,s=void 0===a?50:a,c=t.element;(0,r.useEffect)(function(){var t=null,r=null,a=function(e){e.target.closest('[data-swipe-area="'.concat(c,'"]'))&&(t=e.touches[0].clientX,r=e.touches[0].clientY)},l=function(a){if(null!==t&&null!==r){var c=a.touches[0].clientX,l=a.touches[0].clientY,u=t-c,f=r-l;Math.abs(u)>Math.abs(f)?Math.abs(u)>s&&(u>0&&o?o():u<0&&i&&i(),t=null,r=null):Math.abs(f)>s&&(f>0&&e?e():f<0&&n&&n(),t=null,r=null)}};return document.addEventListener("touchstart",a),document.addEventListener("touchmove",l),function(){document.removeEventListener("touchstart",a),document.removeEventListener("touchmove",l)}},[e,n,o,i,s,c])},u=n(796);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===f(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}(0,u.ZP)("div")({position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start"}),(0,u.ZP)(o.q.div,{shouldForwardProp:function(t){return"isVertical"!==t&&"color"!==t}})(function(t){var e=t.isVertical;return{position:"absolute",backgroundColor:t.color,width:"2px",height:e?"100%":"2px",transformOrigin:"top left"}});var p=(0,u.ZP)("div")(function(t){return{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",transform:t.isRotated?"rotate(180deg)":"rotate(0)",transformOrigin:"center center"}}),h=function(t){var e=t.stricheCount,n=(t.stricheCounts,t.einheitWert),i=t.strichColor,a=t.animationDuration,c=(t.isActive,t.direction),l=t.edgeOffset,u=t.diagonalStrichHeight,f=t.diagonalStrichWidth,d=(t.diagonalStrichOffset,t.diagonalStrichAngle),h=t.strichSpacing,g=void 0===h?10:h,b=t.einheitSpacing,y=void 0===b?10:b,v=t.isXMode,x=void 0!==v&&v,S=t.xAngle,w=void 0===S?15:S,j=t.xSpacing,O=void 0===j?10:j,C=t.xSize,T=void 0===C?20:C,P=t.position,N=t.isRotated,A=t.topDiagonalStrichOffset,k=t.bottomDiagonalStrichOffset,M=t.topDiagonalStrichAngle,I=t.bottomDiagonalStrichAngle,D=t.diagonalStrichOffset100er,E=t.diagonalStrichOffset20er,R=t.diagonalStrichAngle100er,H=t.diagonalStrichAngle20er,z=t.xOffset100erTop,F=t.xOffset100erBottom,W=Math.floor(e/5),B=e%5,Z=e>0;(0,o.q_)({from:{scaleY:0},to:{scaleY:Z?1:0},config:m(m({},o.vc.stiff),{},{duration:void 0===a?1e3:a})});var L=(0,r.useCallback)(function(t,e,r){var o=t%5,a=Math.floor(t/5)*(y+4*g),p=o*g;if(4===o){var h,b,v=3*g;100===n&&D?(h=D,b=R||d):20===n&&E?(h=E,b=H||d):(h="top"===P?A:k,b="top"===P?M:I);var x=m(m({position:"absolute",height:u,width:f},"top"===P?{right:"calc(".concat(l+a+v,"px + ").concat(h.horizontal," ").concat(100===n?"- 0px":"",")"),top:"calc(0px + ".concat(h.vertical,")")}:{left:"calc(".concat(l+a,"px + ").concat(h.horizontal,")"),bottom:"calc(0px + ".concat(h.vertical,")")}),{},{transform:"rotate(".concat(b,"deg)"),transformOrigin:"bottom left",backgroundColor:i});return(0,s.jsx)("div",{style:x},"strich-".concat(t))}if(r){if("ltr"===c){var S,w="bottom"===P&&0===n?0:5;S={left:"".concat(l+a+p+w,"px")}}else S={right:"".concat(l+a+p,"px")};var j=m({position:"absolute",height:"100%",width:"2px"},S);return(0,s.jsx)("div",{style:m(m({},j),{},{backgroundColor:i})},"strich-".concat(t))}return null},[i,c,l,u,f,d,g,y,P,A,k,M,I,n,D,E,R,H]),U=(0,r.useCallback)(function(t){return(0,s.jsxs)(r.Fragment,{children:[[0,1,2,3].map(function(e){return L(5*t+e,!1,!0)}),L(5*t+4,!1,!1)," "]},"einheit-".concat(t))},[L]),G=(0,r.useMemo)(function(){return Array.from({length:W}).map(function(t,e){return U(e)})},[W,U]),q=(0,r.useMemo)(function(){return Array.from({length:B}).map(function(t,e){return L(5*W+e,!1,e<4)})},[B,W,L]),V=(0,r.useMemo)(function(){if(Z){var t=e-1;return L(t,!0,t%5<4)}return null},[Z,e,L]),_=(0,r.useCallback)(function(){return Array.from({length:Math.ceil(e/2)}).map(function(t,e){return"".concat(35*e,"px")})},[e]),Y=(0,r.useCallback)(function(){return _().map(function(t,n){var r=2*n+2<=e,o=2*n+1===e,a={position:"absolute",width:"0%",height:"104%",top:"50%",transform:"translateY(-50%)"};return"top"===P?a.right="calc(".concat(t," + 40px)"):a.left="calc(".concat(t," + 20px)"),(0,s.jsxs)("div",{style:a,children:[(0,s.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:i,transform:"rotate(".concat(w,"deg)"),transformOrigin:"center",opacity:r||o?1:0}}),(0,s.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:i,transform:"rotate(-".concat(w,"deg)"),transformOrigin:"center",opacity:r?1:0}})]},"x-".concat(n))})},[_,e,w,i,P]),J=(0,r.useCallback)(function(){var t=Math.floor(e/10);return t>0?(0,s.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:Array.from({length:t}).map(function(t,e){return(0,s.jsxs)("div",{style:m(m({position:"absolute"},"top"===P?{right:"".concat(23+e*(T+15),"px")}:{left:"".concat(23+e*(T+15),"px")}),{},{top:"50%",transform:"translateY(-50%)",width:"".concat(T,"px"),height:"107%"}),children:[(0,s.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:i,transform:"rotate(".concat(w,"deg)"),transformOrigin:"center"}}),(0,s.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:i,transform:"rotate(-".concat(w,"deg)"),transformOrigin:"center"}})]},"hundred-x-".concat(e))})}):null},[e,i,T,w,P]),$=(0,r.useMemo)(function(){if(x)return Y();if(100===n){var t=Math.floor(e/10),r=e-10*t,o=t*(T+O),i=null!=z?z:63,a=null!=F?F:40;return(0,s.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[J(),r>0&&(0,s.jsx)("div",{style:m(m({position:"absolute"},"top"===P?{right:t>0?"calc(".concat(o,"px + ").concat(i,"px)"):"calc(".concat(25,"px + 16px)")}:{left:t>0?"calc(".concat(o,"px + ").concat(a,"px)"):"calc(".concat(25,"px - 8px)")}),{},{top:0,bottom:0,width:"".concat(r*g,"px")}),children:Array.from({length:r}).map(function(t,e){return L(e,!1,!0)})})]})}if(20!==n)return(0,s.jsxs)(s.Fragment,{children:[G,q,V]});var c=Math.floor(e/5),l=e%5,u=c*(y+4*g)+l*g;return(0,s.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:(0,s.jsxs)("div",{style:m(m({position:"absolute"},"top"===P?{right:"25px"}:{left:"0px"}),{},{top:0,bottom:0,width:"".concat(u,"px")}),children:[Array.from({length:c}).map(function(t,e){return U(e)}),Array.from({length:l}).map(function(t,e){return L(5*c+e,!1,e<4)})]})})},[e,n,x,Y,J,T,O,P,g,L,G,q,V,y,U]);return(0,r.useEffect)(function(){},[e]),(0,s.jsx)(p,{isRotated:void 0!==N&&N,children:$})},g=n(1993),b={bergScore:2500,siegScore:5e3,schneiderScore:2500,schneiderStrafScore:1e3,maxRoundScore:1e3,maxScore:1e4,colors:["Mis\xe8re","Sch\xe4lle","Schilte","Rose","3x3","Obe","Une","Eichle","Quer","Slalom"],colorMultipliers:[1,2,3,4,4,5,6,7,7,7]};function y(t){return Math.max(0,Math.min(t,5e3))}var v=n(9883),x=function(t){var e=Math.floor(200*t),n=function(t){return(0,v.Z)({particleCount:Math.floor(e/5),origin:{x:t,y:-.1},spread:80,ticks:300,gravity:1,decay:.95,startVelocity:40,shapes:["square"],colors:["#FFD700","#FFA500","#FF8C00"],scalar:1.5,drift:0})},r=[.2,.35,.5,.65,.8];r.forEach(function(t,e){setTimeout(function(){n(t)},100*e)}),setTimeout(function(){r.forEach(function(t,e){setTimeout(function(){n(t)},100*e)})},300)},S=function(t,e,n){return(0,v.Z)({particleCount:100,spread:360,startVelocity:25,origin:{x:t,y:e},colors:n.map(function(t){return"rgba".concat(t.substring(4,t.length-1),", 0.8)")}),ticks:200,shapes:["circle"],gravity:.8,decay:.94,scalar:2})},w=function(t){for(var e=Math.floor(5*t),n=["rgba(0, 255, 0, 0.8)","rgba(50, 205, 50, 0.8)","rgba(152, 251, 152, 0.8)"],r=function(t){return new Promise(function(e){var r=.9,o=setInterval(function(){r-=.1,(0,v.Z)({particleCount:3,spread:10,startVelocity:1,origin:{x:t,y:r+.1},colors:["rgba(128, 128, 128, 0.5)"],ticks:20,shapes:["circle"],gravity:.3,decay:.95,scalar:.5}),r<=.3&&(clearInterval(o),S(t,r,n),setTimeout(function(){S(t+.1,r+.1,n)},100),e())},50)})},o=0;o<e;o++)setTimeout(function(){r(.2+.6*Math.random())},300*o)},j=function(t,e){var n=document.createElement("div");return n.innerHTML="\uD83D\uDC80",n.style.position="fixed",n.style.left="".concat(100*t,"%"),n.style.top="".concat(100*e,"%"),n.style.fontSize="3rem",n.style.transform="translate(-50%, -50%)",n.style.transition="all 2s ease-in",n.style.zIndex="9999",document.body.appendChild(n),n},O=function(t,e){return(0,v.Z)({particleCount:150,spread:360,origin:{x:t,y:e},colors:["#FF0000","#FF4500","#FF6B00"],startVelocity:45,gravity:1,shapes:["circle"],scalar:1.5,ticks:150,decay:.95})},C=function(){[.2,.4,.6,.8].forEach(function(t,e){setTimeout(function(){var e=-.1,n=j(t,-.1),r=setInterval(function(){e+=.1,n.style.top="".concat(100*e,"%"),e>=.5&&(clearInterval(r),O(t,e),setTimeout(function(){n.style.opacity="0",setTimeout(function(){return n.remove()},1e3)},100),setTimeout(function(){return O(t,e+.1)},100))},100)},300*e)})},T=function(){var t=document.createElement("canvas");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.zIndex="9999",t.style.pointerEvents="none",document.body.appendChild(t);var e=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight;var n=1,r=function(){e.fillStyle="rgba(255, 255, 255, ".concat(n,")"),e.fillRect(0,0,t.width,t.height),(n-=.1)>0?requestAnimationFrame(r):document.body.removeChild(t)};r()},P=function(t){document.body.style.animation="shake 0.1s infinite",T(),document.body.style.transition="all 0.5s",document.body.style.filter="saturate(200%) brightness(150%)",[{x:.2,y:.2},{x:.8,y:.2},{x:.2,y:.8},{x:.8,y:.8},{x:.5,y:.5}].forEach(function(t,e){setTimeout(function(){var e,n;e=t.x,n=t.y,(0,v.Z)({particleCount:500,spread:360,origin:{x:e,y:n},colors:["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF"],shapes:["star","square"],ticks:300,startVelocity:60,gravity:-.5,scalar:2,drift:2*Math.random()-1})},200*e)}),setTimeout(function(){document.body.style.animation="",document.body.style.filter="",document.body.style.transition=""},3e3)},N=function(t,e){if(!(t<.3)){var n=document.querySelector(".matsch-button");if(n)for(var r=n.getBoundingClientRect(),o=(r.left+r.width/2)/window.innerWidth,i=(r.top+r.height/2)/window.innerHeight,a=10+(t-.3)*30,s=function(t,n,r,a){(0,v.Z)({particleCount:r,angle:e?(t+180)%360:t,spread:n,origin:{x:o,y:i},colors:["#FF0000","#FFA500","#FFFF00","#00FF00","#0000FF","#800080"],scalar:a,gravity:e?-1:1,ticks:300})},c=0;c<360;c+=45)s(c,55,Math.floor(.3*a),1.2),s(c,25,Math.floor(.4*a),.8),s(c,10,Math.floor(.3*a),.4)}};function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach(function(e){I(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function I(t,e,n){var r;return(r=function(t,e){if("object"!==A(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==A(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===A(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D=function(){return{bergActive:!1,bedankenActive:!1,isSigned:!1,striche:{berg:0,sieg:0,matsch:0,schneider:0,kontermatsch:0},total:0}},E=function(t){return t},R={berg:1,sieg:2,matsch:1,schneider:2,kontermatsch:2},H=function(t,e,n,r){var o=t.teams[e],i=R[n];return{teams:M(M({},t.teams),{},I({},e,M(M(M({},o),void 0!==r&&I({},"".concat(n,"Active"),r)),{},{striche:M(M({},o.striche),{},I({},n,(o.striche[n]||0)+1)),total:o.total+i})))}},z=(0,g.U)()(function(t,e){return{bergChargeAmount:0,bedankenChargeAmount:0,matschChargeAmount:0,bergPressStartTime:null,bedankenPressStartTime:null,matschPressStartTime:null,bergChargeInterval:null,bedankenChargeInterval:null,matschChargeInterval:null,currentRound:1,isJassCompleted:!1,teams:{top:D(),bottom:D()},startBergCharge:function(n){if(!e().bergChargeInterval){var r=setInterval(function(){t(function(t){return{bergChargeAmount:Math.min(t.bergChargeAmount+.1,1)}})},100);t({bergPressStartTime:Date.now(),bergChargeInterval:r})}},stopBergCharge:function(n){var r=e();if(r.bergChargeInterval){clearInterval(r.bergChargeInterval);var o=E(n);r.teams[o].bergActive||(t(M(M({},H(r,o,"berg",!0)),{},{bergChargeInterval:null,bergChargeAmount:0,bergPressStartTime:null})),x(r.bergChargeAmount))}},startBedankenCharge:function(n){var r=e();if((r.teams.top.bergActive||r.teams.bottom.bergActive)&&!r.bedankenChargeInterval){var o=setInterval(function(){t(function(t){return{bedankenChargeAmount:Math.min(t.bedankenChargeAmount+.1,1)}})},100);t({bedankenPressStartTime:Date.now(),bedankenChargeInterval:o})}},stopBedankenCharge:function(n){var r=e();if(r.bedankenChargeInterval){if(clearInterval(r.bedankenChargeInterval),!n||!r.teams||!r.teams[n]){console.warn("Invalid team state:",{team:n,state:r});return}if(r.teams.top.bergActive||r.teams.bottom.bergActive){var o=r.teams[n].bedankenActive,i=r.teams[n];if(!o){var a=M(M({},i.striche),{},{sieg:(i.striche.sieg||0)+1});t({teams:M(M({},r.teams),{},I({},n,M(M({},i),{},{bedankenActive:!0,striche:a,total:i.total+2}))),bedankenChargeInterval:null,bedankenChargeAmount:0,bedankenPressStartTime:null});var s="top"===n?"bottom":"top",c="top"===s?V.getState().topScore:V.getState().bottomScore;("top"===s?c<2500:V.getState().bottomScore<2500)?C():w(r.bedankenChargeAmount)}}}},hasBergForTeam:function(t){return e().teams[t].bergActive},hasBedankenForTeam:function(t){return e().teams[t].bedankenActive},addStrich:function(e,n){return t(function(t){var r=E(e);return r&&t.teams[r]?H(t,r,n):(console.warn("Ung\xfcltiges Team:",r),t)})},startMatschCharge:function(n){var r=V.getState().currentPlayer;if(console.log("\uD83C\uDFAE Start Matsch Debug:",{clickedPosition:n,currentPlayer:r,activeTeam:r%2==1?"bottom":"top"}),!e().matschChargeInterval){var o=setInterval(function(){t(function(t){return{matschChargeAmount:Math.min(t.matschChargeAmount+.1,1)}})},100);t({matschPressStartTime:Date.now(),matschChargeInterval:o})}},stopMatschCharge:function(n){var r=e();if(r.matschChargeInterval){clearInterval(r.matschChargeInterval);var o=V.getState().currentPlayer,i=n!==(1===o||3===o?"bottom":"top"),a=r.matschChargeAmount;t(M(M({},H(r,E(n),i?"kontermatsch":"matsch")),{},{matschChargeInterval:null,matschChargeAmount:0,matschPressStartTime:null})),i?P(a):N(a,V.getState().isCalculatorFlipped)}}}}),F=function(t){var e={100:Math.floor(t/100),50:0,20:0},n=t%100;return n>=90?(e["50"]=1,e["20"]=2,n-=90):n>=80?(e["20"]=4,n-=80):n>=70?(e["50"]=1,e["20"]=1,n-=70):n>=60?(e["20"]=3,n-=60):n>=50?(e["50"]=1,n-=50):n>=20&&(e["20"]=Math.floor(n/10),n%=20),{striche:e,restZahl:n}};function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t){return function(t){if(Array.isArray(t))return Z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Z(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach(function(e){G(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function G(t,e,n){var r;return(r=function(t,e){if("object"!==W(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==W(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===W(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var q=function(t){var e,n,r,o,i,a,s,c,l,u,f,d;return{topScore:null!==(e=t.topScore)&&void 0!==e?e:0,bottomScore:null!==(n=t.bottomScore)&&void 0!==n?n:0,topRounds:null!==(r=t.topRounds)&&void 0!==r?r:0,bottomRounds:null!==(o=t.bottomRounds)&&void 0!==o?o:0,totalPoints:null!==(i=t.totalPoints)&&void 0!==i?i:{top:0,bottom:0},weisPoints:null!==(a=t.weisPoints)&&void 0!==a?a:{top:0,bottom:0},currentPlayer:null!==(s=t.currentPlayer)&&void 0!==s?s:1,currentRound:null!==(c=t.currentRound)&&void 0!==c?c:1,stricheCounts:null!==(l=t.stricheCounts)&&void 0!==l?l:{top:{},bottom:{}},restZahlen:null!==(u=t.restZahlen)&&void 0!==u?u:{top:0,bottom:0},farbe:t.farbe,weisActions:null!==(f=t.currentRoundWeis)&&void 0!==f?f:[],isRoundCompleted:null!==(d=t.isRoundCompleted)&&void 0!==d&&d}},V=(0,g.U)(function(t,e){return{topScore:0,bottomScore:0,topRounds:0,bottomRounds:0,settings:b,scoreHistory:[],currentHistoryIndex:-1,currentPlayer:1,currentRound:1,isCalculatorFlipped:!1,stricheCounts:{top:{},bottom:{}},restZahlen:{top:0,bottom:0},totalPoints:{top:0,bottom:0},weisPoints:{top:0,bottom:0},farbe:void 0,currentRoundWeis:[],isRoundCompleted:!1,isGameStarted:!1,isGameCompleted:!1,isJassCompleted:!1,gameStartTime:null,roundStartTime:null,teamTimings:{top:{totalTime:0,lastStartTime:null},bottom:{totalTime:0,lastStartTime:null}},isPaused:!1,pauseStartTime:null,currentMultiplier:7,historyWarning:{isVisible:!1,message:"",pendingAction:null},lastDoubleClickPosition:null,isGameInfoOpen:!1,setTopScore:function(e){return t({topScore:e})},setBottomScore:function(e){return t({bottomScore:e})},incrementTopRound:function(){return t(function(t){return{topRounds:t.topRounds+1}})},incrementBottomRound:function(){return t(function(t){return{bottomRounds:t.bottomRounds+1}})},updateSettings:function(e){return t(function(t){var n=U(U({},t.settings),e);return void 0!==n.siegScore&&(n.siegScore<=0||n.siegScore>1e4)||void 0!==n.bergScore&&void 0!==n.siegScore&&(n.bergScore<=0||n.bergScore>=n.siegScore)||void 0!==n.maxRoundScore&&(n.maxRoundScore<=0||n.maxRoundScore>1e3)||void 0!==n.colors&&10!==n.colors.length||void 0!==n.colorMultipliers&&(10!==n.colorMultipliers.length||n.colorMultipliers.some(function(t){return t<1||t>8}))?(console.error("Ung\xfcltige Spieleinstellungen"),t):{settings:n}})},resetGame:function(){return t(function(t){var e=q({topScore:0,bottomScore:0,topRounds:0,bottomRounds:0,currentPlayer:1,currentRound:1,totalPoints:{top:0,bottom:0},weisPoints:{top:0,bottom:0},stricheCounts:{top:{},bottom:{}},restZahlen:{top:0,bottom:0}});return U(U({},t),{},{topScore:0,bottomScore:0,topRounds:0,bottomRounds:0,currentHistoryIndex:0,scoreHistory:[e],currentPlayer:1,currentRound:1,stricheCounts:{top:{},bottom:{}},restZahlen:{top:0,bottom:0},totalPoints:{top:0,bottom:0},weisPoints:{top:0,bottom:0},isGameStarted:!1,isGameCompleted:!1,isJassCompleted:!1,gameStartTime:null,roundStartTime:null,teamTimings:{top:{totalTime:0,lastStartTime:null},bottom:{totalTime:0,lastStartTime:null}}})})},updateScore:function(e,n,r){return t(function(t){var o="top"===e?"bottom":"top",i=G(G({},e,y(t["".concat(e,"Score")]+n)),o,y(t["".concat(o,"Score")]+r)),a={top:F(i.top).striche,bottom:F(i.bottom).striche},s={top:"top"===e?t.totalPoints.top+n:t.totalPoints.top,bottom:"bottom"===e?t.totalPoints.bottom+n:t.totalPoints.bottom},c={topScore:i.top,bottomScore:i.bottom,currentRound:t.currentRound+1,currentPlayer:t.currentPlayer%4+1,stricheCounts:a,totalPoints:s,restZahlen:{top:i.top%10,bottom:i.bottom%10},roundStartTime:Date.now(),teamTimings:{top:{totalTime:0,lastStartTime:null},bottom:{totalTime:0,lastStartTime:null}}};return U(U({},c),{},{scoreHistory:[].concat(B(t.scoreHistory.slice(0,t.currentHistoryIndex+1)),[q(U(U({},t),c))]),currentHistoryIndex:t.currentHistoryIndex+1})})},addToHistory:function(){return t(function(t){return{scoreHistory:[].concat(B(t.scoreHistory.slice(0,t.currentHistoryIndex+1)),[q(t)]),currentHistoryIndex:t.currentHistoryIndex+1}})},navigateHistory:function(e){return t(function(t){var n="forward"===e?Math.min(t.currentHistoryIndex+1,t.scoreHistory.length-1):Math.max(t.currentHistoryIndex-1,0);return n===t.currentHistoryIndex?t:U(U({},t.scoreHistory[n]),{},{currentHistoryIndex:n})})},incrementCurrentPlayer:function(){return t(function(t){return{currentPlayer:t.currentPlayer%4+1}})},incrementCurrentRound:function(){return t(function(t){return{currentRound:t.currentRound+1}})},setCalculatorFlipped:function(e){return t({isCalculatorFlipped:e})},updateScoreByStrich:function(e,n){return t(function(t){var r=t["".concat(e,"Score")]+n,o=F(r),i=o.striche,a=o.restZahl,s=G(G(G({},"".concat(e,"Score"),r),"stricheCounts",U(U({},t.stricheCounts),{},G({},e,i))),"restZahlen",U(U({},t.restZahlen),{},G({},e,a)));return U(U({},s),{},{scoreHistory:[].concat(B(t.scoreHistory.slice(0,t.currentHistoryIndex+1)),[q(U(U({},t),s))]),currentHistoryIndex:t.currentHistoryIndex+1})})},updateStricheCounts:function(e,n,r){return t(function(t){return{stricheCounts:U(U({},t.stricheCounts),{},G({},e,U(U({},t.stricheCounts[e]),{},G({},n,r))))}})},resetStricheCounts:function(e){return t(function(t){return{stricheCounts:U(U({},t.stricheCounts),{},G({},e,{}))}})},resetRestZahl:function(){return t(function(t){return{topScore:20*Math.floor(t.topScore/10),bottomScore:20*Math.floor(t.bottomScore/10),stricheCounts:{top:{},bottom:{}},restZahlen:{top:0,bottom:0}}})},updateRestZahl:function(e,n){return t(function(t){return{restZahlen:U(U({},t.restZahlen),{},G({},e,n))}})},addWeisPoints:function(e,n){return t(function(t){return{currentRoundWeis:[].concat(B(t.currentRoundWeis),[{points:n,position:e}])}})},undoLastWeis:function(){return t(function(t){return{currentRoundWeis:t.currentRoundWeis.slice(0,-1)}})},finalizeRound:function(e){return t(function(t){var n=t.currentRoundWeis.reduce(function(t,e){return U(U({},t),{},G({},e.position,t[e.position]+e.points))},{top:0,bottom:0}),r={topScore:t.topScore+n.top,bottomScore:t.bottomScore+n.bottom,weisPoints:{top:t.weisPoints.top+n.top,bottom:t.weisPoints.bottom+n.bottom},farbe:e,isRoundCompleted:!0,currentRoundWeis:[],roundStartTime:Date.now(),currentRound:t.currentRound+1,currentPlayer:t.currentPlayer%4+1,teamTimings:{top:{totalTime:0,lastStartTime:null},bottom:{totalTime:0,lastStartTime:null}}};return U(U({},r),{},{scoreHistory:[].concat(B(t.scoreHistory.slice(0,t.currentHistoryIndex+1)),[q(U(U({},t),r))]),currentHistoryIndex:t.currentHistoryIndex+1})})},startGame:function(){return t(function(t){return U(U({},t),{},{isGameStarted:!0,gameStartTime:Date.now(),roundStartTime:Date.now(),currentRound:1,currentPlayer:1,teamTimings:{top:{totalTime:0,lastStartTime:Date.now()},bottom:{totalTime:0,lastStartTime:null}},scoreHistory:[q(t)],currentHistoryIndex:0})})},finalizeGame:function(){return t(function(t){var e=t.currentPlayer<=2?"top":"bottom",n=t.teamTimings[e].lastStartTime?Date.now()-t.teamTimings[e].lastStartTime:0,r=U(U({},t.teamTimings),{},G({},e,{totalTime:t.teamTimings[e].totalTime+n,lastStartTime:null}));return U(U({},t),{},{isGameCompleted:!0,isRoundCompleted:!0,teamTimings:r,scoreHistory:[].concat(B(t.scoreHistory),[q(U(U({},t),{},{isGameCompleted:!0,isRoundCompleted:!0,teamTimings:r}))]),currentHistoryIndex:t.currentHistoryIndex+1})})},finalizeJass:function(){return t(function(t){return U(U({},t),{},{isJassCompleted:!0,scoreHistory:[].concat(B(t.scoreHistory),[q(U(U({},t),{},{isJassCompleted:!0}))]),currentHistoryIndex:t.currentHistoryIndex+1})})},startTeamTurn:function(e){return t(function(t){var n=1===e||3===e?"bottom":"top",r="top"===n?"bottom":"top";console.log("Team Turn Debug:",{player:e,activeTeam:n,oppositeTeam:r});var o=t.teamTimings[r].lastStartTime?Date.now()-t.teamTimings[r].lastStartTime:0;return{teamTimings:U(U({},t.teamTimings),{},G(G({},n,U(U({},t.teamTimings[n]),{},{lastStartTime:Date.now()})),r,{totalTime:t.teamTimings[r].totalTime+o,lastStartTime:null}))}})},pauseGame:function(){return t(function(t){return U(U({},t),{},{isPaused:!0,pauseStartTime:Date.now()})})},resumeGame:function(){return t(function(t){if(!t.pauseStartTime)return t;var e=Date.now()-t.pauseStartTime;return U(U({},t),{},{isPaused:!1,pauseStartTime:null,gameStartTime:t.gameStartTime?t.gameStartTime+e:null,roundStartTime:t.roundStartTime?t.roundStartTime+e:null})})},getRemainingPoints:function(t){var n=e(),r=z.getState(),o="top"===t?n.topScore:n.bottomScore;return r.teams["top"===t?"bottom":"top"].bergActive&&o<2500?{title:"Punkte bis Schneider",remaining:2500-o}:o<2500?{title:"Punkte bis Berg",remaining:2500-o}:{title:"Punkte bis Sieg",remaining:5e3-o}},setMultiplier:function(e){t({currentMultiplier:e})},getDividedPoints:function(t){return Math.ceil(t/e().currentMultiplier)},showHistoryWarning:function(e,n){return t({historyWarning:{isVisible:!0,message:e,pendingAction:n}})},hideHistoryWarning:function(){return t({historyWarning:{isVisible:!1,message:"",pendingAction:null}})},executePendingAction:function(){var t=e();t.historyWarning.pendingAction&&t.historyWarning.pendingAction(),e().hideHistoryWarning()},jumpToLatest:function(){return t(function(t){var e=t.scoreHistory.length-1;return U(U({},t.scoreHistory[e]),{},{currentHistoryIndex:e})})},setIsGameInfoOpen:function(e){return t({isGameInfoOpen:e})}}});function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function J(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function $(t,e,n){var r;return(r=function(t,e){if("object"!==_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===_(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var K=(0,u.ZP)("div")({position:"absolute",width:"75%",maxWidth:"320px",height:"80%",top:"10%",left:"50%",transform:"translateX(-50%)",pointerEvents:"none"}),X=(0,u.ZP)("div")(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(Object(n),!0).forEach(function(e){$(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({position:"absolute",width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-start",padding:"0 10px",boxSizing:"border-box",pointerEvents:"auto",cursor:"pointer"},t.customStyle)}),Q=(0,u.ZP)("span")(function(t){var e=t.position;return $($($($($($({position:"absolute"},"top"===e?"left":"right","10px"),"top","50%"),"transform","top"===e?"translateY(-50%) rotate(180deg)":"translateY(-50%)"),"color","rgba(255, 255, 255, 0.8)"),"fontSize","16px"),"fontWeight","bold")}),tt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-43,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0%",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0%",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0%",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"0%";return"bottom"===t?{"100er":{height:"20%",top:"calc(-3.5% + ".concat(r,")"),left:"-4%",width:"105%"},"50er":{height:"20%",top:"70%",left:"9%",width:"95%",transform:"rotate(".concat(e,"deg)"),transformOrigin:"top left"},"20er":{height:"20%",bottom:"calc(-4.5% + ".concat(i,")"),left:"2%",width:"90%"},restzahl:{height:"20%",top:"88%",right:"-2%",width:"20%"}}:{"20er":{height:"20%",top:"calc(-4.5% + ".concat(o,")"),right:"2%",width:"90%"},"50er":{height:"20%",bottom:"14%",left:"22%",width:"95%",transform:"rotate(".concat(e,"deg)"),transformOrigin:"bottom left"},"100er":{height:"20%",bottom:"calc(-3.5% + ".concat(n,")"),right:"-4%",width:"105%"},restzahl:{height:"20%",bottom:"88%",left:"-2%",width:"20%"}}},te=(0,u.ZP)("div")(function(t){return{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",transform:t.isRotated?"rotateX(180deg) rotateY(180deg) rotateZ(180deg)":"none",transformOrigin:"center center"}}),tn=function(t){var e=t.position,n=t.onBlendEffect,o=t.top100erOffset,i=t.bottom100erOffset,a=t.top20erOffset,c=t.bottom20erOffset,l=(0,r.useRef)(0),u=(0,r.useRef)(),f=V(),d=f.updateScoreByStrich,m=f.currentHistoryIndex,p=f.scoreHistory,g=f.showHistoryWarning,b=f.restZahlen,y=f.setIsGameInfoOpen,v=(0,r.useRef)(null),x=V().stricheCounts,S=tt(e,-43,void 0===o?"2%":o,void 0===i?"2%":i,void 0===a?"2%":a,void 0===c?"2%":c),w=(0,r.useCallback)(function(t,r){var o=Date.now();if(o-l.current<200){u.current&&clearTimeout(u.current),y(!0),V.setState({lastDoubleClickPosition:e});return}l.current=o,u.current=setTimeout(function(){var t="restzahl"===r?1:parseInt(r);m<p.length-1?g("Willst du wirklich die Vergangenheit \xe4ndern? Dies wird alle nachfolgenden Eintr\xe4ge l\xf6schen!",function(){d(e,t),n(e)}):(d(e,t),n(e))},200)},[d,n,e,m,p.length,g,y]);return(0,r.useEffect)(function(){return function(){u.current&&clearTimeout(u.current)}},[]),(0,s.jsx)(K,{ref:v,children:(0,s.jsx)(te,{isRotated:"top"===e,children:Object.entries(S).map(function(t){var n=function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{for(i=(n=n.call(t)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,2)||function(t,e){if(t){if("string"==typeof t)return Y(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(t,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1],i="restzahl"===r?1:parseInt(r),a=1===i?b[e]:x[e][i]||0;return(0,s.jsx)(X,{customStyle:o,"data-strich-box":"true",onClick:function(t){return w(t,r)},children:"restzahl"===r?(0,s.jsx)(Q,{position:e,children:b[e]}):(0,s.jsx)(h,{stricheCount:a,stricheCounts:x[e],einheitWert:i,strichColor:"rgb(255, 255, 255)",animationDuration:100,isActive:!0,direction:"top"===e?"rtl":"ltr",edgeOffset:0,isXMode:50===i,xAngle:18,xAlignment:"top"===e?"right":"left",isDiagonal:!0,diagonalAngle:"top"===e?-43:43,diagonalStrichHeight:"116%",diagonalStrichWidth:"2px",diagonalStrichOffset:{vertical:"0%",horizontal:"0%"},diagonalStrichAngle:"top"===e?-25:25,topDiagonalStrichOffset:{vertical:"0%",horizontal:"0%"},bottomDiagonalStrichOffset:{vertical:"0%",horizontal:"0%"},topDiagonalStrichAngle:30,bottomDiagonalStrichAngle:30,position:e,diagonalStrichOffset100er:{vertical:"top"===e?"-18%":"3%",horizontal:"top"===e?"10%":"-5%"},diagonalStrichOffset20er:{vertical:"top"===e?"-20%":"3.5%",horizontal:"top"===e?"5.5%":"-1.5%"},diagonalStrichAngle100er:35,diagonalStrichAngle20er:35})},r)})})})};function tr(t){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function to(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ti(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?to(Object(n),!0).forEach(function(e){ta(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ta(t,e,n){var r;return(r=function(t,e){if("object"!==tr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==tr(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===tr(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ts(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return tc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tc(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var tl=(0,r.forwardRef)(function(t,e){var n=t.position,i=t.height,a=t.zShapeConfig,u=t.padding,f=t.onSwipe,d=t.y,m=t.mainOpacity,p=t.getBrightness,h=t.onLongPress,g=t.score,b=(t.isMenuOpen,t.onStrichClick),y=t.triggerBlendEffect,v=t.restZahl,x=t.top100erOffset,S=t.bottom100erOffset,w=t.top20erOffset,j=t.bottom20erOffset,O=ts((0,r.useState)(null),2),C=O[0],T=O[1],P=ts((0,r.useState)(0),2);P[0],P[1];var N=function(){T(setTimeout(function(){h()},400))},A=function(){C&&clearTimeout(C)};(0,r.useEffect)(function(){return function(){C&&clearTimeout(C)}},[C]),l({onSwipeLeft:function(){console.log("Swipe Left detected"),f("left",n)},onSwipeRight:function(){console.log("Swipe Right detected"),f("right",n)},onSwipeUp:function(){console.log("Swipe Up detected"),f("up",n)},onSwipeDown:function(){console.log("Swipe Down detected"),f("down",n)},element:n});var k=ta(ta(ta(ta(ta(ta({width:"100%",position:"absolute",left:0,right:0,overflow:"visible",height:"".concat(i,"px")},n,0),u,"env(safe-area-inset-top)"),"userSelect","none"),"WebkitUserSelect","none"),"WebkitTouchCallout","none"),"touchAction","none"),M=ta(ta({position:"absolute",width:"110%",left:"-1%"},"top"===n?"bottom":"top","".concat(1.5*a.innerSpacing,"px")),"height","calc(100% - ".concat(1.5*a.edgeSpacing+.8*a.innerSpacing,"px)"));return(0,s.jsxs)(o.q.div,{style:ti(ti({},k),{},{transform:d.to(function(t){return 0===t?"none":"translateY(".concat("top"===n?-t:t,"px)")})}),"data-swipe-area":n,onMouseDown:N,onMouseUp:A,onTouchStart:N,onTouchEnd:A,onContextMenu:function(t){return t.preventDefault()},children:[(0,s.jsx)("div",{style:M,children:(0,s.jsx)(c,{className:"w-full h-full text-chalk-red",position:n,isReversed:"top"===n})}),(0,s.jsx)(o.q.div,{style:ti(ti({},{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"white",pointerEvents:"none"}),{},{opacity:d.to(p)})}),(0,s.jsx)(o.q.div,{className:"absolute inset-0 flex items-center justify-center",style:{opacity:m},children:(0,s.jsx)("span",{className:"text-gray-300 text-[9rem] opacity-50 select-none",style:{transform:"top"===n?"rotate(180deg)":"none"},children:g})}),(0,s.jsx)(tn,{position:n,onStrichClick:function(t,e){e===n&&(b(t,n),y(n))},onBlendEffect:y,restZahl:v,top100erOffset:x,bottom100erOffset:S,top20erOffset:w,bottom20erOffset:j})]})});function tu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var tf=function(t){var e,n=t.initialPosition,r=t.maxOffset;t.position;var i=function(t){if(Array.isArray(t))return t}(e=(0,o.q_)(function(){return{y:n,mainOpacity:1,oppositeOpacity:1,config:{mass:1,tension:120,friction:26,clamp:!0,duration:250}}}))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{for(i=(n=n.call(t)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,2)||function(t,e){if(t){if("string"==typeof t)return tu(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tu(t,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],s=i[1];return{y:a.y,mainOpacity:a.mainOpacity,oppositeOpacity:a.oppositeOpacity,animateSwipe:function(t){"boolean"==typeof t?s.start({y:t?r:n,mainOpacity:1,oppositeOpacity:1}):s.start({mainOpacity:0,oppositeOpacity:0,config:{duration:125},onRest:function(){s.start({mainOpacity:1,oppositeOpacity:1,config:{duration:125}})}})},getBrightness:function(t){return"number"!=typeof t||isNaN(t)||"number"!=typeof r||0===r?0:Math.max(0,Math.min(t/r*.45,.45))}}},td=n(3280);function tm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return tp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tp(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var th=function(t){var e=t.isOpen,n=t.onClose,i=t.onSubmit,a=t.initialValue,c=void 0===a?0:a,l=(t.onCancel,t.clickedPosition),u=V(),f=u.isCalculatorFlipped,d=u.setCalculatorFlipped,m=tm((0,r.useState)(""),2),p=m[0],h=m[1],g=tm((0,r.useState)("0"),2),b=g[0],y=g[1],v=tm((0,r.useState)("0"),2),x=v[0],S=v[1],w=tm((0,r.useState)("0"),2);w[0],w[1];var j=tm((0,r.useState)(1),2),O=j[0],C=j[1],T=tm((0,r.useState)(null),2),P=T[0],A=T[1],k=V(function(t){return t.settings}),M=tm((0,r.useState)(new Set),2),I=M[0],D=M[1],E=tm((0,r.useState)(!1),2),R=E[0],H=E[1],F=tm((0,r.useState)(null),2),W=F[0],B=F[1],Z=tm((0,r.useState)(!1),2),L=Z[0],U=Z[1],G=tm((0,r.useState)(!1),2),q=G[0],_=G[1],Y=tm((0,r.useState)(0),2),J=Y[0],$=Y[1],K=tm((0,r.useState)(null),2),X=K[0],Q=K[1];(0,r.useRef)("0");var tt=tm((0,r.useState)(0),2),te=tt[0],tn=tt[1];V().updateScore;var tr=tm((0,o.q_)(function(){return{opacity:.5,scale:.95,config:{mass:1,tension:300,friction:20}}}),2),to=tr[0],ti=tr[1];(0,r.useEffect)(function(){e?(h(c.toString()),y("0"),S(c.toString()),A(null),C(1),U(!1),ti({opacity:1,scale:1,config:{mass:1,tension:300,friction:20}})):(H(!1),ti({opacity:.5,scale:.9,config:{mass:1,tension:300,friction:20}}))},[e,c,ti]),(0,r.useEffect)(function(){if("0"===p)y("0"),S("0");else if("257"===p)y("0"),S((257*O).toString());else{var t=157-parseInt(p,10);y(t>0?t.toString():"0"),S((parseInt(p,10)*O).toString())}},[p,O]);var ta=function(t){if(!L){var e=Date.now();e-te<100||(tn(e),h(function(e){var n=tu("0"===e?t.toString():e+t.toString()),r=parseInt(n,10),o=Math.max(157-r,0);y((o*O).toString());var i=r*O,a=o*O;return S(i.toString()),y(a.toString()),n}),D(function(e){return new Set(e).add(t)}),setTimeout(function(){D(function(e){var n=new Set(e);return n.delete(t),n})},100))}},ts=function(t,e){A(t),C(e),B(null),y((Math.max(157-parseInt(p,10),0)*e).toString())},tc=function(){h("0"),y("0"),C(1),A(null),U(!1)},tl=function(){d(!f)},tu=function(t){var e=parseInt(t,10);return isNaN(e)?"0":Math.min(e,157).toString()},tf=function(t){null==t||t.stopPropagation(),z.getState().startMatschCharge(l),z.getState().stopMatschCharge(l),h("257"),y("0"),S((257*O).toString()),U(!0),N(J,f)},tp=function(){return!isNaN(parseInt(p,10))&&null!==P};return(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300 prevent-interactions ".concat(e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:n,onContextMenu:function(t){return t.preventDefault()},children:(0,s.jsxs)(o.q.div,{style:{opacity:to.opacity,transform:to.scale.to(function(t){return"scale(".concat(t,")")})},className:"relative w-11/12 max-w-md",children:[(0,s.jsxs)("button",{onClick:function(t){t.stopPropagation(),tl()},className:"absolute ".concat(f?"top-full mt-6":"bottom-full mb-6"," left-1/2 transform -translate-x-1/2 text-white hover:text-gray-300 transition-all duration-1000"),"aria-label":"Umdrehen",children:[(0,s.jsx)(td.bxQ,{className:"w-8 h-8 ".concat(f?"rotate-180 opacity-0":"opacity-100"," transition-all duration-1000")}),(0,s.jsx)(td.bxQ,{className:"w-8 h-8 absolute top-0 left-0 ".concat(f?"rotate-0 opacity-100":"rotate-180 opacity-0"," transition-all duration-1000")})]}),(0,s.jsx)("button",{onClick:function(t){t.stopPropagation(),n()},className:"absolute right-2 top-2 p-2 text-gray-400 hover:text-white transition-colors z-10",children:(0,s.jsx)(td.q5L,{size:24})}),(0,s.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg transition-all duration-700 flex flex-col items-center ".concat(R?"opacity-0 scale-95":"opacity-100 scale-100"),style:{transform:"".concat(f?"rotate(180deg)":"rotate(0deg)")},onClick:function(t){return t.stopPropagation()},children:[(0,s.jsx)("h2",{className:"text-white text-xl mb-4 text-center select-none","aria-label":"Runde schreiben",children:"Runde schreiben"}),(0,s.jsxs)("div",{className:"flex flex-col w-full space-y-4",children:[(0,s.jsx)("input",{type:"text",value:p,readOnly:!0,className:"w-full bg-gray-700 text-white text-6xl p-4 rounded select-none text-center","aria-label":"Aktueller Wert"}),(0,s.jsxs)("div",{className:"flex justify-between items-stretch w-full space-x-2 h-10",children:[(0,s.jsxs)("div",{className:"w-1/3 bg-gray-700 text-white p-1 rounded select-none flex items-center justify-end relative",children:[(0,s.jsx)("div",{className:"text-xs absolute top-0 left-1",children:"Gegner:"}),(0,s.jsx)("div",{className:"text-xl pr-1",children:b})]}),(0,s.jsx)("button",{onClick:tf,onMouseDown:function(){_(!0),$(0),Q(setInterval(function(){$(function(t){return Math.min(t+1,20)})},100))},onMouseUp:function(){_(!1),X&&clearInterval(X),tf()},onMouseLeave:function(){_(!1),X&&clearInterval(X)},onTouchStart:function(){_(!0),$(0),Q(setInterval(function(){$(function(t){return Math.min(t+1,20)})},100))},onTouchEnd:function(){_(!1),X&&clearInterval(X),tf()},className:"w-1/3 p-1 rounded select-none transition-all duration-100 text-lg flex items-center justify-center matsch-button ".concat(L?"bg-orange-500 text-white":q?"bg-gray-600 text-white scale-95 opacity-80":"bg-gray-700 text-white hover:bg-orange-500 scale-100 opacity-100"),disabled:L,children:"Matsch"}),(0,s.jsxs)("div",{className:"w-1/3 bg-gray-700 text-white p-1 rounded select-none flex items-center justify-end relative",children:[(0,s.jsx)("div",{className:"text-xs absolute top-0 left-1",children:"Total:"}),(0,s.jsx)("div",{className:"text-xl pr-1",children:x})]})]})]}),(0,s.jsx)("div",{className:"mt-4"}),(0,s.jsx)("div",{className:"grid grid-cols-5 gap-2 mb-4 w-full",children:k.colors.map(function(t,e){return(0,s.jsx)("button",{onMouseDown:function(){return B(t)},onMouseUp:function(){return ts(t,k.colorMultipliers[e])},onMouseLeave:function(){return B(null)},onTouchStart:function(){return B(t)},onTouchEnd:function(){return ts(t,k.colorMultipliers[e])},className:"p-1 rounded transition-all duration-100 ".concat(P===t?"bg-orange-500":W===t?"bg-gray-500 scale-95":"bg-gray-600 scale-100"," text-white select-none text-xs h-12 flex items-center justify-center"),"aria-label":"".concat(t),children:t},t)})}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3 w-full",children:[[1,2,3,4,5,6,7,8,9].map(function(t){return(0,s.jsx)("button",{onClick:function(){return ta(t)},onTouchEnd:function(e){e.preventDefault(),ta(t)},className:"bg-gray-600 text-white p-4 rounded select-none text-2xl transition-all duration-100 ".concat(I.has(t)?"bg-gray-500 scale-95 opacity-80":"scale-100 opacity-100"),children:t},t)}),(0,s.jsx)("button",{onClick:tc,onMouseDown:function(){return D(function(t){return new Set(t).add("C")})},onMouseUp:function(){return D(function(t){var e=new Set(t);return e.delete("C"),e})},onMouseLeave:function(){return D(function(t){var e=new Set(t);return e.delete("C"),e})},onTouchStart:function(){return D(function(t){return new Set(t).add("C")})},onTouchEnd:function(){D(function(t){var e=new Set(t);return e.delete("C"),e}),tc()},className:"bg-red-600 text-white p-4 rounded select-none text-2xl transition-all duration-100 ".concat(I.has("C")?"bg-red-500 scale-95 opacity-80":"scale-100 opacity-100"),children:"C"}),(0,s.jsx)("button",{onClick:function(){return ta(0)},onMouseDown:function(){return D(function(t){return new Set(t).add(0)})},onMouseUp:function(){return D(function(t){var e=new Set(t);return e.delete(0),e})},onMouseLeave:function(){return D(function(t){var e=new Set(t);return e.delete(0),e})},className:"bg-gray-600 text-white p-4 rounded select-none text-2xl transition-all duration-100 ".concat(I.has(0)?"bg-gray-500 scale-95 opacity-80":"scale-100 opacity-100"),children:"0"}),(0,s.jsx)("button",{onClick:function(){var t=parseInt(p)*O,e=parseInt(b);P&&(L&&z.getState().addStrich(l,"matsch"),null==i||i(t,e),V.getState().finalizeRound(P)),n()},disabled:!tp()||!P,onMouseDown:function(){return D(function(t){return new Set(t).add("OK")})},onMouseUp:function(){D(function(t){var e=new Set(t);return e.delete("OK"),e}),tp()&&P&&i(parseInt(x),parseInt(b))},onMouseLeave:function(){return D(function(t){var e=new Set(t);return e.delete("OK"),e})},className:"bg-green-600 text-white p-4 rounded select-none text-2xl transition-all duration-100 \n                ".concat(I.has("OK")?"bg-green-500 scale-95 opacity-80":"scale-100 opacity-100","\n                ").concat(tp()&&P?"":"opacity-50 cursor-not-allowed"),children:"OK"})]})]})]})})},tg=n(1773),tb=n(7836),ty=function(t){var e=t.onDismiss,n=t.showTitle,r=t.message;return t.show?(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-[9999] p-4 animate-fade-in pointer-events-auto",children:(0,s.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[(0,s.jsx)(tg.DAO,{className:"w-12 h-12 text-yellow-600 mb-2"}),(void 0===n||n)&&(0,s.jsx)("h2",{className:"text-xl font-bold text-center",children:r})]}),(0,s.jsxs)("ul",{className:"list-disc pl-5 mb-6 space-y-2",children:[(0,s.jsx)("li",{children:"Swipe nach unten/oben, um das Men\xfc zu \xf6ffnen/schliessen"}),(0,s.jsx)("li",{children:"Halte lange gedr\xfcckt, um den Punktez\xe4hler zu \xf6ffnen. Klicke ausserhalb, um ihn zu schliessen"}),(0,s.jsx)("li",{children:"Gez\xe4hlt wird auf der Seite, auf die gedr\xfcckt wurde. Die Punkte der Gegner werden automatisch mitgeschrieben"}),(0,s.jsx)("li",{children:"Schreibe Weise durch Klicken auf die Z-Linien"}),(0,s.jsx)("li",{children:"Swipe links/rechts, um die Punkte-Historie anzusehen. Eintippen von Resultaten nach alten Runden, \xfcberschreibt neue Runden"})]}),(0,s.jsx)("button",{onClick:e,className:"bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors w-full text-lg font-semibold",children:"Verstanden"})]})}):null};function tv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return tx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tx(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tx(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var tS=function(t){var e=t.isOpen,n=t.onClose,o=t.setIsResultatOpen,i=V(),a=i.resetGame,c=(i.isGameCompleted,i.isJassCompleted,i.finalizeGame,i.finalizeJass,i.topScore),l=(i.bottomScore,i.settings),u=tv((0,r.useState)(null),2),f=u[0],d=u[1],m=tv((0,r.useState)(!1),2),p=m[0],h=m[1],g="w-12 h-12 p-2 rounded-xl shadow-md transition-transform hover:scale-110",b={hidden:{opacity:0,y:0},visible:{opacity:1,y:0}},y=function(t){d(t),setTimeout(function(){return d(null)},150)};return c>=l.siegScore||l.siegScore,(0,s.jsxs)(tb.E.div,{className:"absolute inset-x-0 top-1/2 transform -translate-y-1/2 flex justify-center items-center h-16 z-10 ".concat(e?"opacity-100":"opacity-0 pointer-events-none"," transition-opacity duration-300"),variants:{hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.05}}},initial:"hidden",animate:e?"visible":"hidden",children:[(0,s.jsxs)("div",{className:"flex justify-center space-x-10",children:[(0,s.jsx)(tb.E.button,{onClick:function(){y("trash"),n(),setTimeout(function(){a()},1200)},className:"".concat(g," bg-red-500 text-white"),variants:b,onMouseDown:function(){return y("trash")},onTouchStart:function(){return y("trash")},children:(0,s.jsx)(tg.AMf,{className:"w-full h-full ".concat("trash"===f?"opacity-70":"")})}),(0,s.jsx)(tb.E.button,{onClick:function(){return h(!0)},className:"".concat(g," bg-blue-500 text-white"),variants:b,onMouseDown:function(){return y("info")},onTouchStart:function(){return y("info")},children:(0,s.jsx)(tg.DAO,{className:"w-full h-full ".concat("info"===f?"opacity-70":"")})}),(0,s.jsx)(tb.E.button,{className:"".concat(g," bg-yellow-500 text-white"),variants:b,onMouseDown:function(){return y("save")},onTouchStart:function(){return y("save")},children:(0,s.jsx)(tg.TvB,{className:"w-full h-full ".concat("save"===f?"opacity-70":"")})}),(0,s.jsx)(tb.E.button,{onClick:function(){return o(!0)},className:"".concat(g," bg-green-500 text-white"),variants:b,onMouseDown:function(){return y("resultat")},onTouchStart:function(){return y("resultat")},children:(0,s.jsx)(tg.pwr,{className:"w-full h-full ".concat("resultat"===f?"opacity-70":"")})})]}),p&&(0,s.jsx)(ty,{onDismiss:function(){return h(!1)},showTitle:!1,show:!0,message:"Willkommen zu Jassguru"})]})},tw=n(5603);function tj(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return tO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tO(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var tC=function(){var t=tj((0,r.useState)(!1),2),e=t[0],n=t[1],o=tj((0,r.useState)(""),2),i=o[0],a=o[1],s=tj((0,r.useState)(!1),2),c=s[0],l=s[1];return(0,r.useEffect)(function(){if(!(0,tw.Ee)()){n(!1);return}"true"===localStorage.getItem("hasShownIntro")?l(!0):(a("Willkommen zu Jassguru"),n(!0))},[]),{showMessage:e,message:i,dismissMessage:function(){n(!1),l(!0),localStorage.setItem("hasShownIntro","true")},hasShownIntro:c}},tT=function(){var t=V().startGame;return(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-90 z-50",children:(0,s.jsx)(tb.E.button,{initial:{scale:.9},animate:{scale:1},whileTap:{scale:.95},onClick:t,className:"bg-green-600 text-white text-2xl font-bold py-6 px-12 rounded-xl shadow-lg hover:bg-green-500 transition-colors",children:"START"})})};function tP(t){return(tP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function tA(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tN(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==tP(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==tP(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===tP(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var tk=function(t){var e=t.currentPlayer,n=t.currentRound,r=t.opacity,i=t.isOpen,a=t.isGameStarted,c=(0,o.q_)({opacity:i?0:r,config:{duration:i?150:500,delay:i?0:300}}),l=function(t,e){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-gray-500 text-xs",children:"Spiel: "}),(0,s.jsx)("span",{className:"text-gray-300 text-sm font-semibold",children:t}),(0,s.jsx)("span",{className:"text-gray-500 text-xs ml-2",children:" Runde: "}),(0,s.jsx)("span",{className:"text-gray-300 text-sm font-semibold",children:t}),(0,s.jsx)("span",{className:"text-gray-500 text-xs ml-2",children:" Spieler: "}),(0,s.jsx)("span",{className:"text-gray-300 text-sm font-semibold",children:e})]})};return(0,s.jsxs)(o.q.div,{className:"absolute inset-x-0 flex flex-col items-center justify-center pointer-events-none",style:tA(tA({},c),{},{top:"calc(50% - 4rem)",height:"3.5rem"}),children:[(0,s.jsx)("div",{className:"transform scale-y-[-1] scale-x-[-1] absolute right-[8%] top-[4.5rem]",children:a?l(n,e):"START"}),(0,s.jsx)("div",{className:"absolute left-[8%] bottom-0",children:a?l(n,e):"START"})]})},tM=function(t){var e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=Math.floor(t/1e3),r=Math.floor(n/60),o=Math.floor(r/60),i=r%60,a=n%60;return o>0?e?"".concat(o,":").concat(i.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")):"".concat(o,":").concat(i.toString().padStart(2,"0")):e?"".concat(r.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")):"0:".concat(r.toString().padStart(2,"0"))};function tI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var tD=[2,3,4,5,6,7],tE=function(t){var e,n=t.mainTitle,o=t.subTitle,i=t.points,a=t.className,c=t.numberSize,l=void 0===c?"text-xl":c,u=V(),f=u.currentMultiplier,d=u.setMultiplier,m=u.getDividedPoints,p=function(t){if(Array.isArray(t))return t}(e=(0,r.useState)(!1))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{for(i=(n=n.call(t)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,2)||function(t,e){if(t){if("string"==typeof t)return tI(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tI(t,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=p[0],g=p[1];return(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:n}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2 mt-0 ".concat(void 0===a?"":a),children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("span",{className:"text-gray-400 text-xs",children:o}),(0,s.jsx)("div",{className:"".concat(l," font-bold mt-0"),children:i})]}),(0,s.jsxs)("button",{onClick:function(){var t=tD.indexOf(f),e=0===t?tD.length-1:t-1;d(tD[e])},onMouseDown:function(){return g(!0)},onMouseUp:function(){return g(!1)},onMouseLeave:function(){return g(!1)},onTouchStart:function(){return g(!0)},onTouchEnd:function(){return g(!1)},className:"bg-orange-500 hover:bg-orange-600 text-white rounded-lg px-2 py-3 self-center mx-auto h-12 w-14 mt-4 transition-all duration-100 ".concat(h?"bg-orange-700 scale-95 opacity-80":"scale-100 opacity-100"),children:[f,"x"]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("span",{className:"text-gray-400 text-xs",children:[f,"-fach"]}),(0,s.jsx)("div",{className:"".concat(l," font-bold mt-0"),children:m(i)})]})]})]})};function tR(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return tH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tH(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var tz=function(t){t.type;var e=t.onStart,n=t.onStop,o=(t.chargeAmount,t.condition);t.team;var i=tR((0,r.useState)(!1),2),a=i[0],s=i[1],c=tR((0,r.useState)(!1),2),l=c[0],u=c[1],f=function(t){null==t||t.preventDefault(),s(!0),e()},d=function(t){null==t||t.preventDefault(),s(!1),n(),(void 0===o||o)&&u(!l)};return{isPressed:a,isButtonActive:l,handlers:{onMouseDown:f,onMouseUp:d,onMouseLeave:d,onTouchStart:f,onTouchEnd:d,onTouchCancel:d}}};function tF(t){return(tF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function tB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tW(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==tF(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==tF(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===tF(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tW(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var tZ=function(t){var e=t.handlers,n=t.isButtonActive,r=t.isPressed,o=t.showDepth,i=t.color,a=t.disabled,c=void 0!==a&&a,l=t.children;return(0,s.jsx)("button",tB(tB({},e),{},{disabled:!!c,className:"\n      py-4 text-white rounded-xl font-bold\n      transition-all duration-150\n      ".concat(n?"bg-".concat(i,"-600"):r?"bg-gray-700":"bg-gray-600","\n      ").concat(o?"border-b-4 border-t border-l border-r":"","\n      ").concat(o?c?"border-gray-500":"border-".concat(i,"-900"):"","\n      ").concat(r?"translate-y-1 shadow-inner opacity-80":c?"shadow-gray-500":"shadow-lg","\n    "),children:l}))};function tL(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return tU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tU(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tU(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var tG=function(t){var e,n,i=t.isOpen,a=t.onClose,c=V(),l=c.currentRound,u=c.currentPlayer,f=c.gameStartTime,d=c.roundStartTime,m=c.isCalculatorFlipped,p=c.setCalculatorFlipped,h=c.isPaused,g=c.pauseGame,b=c.resumeGame,y=c.getRemainingPoints,v=c.currentMultiplier,x=c.getDividedPoints,S=c.lastDoubleClickPosition,w=tL((0,r.useState)(Date.now()),2);w[0],w[1];var j=tL((0,r.useState)(!1),2),O=j[0],C=j[1],T=tL((0,r.useState)(!1),2),P=T[0],N=T[1],A=tL((0,r.useState)(""),2),k=A[0],M=A[1],I=tL((0,r.useState)(""),2),D=I[0],E=I[1],R=z(),H=R.startBergCharge,F=R.stopBergCharge,W=R.startBedankenCharge,B=R.stopBedankenCharge,Z=R.bergChargeAmount,L=R.bedankenChargeAmount,U=R.hasBergForTeam,G=R.hasBedankenForTeam,q=tz({type:"berg",onStart:function(){return H(S)},onStop:function(){return F(S)},chargeAmount:Z,team:S}),_=tz({type:"bedanken",onStart:function(){return W(S)},onStop:function(){return B(S)},chargeAmount:L,condition:!!S&&U(S),team:S}),Y=function(){h&&b(),a()},J=function(){g()},$=function(){b()};(0,r.useEffect)(function(){var t=function(){M(tM(Date.now()-(null!=f?f:0),!1)),E(tM(Date.now()-(null!=d?d:0),!0))};if(t(),i&&!h){var e=setInterval(t,1e3);return function(){return clearInterval(e)}}},[i,h,f,d]);var K=(0,o.q_)({opacity:i?1:0,transform:"scale(".concat(i?1:.95,") rotate(").concat(m?"180deg":"0deg",")"),config:{mass:1,tension:300,friction:20}});return(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 ".concat(i?"":"pointer-events-none"),onClick:function(t){h||t.target.closest('[data-strich-box="true"]')||t.target!==t.currentTarget||Y()},children:(0,s.jsxs)(o.q.div,{style:K,className:"relative w-11/12 max-w-md bg-gray-800 bg-opacity-95 rounded-xl p-6 shadow-lg select-none",onClick:function(t){return t.stopPropagation()},children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white text-center mb-6",children:"Spielstand"}),(0,s.jsx)("button",{onClick:function(t){t.stopPropagation(),p(!m)},className:"absolute bottom-full mb-6 left-1/2 transform -translate-x-1/2 text-white hover:text-gray-300 transition-all duration-1000 ".concat(m?"rotate-180":"rotate-0"),"aria-label":"Umdrehen",children:(0,s.jsx)(td.bxQ,{className:"w-8 h-8"})}),(0,s.jsx)("button",{onClick:Y,className:"absolute right-2 top-2 p-2 transition-colors\n            ".concat(h?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-white"),disabled:h,children:(0,s.jsx)(td.q5L,{size:24})}),(0,s.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-white",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("span",{className:"text-gray-400 text-xs",children:"Spiel"}),(0,s.jsx)("div",{className:"text-xl font-bold",children:l})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("span",{className:"text-gray-400 text-xs",children:"Runde"}),(0,s.jsx)("div",{className:"text-xl font-bold",children:l})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("span",{className:"text-gray-400 text-xs",children:"Spieldauer"}),(0,s.jsx)("div",{className:"text-xl font-bold",children:k})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("span",{className:"text-gray-400 text-xs",children:"Jassdauer"}),(0,s.jsx)("div",{className:"text-xl font-bold",children:k})]})]}),(0,s.jsxs)("div",{className:"text-center text-white mt-1",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Spieler"}),(0,s.jsx)("div",{className:"text-3xl font-bold p-2 bg-gray-700 bg-opacity-50 rounded-xl mt-1",children:u})]}),(0,s.jsxs)("div",{className:"text-center text-white mt-1",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Zeit Runde"}),(0,s.jsx)("div",{className:"text-3xl font-bold p-2 bg-gray-700 bg-opacity-50 rounded-xl mt-1",children:D})]}),(0,s.jsx)("div",{className:"text-center text-white mt-3",children:(0,s.jsx)(tE,{mainTitle:"Punkte bis",subTitle:null!==(e=y(m?"top":"bottom").title.split(" ").pop())&&void 0!==e?e:"",points:y(m?"top":"bottom").remaining,numberSize:"text-3xl"})}),(0,s.jsx)("div",{className:"text-center text-white mt-1",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Gegner"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2 -mt-10",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("span",{className:"text-gray-400 text-xs",children:null!==(n=y(m?"bottom":"top").title.split(" ").pop())&&void 0!==n?n:""}),(0,s.jsx)("div",{className:"text-xl font-bold mt-0",children:y(m?"bottom":"top").remaining})]}),(0,s.jsx)("div",{className:"invisible"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("span",{className:"text-gray-400 text-xs",children:[v,"-fach"]}),(0,s.jsx)("div",{className:"text-xl font-bold mt-0",children:x(y(m?"bottom":"top").remaining)})]})]})]})})]}),(0,s.jsxs)("div",{className:"space-y-4 max-w-md mx-auto mt-10",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(tZ,{handlers:q.handlers,isButtonActive:q.isButtonActive,isPressed:q.isPressed,showDepth:P,color:"yellow",disabled:h||G("top")||G("bottom"),children:"BERG"}),(0,s.jsx)(tZ,{handlers:_.handlers,isButtonActive:_.isButtonActive,isPressed:_.isPressed,showDepth:P,color:"green",disabled:h||!(U("top")||U("bottom")),children:"BEDANKEN"})]}),(0,s.jsx)("button",{onMouseDown:function(){return C(!0)},onMouseUp:function(){C(!1),h?($(),N(!1)):(J(),N(!0))},onMouseLeave:function(){return C(!1)},onTouchStart:function(){return C(!0)},onTouchEnd:function(t){t.preventDefault(),C(!1),h?($(),N(!1)):(J(),N(!0))},className:"\n              w-full py-2 text-white rounded-xl font-bold\n              transition-all duration-150\n              ".concat(P?"border-b-4 border-t border-l border-r":"","\n              ").concat(h?"bg-green-600 hover:bg-green-700 border-green-900":"bg-red-600 hover:bg-red-700 border-red-900","\n              ").concat(O?"translate-y-1 shadow-inner opacity-80":P?"translate-y-1 shadow-inner":"shadow-lg","\n            "),children:h?"WEITER":"PAUSE"})]})]})})},tq=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=(0,r.useRef)(0),o=(0,r.useRef)();return(0,r.useCallback)(function(r){if(r.preventDefault(),n.current+=1,o.current&&clearTimeout(o.current),2===n.current){t(r),n.current=0;return}o.current=setTimeout(function(){n.current=0},e)},[t,e])},tV=function(t){var e=t.message,n=t.onConfirm,o=t.onDismiss,i=t.show,a=V().jumpToLatest,c=(0,r.useCallback)(function(){a(),o()},[a,o]),l=(0,r.useCallback)(function(){n(),o()},[n,o]);return i?(0,s.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-[9999] p-4 animate-fade-in pointer-events-auto",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:c}),(0,s.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white z-10",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[(0,s.jsx)(tg.gJy,{className:"w-12 h-12 text-yellow-600 mb-2"}),(0,s.jsx)("p",{className:"text-center mb-6",children:e})]}),(0,s.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,s.jsx)("button",{onClick:l,className:"flex-1 bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors text-lg font-semibold",children:"Ja"}),(0,s.jsx)("button",{onClick:c,className:"flex-1 bg-gray-600 text-white px-6 py-2 rounded-full hover:bg-gray-700 transition-colors text-lg font-semibold",children:"Abbrechen"})]})]})]}):null},t_=function(t){var e=t.type,n=t.count,r=t.size,o=void 0===r?{width:0,height:0}:r,i=t.color,a=void 0===i?"white":i,c=t.className,l=t.spacing,u=void 0===l?3:l,f=t.diagonalWidth,d=void 0===f?5:f;return(0,s.jsx)("div",{className:"flex ".concat("horizontal"===e?"flex-col":"flex-row"," ").concat(void 0===c?"":c),children:function(){for(var t=Math.floor(n/5),e=n%5,r=[],i=function(t){r.push((0,s.jsxs)("div",{className:"relative",style:{height:"".concat(5*o.height,"px")},children:[[0,1,2,3].map(function(e,n){return(0,s.jsx)("div",{style:{width:"".concat(o.width,"px"),height:"".concat(o.height,"px"),backgroundColor:a,margin:"".concat(u,"px"),position:"absolute",top:"".concat(n*(o.height+u),"px")}},"strich-".concat(t,"-").concat(n))}),(0,s.jsx)("div",{style:{width:"".concat(d,"px"),height:"".concat(4*o.height,"px"),backgroundColor:a,margin:"".concat(u,"px"),position:"absolute",transform:"rotate(45deg)",transformOrigin:"left bottom",top:"0px"}})]},"group-".concat(t)))},c=0;c<t;c++)i(c);for(var l=0;l<e;l++)r.push((0,s.jsx)("div",{style:{width:"".concat(o.width,"px"),height:"".concat(o.height,"px"),backgroundColor:a,margin:"".concat(u,"px"),display:"block"}},"remainder-".concat(l)));return r}()})},tY=function(t){var e=t.spielNummer,n=t.topTeam,r=t.bottomTeam,o=t.rosenSpieler;return(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4 items-center py-2 border-b border-gray-700",children:[(0,s.jsxs)("div",{className:"text-center relative",children:[e,o&&(0,s.jsx)("div",{className:"absolute top-0 left-0 transform -translate-x-1/2 -translate-y-1/2",title:"Rosen 10 Spieler",children:""})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(t_,{type:"horizontal",count:n.striche.horizontal,size:{width:16,height:2}}),(0,s.jsx)(t_,{type:"vertikal",count:n.striche.vertikal,size:{width:2,height:16}})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(t_,{type:"horizontal",count:r.striche.horizontal,size:{width:16,height:2}}),(0,s.jsx)(t_,{type:"vertikal",count:r.striche.vertikal,size:{width:2,height:16}})]})]})},tJ=n(8407),t$=function(t){return{vertikal:(t.berg||0)+2*(t.sieg||0)+2*(t.schneider||0),horizontal:(t.matsch||0)+2*(t.kontermatsch||0)}};function tK(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var tX=function(){var t=z.getState().teams,e=(t.bottom.striche.matsch||0)+(t.bottom.striche.berg||0)+2*(t.bottom.striche.sieg||0);return{top:(t.top.striche.matsch||0)+(t.top.striche.berg||0)+2*(t.top.striche.sieg||0),bottom:e}},tQ=function(t){var e,n=t.isOpen,i=t.onClose,a=function(t){if(Array.isArray(t))return t}(e=(0,r.useState)(!1))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{for(i=(n=n.call(t)).next;!(c=(r=i.call(n)).done)&&(s.push(r.value),2!==s.length);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,2)||function(t,e){if(t){if("string"==typeof t)return tK(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tK(t,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=a[0],l=a[1],u=(0,o.q_)({opacity:n?1:0,transform:n?"translateY(0)":"translateY(100%)",config:{mass:1,tension:300,friction:20}});if(!n)return null;var f=(0,tJ.ZP)(new Date,"d.M.yyyy"),d=z(function(t){return t.teams}),m={spielNummer:1,topTeam:{striche:t$(d.top.striche)},bottomTeam:{striche:t$(d.bottom.striche)}};return(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:(0,s.jsxs)(o.q.div,{style:u,className:"relative w-11/12 max-w-2xl bg-gray-800 rounded-xl p-6 shadow-lg",onClick:function(t){return t.stopPropagation()},children:[(0,s.jsxs)("div",{className:"text-center mb-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Jassergebnis"}),(0,s.jsx)("p",{className:"text-gray-400",children:f})]}),(0,s.jsx)("button",{onClick:function(){return l(!c)},className:"absolute -top-16 left-1/2 transform -translate-x-1/2",children:(0,s.jsx)(td.bxQ,{className:"w-8 h-8 text-white"})}),(0,s.jsx)("button",{onClick:i,className:"absolute right-2 top-2 p-2 text-gray-400 hover:text-white",children:(0,s.jsx)(td.q5L,{size:24})}),(0,s.jsxs)("div",{className:"grid grid-cols-5 gap-4 mb-2",children:[(0,s.jsx)("div",{}),(0,s.jsx)("div",{className:"text-center text-white col-span-2",children:"Team 1 (unten)"}),(0,s.jsx)("div",{className:"text-center text-white col-span-2",children:"Team 2 (oben)"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-5 gap-4 mb-4",children:[(0,s.jsx)("div",{}),(0,s.jsx)("div",{className:"text-center text-gray-400",children:"Frank"}),(0,s.jsx)("div",{className:"text-center text-gray-400",children:"Remo"}),(0,s.jsx)("div",{className:"text-center text-gray-400",children:"Michi"}),(0,s.jsx)("div",{className:"text-center text-gray-400",children:"Tobi"})]}),(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto mb-4 border-t border-b border-gray-700",children:(0,s.jsx)("div",{className:"text-white",children:(0,s.jsx)(tY,{spielNummer:m.spielNummer,topTeam:m.bottomTeam,bottomTeam:m.topTeam})})}),(0,s.jsxs)("div",{className:"grid grid-cols-5 gap-4 mb-16",children:[(0,s.jsx)("div",{className:"text-gray-400 text-center",children:"Total:"}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-white text-center col-span-2",children:[tX().bottom,"  "]}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-white text-center col-span-2",children:[tX().top,"     "]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsx)("button",{className:"bg-red-600 text-white py-2 px-4 rounded",children:"Zur\xfcck"}),(0,s.jsx)("button",{className:"bg-blue-600 text-white py-2 px-4 rounded",children:"Statistik"}),(0,s.jsx)("button",{className:"bg-green-600 text-white py-2 px-4 rounded",children:"Weiter"})]})]})})};function t0(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return t1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t1(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t1(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var t2=function(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://")},t5=function(t){var e=t.middleLineThickness,n=void 0===e?60:e,i=t.zShapeConfig,c=a(),l=t0((0,r.useState)(!1),2),u=l[0],f=l[1],d=t0((0,r.useState)(!1),2),m=d[0],p=d[1],h=t0((0,r.useState)(!1),2),g=h[0],b=h[1],y=t0((0,r.useState)(null),2),v=y[0],x=y[1],S=t0((0,r.useState)(!1),2),w=S[0],j=S[1],O=t0((0,r.useState)(!1),2),C=O[0],T=O[1],P=V(),N=P.topScore,A=P.bottomScore,k=P.navigateHistory,M=P.currentHistoryIndex,I=P.updateScore,D=P.currentPlayer,E=P.currentRound,R=P.restZahlen,H=(P.updateRestZahl,P.resetGame),z=P.isGameStarted,F=P.gameStartTime,W=P.roundStartTime,B=P.historyWarning,Z=P.hideHistoryWarning,L=P.executePendingAction;(0,r.useEffect)(function(){f(!0),H()},[H]),(0,r.useEffect)(function(){b(!1)},[]);var U=(0,r.useMemo)(function(){if(!u)return{topContainerHeight:0,bottomContainerHeight:0,middleLinePosition:0};var t=t2()?parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--safe-area-top")||"0"):0,e=c-t-(t2()?parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--safe-area-bottom")||"0"):0),n=Math.floor(e/2);return{topContainerHeight:n,bottomContainerHeight:n,middleLinePosition:Math.floor(e/2)+t}},[c,n,u]),G=U.topContainerHeight,q=U.bottomContainerHeight,_=U.middleLinePosition,Y=tf({initialPosition:0,maxOffset:.07*c,position:"top"}),J=Y.y,$=Y.mainOpacity,K=Y.oppositeOpacity,X=Y.animateSwipe,Q=Y.getBrightness,tt=tf({initialPosition:0,maxOffset:.07*c,position:"bottom"}),te=tt.y,tn=tt.mainOpacity,tr=tt.oppositeOpacity,to=tt.animateSwipe,ti=tt.getBrightness,ta=(0,r.useRef)(null),ts=(0,r.useRef)(null),tc=(0,r.useCallback)(function(t,e){if("left"===t||"right"===t){var n;n="top"===e?"left"===t?"forward":"backward":"left"===t?"backward":"forward",console.log("Navigiere in der Historie: ".concat(n)),k(n),X(t),to(t)}else{var r="top"===e&&"up"===t||"bottom"===e&&"down"===t,o="top"===e&&"down"===t||"bottom"===e&&"up"===t;r?(p(!0),X(!0),to(!0)):o&&(p(!1),X(!1),to(!1))}},[k,X,to]),tu=(0,r.useCallback)(function(t){m||(b(!0),x(t))},[m]),td=(0,r.useCallback)(function(){b(!1),x(null)},[]);(0,r.useCallback)(function(t,e){k("left"===t?"forward":"backward"),"top"===e?X(t):to(t)},[k,X,to]);var tm=tC(),tp=tm.showMessage,tg=tm.message,tb=tm.dismissMessage,tv=tm.hasShownIntro,tx=(0,tw.oQ)(tv),tj=tx.browserMessage,tO=tx.dismissMessage,tP=(0,r.useCallback)(function(t,e){I(e,t,0)},[I]),tN=(0,r.useCallback)(function(t){"top"===t?X("left"):to("left")},[X,to]),tA=tq((0,r.useCallback)(function(t){var e=t.clientY<window.innerHeight/2?"top":"bottom";j(!0),V.setState({lastDoubleClickPosition:e})},[]));return(0,r.useEffect)(function(){if(u){var t=setTimeout(function(){var t=window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px"))},0),e=setTimeout(function(){var t=window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px"))},100);return function(){clearTimeout(t),clearTimeout(e)}}},[u]),(0,s.jsxs)("div",{className:"relative w-full h-full overflow-hidden bg-chalk-black prevent-interactions",onClick:tA,onContextMenu:function(t){return t.preventDefault()},children:[!z&&!m&&!tj.show&&!tp&&(0,s.jsx)(tT,{}),tp&&(0,s.jsx)(ty,{show:tp,message:tg,onDismiss:tb}),!tp&&tj.show&&(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4 animate-fade-in",children:(0,s.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white",children:[(0,s.jsx)("p",{className:"text-lg mb-8 text-center",children:tj.message}),(0,s.jsx)("button",{onClick:tO,className:"bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors w-full text-lg font-semibold",children:"Verstanden"})]})}),!tp&&!tj.show&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(tl,{ref:ta,position:"top",height:G,zShapeConfig:i,padding:"paddingTop",onSwipe:tc,isOpen:m,y:J,mainOpacity:$,oppositeOpacity:K,getBrightness:Q,onLongPress:function(){return tu("top")},score:N,isMenuOpen:m,onStrichClick:tP,triggerBlendEffect:tN,restZahl:R.top},"top-".concat(M)),(0,s.jsx)(o.q.div,{style:{position:"absolute",left:"5%",width:"90%",top:_-n/2,height:"".concat(n/2,"px"),transform:J.to(function(t){return"translateY(".concat(-t,"px)")})},className:"bg-chalk-red"}),(0,s.jsx)(o.q.div,{style:{position:"absolute",left:"5%",width:"90%",top:_,height:"".concat(n/2,"px"),transform:te.to(function(t){return"translateY(".concat(t,"px)")})},className:"bg-chalk-red"}),(0,s.jsx)(tk,{currentPlayer:D,currentRound:E,opacity:$.get(),isOpen:m,isGameStarted:z,gameStartTime:F,roundStartTime:W}),(0,s.jsx)(tl,{ref:ts,position:"bottom",height:q,zShapeConfig:i,padding:"paddingBottom",onSwipe:tc,isOpen:m,y:te,mainOpacity:tn,oppositeOpacity:tr,getBrightness:ti,onLongPress:function(){return tu("bottom")},score:A,isMenuOpen:m,onStrichClick:tP,triggerBlendEffect:tN,restZahl:R.bottom},"bottom-".concat(M)),g&&(0,s.jsx)(th,{isOpen:g,onClose:td,onSubmit:function(t,e){I(v,t,e),b(!1),x(null)},onCancel:td,initialValue:0,clickedPosition:v}),(0,s.jsx)(tG,{isOpen:w,onClose:function(){return j(!1)}}),(0,s.jsx)(tS,{isOpen:m,onClose:function(){return p(!1)},setIsResultatOpen:T}),(0,s.jsx)(tV,{show:B.isVisible,message:B.message,onConfirm:L,onDismiss:Z}),C&&(0,s.jsx)(tQ,{isOpen:C,onClose:function(){return T(!1)}})]})]})},t3=function(){return(0,s.jsx)("div",{className:"w-screen h-screen relative z-10",children:(0,s.jsx)(t5,{middleLineThickness:3,zShapeConfig:{innerSpacing:50,sideSpacing:0,edgeSpacing:70}})})}},8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5339)}])}},function(t){t.O(0,[130,94,888,774,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);