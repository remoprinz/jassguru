(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{1815:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return tg}});var r=n(7294),o=n(32);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var a=function(){var t,e=function(t){if(Array.isArray(t))return t}(t=(0,r.useState)(0))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{for(i=(n=n.call(t)).next;!(l=(r=i.call(n)).done)&&(c.push(r.value),2!==c.length);l=!0);}catch(t){s=!0,o=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,2)||function(t,e){if(t){if("string"==typeof t)return i(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=e[0],o=e[1];return(0,r.useEffect)(function(){var t=function(){o(window.innerHeight)};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}},[]),n},c=n(5893),l=function(t){var e=t.className,n=t.outerStrokeWidth,o=void 0===n?2:n,i=t.diagonalStrokeWidth,a=t.position,l=t.onShapeRendered,s=(0,r.useRef)(null);return(0,r.useEffect)(function(){if(s.current&&l){var t=s.current.getBoundingClientRect();l({width:t.width,height:t.height,left:t.left,top:t.top})}},[l]),(0,c.jsx)("svg",{ref:s,className:e,viewBox:"0 0 120 100",preserveAspectRatio:"xMidYMid meet",children:(0,c.jsxs)("g",{transform:"top"===a?"translate(0, 0)":"none",children:[(0,c.jsx)("path",{d:"M0 0 L110 0",stroke:"currentColor",strokeWidth:o,fill:"none"}),(0,c.jsx)("path",{d:"M0 100 L110 0",stroke:"currentColor",strokeWidth:(void 0===i?.75:i)*Math.sqrt(2),fill:"none"}),(0,c.jsx)("path",{d:"M0 100 L110 100",stroke:"currentColor",strokeWidth:o,fill:"none"})]})})},s=function(t){var e=t.onSwipeUp,n=t.onSwipeDown,o=t.onSwipeLeft,i=t.onSwipeRight,a=t.threshold,c=void 0===a?50:a,l=t.element;(0,r.useEffect)(function(){var t=null,r=null,a=function(e){e.target.closest('[data-swipe-area="'.concat(l,'"]'))&&(t=e.touches[0].clientX,r=e.touches[0].clientY)},s=function(a){if(null!==t&&null!==r){var l=a.touches[0].clientX,s=a.touches[0].clientY,u=t-l,f=r-s;Math.abs(u)>Math.abs(f)?Math.abs(u)>c&&(u>0&&o?o():u<0&&i&&i(),t=null,r=null):Math.abs(f)>c&&(f>0&&e?e():f<0&&n&&n(),t=null,r=null)}};return document.addEventListener("touchstart",a),document.addEventListener("touchmove",s),function(){document.removeEventListener("touchstart",a),document.removeEventListener("touchmove",s)}},[e,n,o,i,c,l])},u=n(796);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===f(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}(0,u.ZP)("div")({position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start"}),(0,u.ZP)(o.q.div,{shouldForwardProp:function(t){return"isVertical"!==t&&"color"!==t}})(function(t){var e=t.isVertical;return{position:"absolute",backgroundColor:t.color,width:"2px",height:e?"100%":"2px",transformOrigin:"top left"}});var h=(0,u.ZP)("div")(function(t){return{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start",transform:t.isRotated?"rotate(180deg)":"none",transformOrigin:"center center"}}),m=function(t){var e=t.stricheCount,n=(t.stricheCounts,t.einheitWert),i=t.strichColor,a=t.animationDuration,l=t.isActive,s=t.direction,u=t.edgeOffset,f=t.diagonalStrichHeight,p=t.diagonalStrichWidth,m=(t.diagonalStrichOffset,t.diagonalStrichAngle),y=t.strichSpacing,g=void 0===y?10:y,b=t.einheitSpacing,v=void 0===b?10:b,S=t.isXMode,x=void 0!==S&&S,w=t.xAngle,j=void 0===w?15:w,O=t.xSpacing,C=void 0===O?10:O,P=t.xSize,M=void 0===P?20:P,A=t.position,k=t.isRotated,N=t.topDiagonalStrichOffset,E=t.bottomDiagonalStrichOffset,R=t.topDiagonalStrichAngle,I=t.bottomDiagonalStrichAngle,D=t.diagonalStrichOffset100er,T=t.diagonalStrichOffset20er,H=t.diagonalStrichAngle100er,z=t.diagonalStrichAngle20er,Z=t.xOffset100erTop,L=t.xOffset100erBottom;console.log("RoemischeZahlen Props:",{stricheCount:e,einheitWert:n,strichColor:i,isActive:l});var B=Math.floor(e/5),F=e%5,U=e>0;(0,o.q_)({from:{scaleY:0},to:{scaleY:U?1:0},config:d(d({},o.vc.stiff),{},{duration:void 0===a?1e3:a})});var W=(0,r.useCallback)(function(t,e,r){var o=t%5,a=Math.floor(t/5)*(v+4*g),l=o*g;if(4===o){var h,y,b=3*g;100===n&&D?(h=D,y=H||m):20===n&&T?(h=T,y=z||m):(h="top"===A?N:E,y="top"===A?R:I);var S=d(d({position:"absolute",height:f,width:p},"top"===A?{right:"calc(".concat(u+a+b,"px + ").concat(h.horizontal," ").concat(100===n?"- 0px":"",")"),top:"calc(0px + ".concat(h.vertical,")")}:{left:"calc(".concat(u+a,"px + ").concat(h.horizontal,")"),bottom:"calc(0px + ".concat(h.vertical,")")}),{},{transform:"rotate(".concat(y,"deg)"),transformOrigin:"bottom left",backgroundColor:i});return(0,c.jsx)("div",{style:S},"strich-".concat(t))}if(r){if("ltr"===s){var x,w="bottom"===A&&0===n?0:5;x={left:"".concat(u+a+l+w,"px")}}else x={right:"".concat(u+a+l,"px")};var j=d({position:"absolute",height:"100%",width:"2px"},x);return(0,c.jsx)("div",{style:d(d({},j),{},{backgroundColor:i})},"strich-".concat(t))}return null},[i,s,u,f,p,m,g,v,A,N,E,R,I,n,D,T,H,z]),_=(0,r.useCallback)(function(t){return(0,c.jsxs)(r.Fragment,{children:[[0,1,2,3].map(function(e){return W(5*t+e,!1,!0)}),W(5*t+4,!1,!1)," "]},"einheit-".concat(t))},[W]),q=(0,r.useMemo)(function(){return Array.from({length:B}).map(function(t,e){return _(e)})},[B,_]),Y=(0,r.useMemo)(function(){return Array.from({length:F}).map(function(t,e){return W(5*B+e,!1,e<4)})},[F,B,W]),$=(0,r.useMemo)(function(){if(U){var t=e-1;return W(t,!0,t%5<4)}return null},[U,e,W]),K=(0,r.useCallback)(function(){return Array.from({length:Math.ceil(e/2)}).map(function(t,e){return"".concat(35*e,"px")})},[e]),V=(0,r.useCallback)(function(){return K().map(function(t,n){var r=2*n+2<=e,o=2*n+1===e,a={position:"absolute",width:"0%",height:"104%",top:"50%",transform:"translateY(-50%)"};return"top"===A?a.right="calc(".concat(t," + 40px)"):a.left="calc(".concat(t," + 20px)"),(0,c.jsxs)("div",{style:a,children:[(0,c.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:i,transform:"rotate(".concat(j,"deg)"),transformOrigin:"center",opacity:r||o?1:0}}),(0,c.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:i,transform:"rotate(-".concat(j,"deg)"),transformOrigin:"center",opacity:r?1:0}})]},"x-".concat(n))})},[K,e,j,i,A]),G=(0,r.useCallback)(function(){var t=Math.floor(e/10);return t>0?(0,c.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:Array.from({length:t}).map(function(t,e){return(0,c.jsxs)("div",{style:d(d({position:"absolute"},"top"===A?{right:"".concat(23+e*(M+15),"px")}:{left:"".concat(23+e*(M+15),"px")}),{},{top:"50%",transform:"translateY(-50%)",width:"".concat(M,"px"),height:"107%"}),children:[(0,c.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:i,transform:"rotate(".concat(j,"deg)"),transformOrigin:"center"}}),(0,c.jsx)("div",{style:{position:"absolute",width:"2px",height:"100%",backgroundColor:i,transform:"rotate(-".concat(j,"deg)"),transformOrigin:"center"}})]},"hundred-x-".concat(e))})}):null},[e,i,M,j,A]),X=(0,r.useMemo)(function(){if(x)return V();if(100===n){var t=Math.floor(e/10),r=e-10*t,o=t*(M+C),i=null!=Z?Z:63,a=null!=L?L:40;return(0,c.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[G(),r>0&&(0,c.jsx)("div",{style:d(d({position:"absolute"},"top"===A?{right:t>0?"calc(".concat(o,"px + ").concat(i,"px)"):"calc(".concat(25,"px + 16px)")}:{left:t>0?"calc(".concat(o,"px + ").concat(a,"px)"):"calc(".concat(25,"px - 8px)")}),{},{top:0,bottom:0,width:"".concat(r*g,"px")}),children:Array.from({length:r}).map(function(t,e){return W(e,!1,!0)})})]})}if(20!==n)return(0,c.jsxs)(c.Fragment,{children:[q,Y,$]});var l=Math.floor(e/5),s=e%5,u=l*(v+4*g)+s*g;return(0,c.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:(0,c.jsxs)("div",{style:d(d({position:"absolute"},"top"===A?{right:"25px"}:{left:"0px"}),{},{top:0,bottom:0,width:"".concat(u,"px")}),children:[Array.from({length:l}).map(function(t,e){return _(e)}),Array.from({length:s}).map(function(t,e){return W(5*l+e,!1,e<4)})]})})},[e,n,x,V,G,M,C,A,g,W,q,Y,$,v,_]);return(0,c.jsx)(h,{isRotated:void 0!==k&&k,children:X})},y=n(1993),g={siegScore:5e3,bergScore:2500,maxRoundScore:157,maxScore:157,colors:["Mis\xe8re","Sch\xe4lle","Schilte","Rose","3x3","Obenabe","Unenufe","Eichle","Quer","Slalom"],colorMultipliers:[1,2,3,4,4,5,6,7,7,7]};function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t){return function(t){if(Array.isArray(t))return S(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return S(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach(function(e){j(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function j(t,e,n){var r;return(r=function(t,e){if("object"!==b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===b(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=(0,y.U)(function(t){return{topScore:0,bottomScore:0,topRounds:0,bottomRounds:0,settings:g,scoreHistory:[],currentHistoryIndex:-1,currentPlayer:1,currentRound:1,isCalculatorFlipped:!1,stricheCounts:{top:{},bottom:{}},restZahlen:{top:0,bottom:0},setTopScore:function(e){return t({topScore:e})},setBottomScore:function(e){return t({bottomScore:e})},incrementTopRound:function(){return t(function(t){return{topRounds:t.topRounds+1}})},incrementBottomRound:function(){return t(function(t){return{bottomRounds:t.bottomRounds+1}})},updateSettings:function(e){return t(function(t){return void 0!==e.siegScore&&(e.siegScore<=0||e.siegScore>1e4)||void 0!==e.bergScore&&void 0!==e.siegScore&&(e.bergScore<=0||e.bergScore>=e.siegScore)||void 0!==e.maxRoundScore&&(e.maxRoundScore<=0||e.maxRoundScore>1e3)||void 0!==e.colors&&10!==e.colors.length||void 0!==e.colorMultipliers&&(10!==e.colorMultipliers.length||e.colorMultipliers.some(function(t){return t<1||t>8}))?(console.error("Ung\xfcltige Spieleinstellungen"),t):{settings:w(w({},t.settings),e)}})},resetGame:function(){return t(function(t){return w(w({},t),{},{topScore:0,bottomScore:0,topRounds:0,bottomRounds:0,currentHistoryIndex:-1,scoreHistory:[],currentPlayer:1,currentRound:1,stricheCounts:{top:{},bottom:{}},restZahlen:{top:0,bottom:0}})})},updateScore:function(e,n,r){return t(function(t){var o,i,a=(o=t["".concat(e,"Score")]+n,t.settings.maxScore,Math.max(0,o)),c="top"===e?"bottom":"top",l=(i=t["".concat(c,"Score")]+r,t.settings.maxScore,Math.max(0,i)),s=j(j(j(j(j(j({},"".concat(e,"Score"),a),"".concat(c,"Score"),l),"currentPlayer",t.currentPlayer%4+1),"currentRound",t.currentRound+1),"topRounds","top"===e?t.topRounds+1:t.topRounds),"bottomRounds","bottom"===e?t.bottomRounds+1:t.bottomRounds),u=w(w({},t.scoreHistory[t.currentHistoryIndex]),{},{topScore:s.topScore,bottomScore:s.bottomScore,topRounds:s.topRounds,bottomRounds:s.bottomRounds,totalPoints:{top:"top"===e?n:0,bottom:"bottom"===e?n:0},weisPoints:{top:0,bottom:0}}),f=[].concat(v(t.scoreHistory.slice(0,t.currentHistoryIndex+1)),[u]);return(a>=t.settings.bergScore||l>=t.settings.bergScore)&&console.log("BERG erreicht!"),(a>=t.settings.siegScore||l>=t.settings.siegScore)&&console.log("SIEG erreicht!"),w(w({},s),{},{scoreHistory:f,currentHistoryIndex:f.length-1})})},addToHistory:function(){return t(function(t){var e=[].concat(v(t.scoreHistory),[{topScore:t.topScore,bottomScore:t.bottomScore,topRounds:t.topRounds,bottomRounds:t.bottomRounds,totalPoints:{top:0,bottom:0},weisPoints:{top:0,bottom:0}}]);return console.log("Neue Historie hinzugef\xfcgt:",e),{scoreHistory:e,currentHistoryIndex:e.length-1}})},navigateHistory:function(e){return t(function(t){var n="forward"===e?Math.min(t.currentHistoryIndex+1,t.scoreHistory.length-1):Math.max(t.currentHistoryIndex-1,0);if(console.log("Navigiere in der Historie: ".concat(e,", Aktueller Index: ").concat(t.currentHistoryIndex,", Neuer Index: ").concat(n)),n!==t.currentHistoryIndex&&t.scoreHistory.length>0){var r=t.scoreHistory[n];if(r)return console.log("Historie-Eintrag gefunden:",r),w(w({},t),{},{topScore:r.topScore,bottomScore:r.bottomScore,currentRound:n+1,currentPlayer:n%4+1,currentHistoryIndex:n})}return console.log("Keine \xc4nderung in der Historie"),t})},incrementCurrentPlayer:function(){return t(function(t){return{currentPlayer:t.currentPlayer%4+1}})},incrementCurrentRound:function(){return t(function(t){return{currentRound:t.currentRound+1}})},setCalculatorFlipped:function(e){return t({isCalculatorFlipped:e})},updateScoreByStrich:function(e,n){return t(function(t){var r=t["".concat(e,"Score")],o=t.stricheCounts[e],i=r+n,a=w({},o);if(50===n||20===n){if((o[n]||0)*n>500){var c=C(i),l=c.striche;c.restZahl,a=l}else a[n]=(a[n]||0)+1}else{var s=C(i),u=s.striche;s.restZahl,a=u}return j(j(j({},"".concat(e,"Score"),i),"stricheCounts",w(w({},t.stricheCounts),{},j({},e,a))),"restZahlen",w(w({},t.restZahlen),{},j({},e,i%20)))})},updateStricheCounts:function(e,n,r){return t(function(t){return{stricheCounts:w(w({},t.stricheCounts),{},j({},e,w(w({},t.stricheCounts[e]),{},j({},n,r))))}})},resetStricheCounts:function(e){return t(function(t){return{stricheCounts:w(w({},t.stricheCounts),{},j({},e,{}))}})},resetRestZahl:function(){return t(function(t){return{topScore:20*Math.floor(t.topScore/20),bottomScore:20*Math.floor(t.bottomScore/20),stricheCounts:{top:{},bottom:{}},restZahlen:{top:0,bottom:0}}})},updateRestZahl:function(e,n){return t(function(t){return{restZahlen:w(w({},t.restZahlen),{},j({},e,n))}})}}}),C=function(t){var e={100:Math.floor(t/100),50:0,20:0},n=t%100;return n>=90?(e[50]=1,e[20]=2,n-=90):n>=80?(e[20]=4,n-=80):n>=70?(e[50]=1,e[20]=1,n-=70):n>=60?(e[20]=3,n-=60):n>=50?(e[50]=1,n-=50):n>=20&&(e[20]=Math.floor(n/20),n%=20),{striche:e,restZahl:n}};function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function k(t,e,n){var r;return(r=function(t,e){if("object"!==P(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==P(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===P(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N=(0,u.ZP)("div")({position:"absolute",width:"75%",maxWidth:"320px",height:"80%",top:"10%",left:"50%",transform:"translateX(-50%)",pointerEvents:"none"}),E=(0,u.ZP)("div")(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach(function(e){k(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({position:"absolute",width:"100%",display:"flex",alignItems:"center",justifyContent:"flex-start",padding:"0 10px",boxSizing:"border-box",pointerEvents:"auto",cursor:"pointer"},t.customStyle)});(0,u.ZP)("span")(function(t){var e=t.position;return k(k(k(k(k(k({position:"absolute"},"top"===e?"left":"right","10px"),"top","50%"),"transform","top"===e?"translateY(-50%) rotate(180deg)":"translateY(-50%)"),"color","rgba(255, 255, 255, 0.8)"),"fontSize","16px"),"fontWeight","bold")});var R=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-43,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0%",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0%",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0%",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"0%";return"bottom"===t?{"100er":{height:"20%",top:"calc(-3.5% + ".concat(r,")"),left:"-4%",width:"105%"},"50er":{height:"20%",top:"70%",left:"9%",width:"95%",transform:"rotate(".concat(e,"deg)"),transformOrigin:"top left"},"20er":{height:"20%",bottom:"calc(-4.5% + ".concat(i,")"),left:"2%",width:"100%"}}:{"20er":{height:"20%",top:"calc(-4.5% + ".concat(n,")"),right:"2%",width:"100%"},"50er":{height:"20%",bottom:"14%",left:"22%",width:"95%",transform:"rotate(".concat(e,"deg)"),transformOrigin:"bottom left"},"100er":{height:"20%",bottom:"calc(-3.5% + ".concat(o,")"),right:"-4%",width:"105%"}}},I=(0,u.ZP)("span")(function(t){var e=t.position;return k(k(k(k(k(k(k(k(k({position:"absolute"},"top"===e?"left":"right","-4%"),"top"===e?"bottom":"top","86%"),"color","rgba(255, 255, 255, 0.8)"),"fontSize","18px"),"fontWeight","bold"),"transform","top"===e?"rotate(180deg) translate(-100%, 50%)":"translate(0, -50%)"),"transformOrigin","top"===e?"bottom left":"top right"),"padding","2px"),"zIndex",20)}),D=(0,u.ZP)("div")(function(t){return t.position,{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start"}}),T=function(t){var e=t.position,n=(t.onStrichClick,t.onBlendEffect),o=t.restZahl,i=t.top100erOffset,a=t.bottom100erOffset,l=t.top20erOffset,s=t.bottom20erOffset,u=O().updateScoreByStrich,f=(0,r.useRef)(null),p=O().stricheCounts,d=R(e,-43,void 0===i?"2%":i,void 0===a?"2%":a,void 0===l?"2%":l,void 0===s?"2%":s),h=(0,r.useCallback)(function(t){u(e,t),n(e)},[u,n,e]);return(0,c.jsx)(N,{ref:f,children:(0,c.jsxs)(D,{position:e,children:[Object.entries(d).map(function(t){var n=function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{for(i=(n=n.call(t)).next;!(l=(r=i.call(n)).done)&&(c.push(r.value),2!==c.length);l=!0);}catch(t){s=!0,o=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,2)||function(t,e){if(t){if("string"==typeof t)return M(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(t,2)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1],i=parseInt(r),a=p[e][i]||0;return(0,c.jsx)(E,{customStyle:o,onClick:function(){return h(i)},children:(0,c.jsx)(m,{stricheCount:a,stricheCounts:p[e],einheitWert:i,strichColor:"rgb(255, 255, 255)",animationDuration:100,isActive:!0,direction:"top"===e?"rtl":"ltr",edgeOffset:0,isXMode:50===i,xAngle:18,xAlignment:"top"===e?"right":"left",isDiagonal:!0,diagonalAngle:"top"===e?-43:43,diagonalStrichHeight:"116%",diagonalStrichWidth:"2px",diagonalStrichOffset:{vertical:"0%",horizontal:"0%"},diagonalStrichAngle:"top"===e?-25:25,topDiagonalStrichOffset:{vertical:"0%",horizontal:"0%"},bottomDiagonalStrichOffset:{vertical:"0%",horizontal:"0%"},topDiagonalStrichAngle:30,bottomDiagonalStrichAngle:30,position:e,diagonalStrichOffset100er:{vertical:"top"===e?"-18%":"3%",horizontal:"top"===e?"10%":"-5%"},diagonalStrichOffset20er:{vertical:"top"===e?"-20%":"3.5%",horizontal:"top"===e?"5.5%":"-1.5%"},diagonalStrichAngle100er:35,diagonalStrichAngle20er:35})},r)}),void 0!==o&&(0,c.jsx)(I,{position:e,children:o})]})})};function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach(function(e){L(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function L(t,e,n){var r;return(r=function(t,e){if("object"!==H(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==H(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"===H(r)?r:String(r))in t)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){s=!0,o=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var U=(0,r.forwardRef)(function(t,e){var n=t.position,i=t.height,a=t.zShapeConfig,u=t.padding,f=t.onSwipe,p=t.y,d=t.mainOpacity,h=t.getBrightness,m=t.onLongPress,y=t.score,g=(t.isMenuOpen,t.onStrichClick),b=t.triggerBlendEffect,v=t.restZahl,S=t.top100erOffset,x=t.bottom100erOffset,w=t.top20erOffset,j=t.bottom20erOffset,O=B((0,r.useState)(null),2),C=O[0],P=O[1],M=B((0,r.useState)(0),2);M[0],M[1];var A=function(){P(setTimeout(function(){m()},400))},k=function(){C&&clearTimeout(C)};(0,r.useEffect)(function(){return function(){C&&clearTimeout(C)}},[C]),s({onSwipeLeft:function(){console.log("Swipe Left detected"),f("left",n)},onSwipeRight:function(){console.log("Swipe Right detected"),f("right",n)},onSwipeUp:function(){console.log("Swipe Up detected"),f("up",n)},onSwipeDown:function(){console.log("Swipe Down detected"),f("down",n)},element:n});var N=L(L(L(L(L(L({width:"100%",position:"absolute",left:0,right:0,overflow:"visible",height:"".concat(i,"px")},n,0),u,"env(safe-area-inset-top)"),"userSelect","none"),"WebkitUserSelect","none"),"WebkitTouchCallout","none"),"touchAction","none"),E=L(L({position:"absolute",width:"110%",left:"-1%"},"top"===n?"bottom":"top","".concat(1.5*a.innerSpacing,"px")),"height","calc(100% - ".concat(1.5*a.edgeSpacing+.8*a.innerSpacing,"px)"));return(0,c.jsxs)(o.q.div,{style:Z(Z({},N),{},{transform:p.to(function(t){return"translateY(".concat("top"===n?-t:t,"px)")})}),"data-swipe-area":n,onMouseDown:A,onMouseUp:k,onTouchStart:A,onTouchEnd:k,onContextMenu:function(t){return t.preventDefault()},children:[(0,c.jsx)("div",{style:E,children:(0,c.jsx)(l,{className:"w-full h-full text-chalk-red",position:n,isReversed:"top"===n})}),(0,c.jsx)(o.q.div,{style:Z(Z({},{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"white",pointerEvents:"none"}),{},{opacity:p.to(h)})}),(0,c.jsx)(o.q.div,{className:"absolute inset-0 flex items-center justify-center",style:{opacity:d},children:(0,c.jsx)("span",{className:"text-gray-300 text-[9rem] opacity-50 select-none",style:{transform:"top"===n?"rotate(180deg)":"none"},children:y})}),(0,c.jsx)(T,{position:n,onStrichClick:function(t,e){e===n&&(g(t,n),b(n))},onBlendEffect:b,restZahl:v,top100erOffset:S,bottom100erOffset:x,top20erOffset:w,bottom20erOffset:j})]})});function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var _=function(t){var e,n=t.initialPosition,r=t.maxOffset;t.position;var i=function(t){if(Array.isArray(t))return t}(e=(0,o.q_)(function(){return{y:n,mainOpacity:1,oppositeOpacity:1,config:{mass:1,tension:120,friction:26,clamp:!0,duration:250}}}))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{for(i=(n=n.call(t)).next;!(l=(r=i.call(n)).done)&&(c.push(r.value),2!==c.length);l=!0);}catch(t){s=!0,o=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,2)||function(t,e){if(t){if("string"==typeof t)return W(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(t,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],c=i[1];return{y:a.y,mainOpacity:a.mainOpacity,oppositeOpacity:a.oppositeOpacity,animateSwipe:function(t){"boolean"==typeof t?c.start({y:t?r:n,mainOpacity:1,oppositeOpacity:1}):c.start({mainOpacity:0,oppositeOpacity:0,config:{duration:125},onRest:function(){c.start({mainOpacity:1,oppositeOpacity:1,config:{duration:125}})}})},getBrightness:function(t){return"number"!=typeof t||isNaN(t)||"number"!=typeof r||0===r?0:Math.max(0,Math.min(t/r*.45,.45))}}},q=n(3280),Y=n(9883);function $(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){s=!0,o=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return K(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var V=function(t){var e=t.isOpen,n=t.onClose,i=t.onSubmit,a=t.initialValue,l=void 0===a?0:a;t.onCancel;var s=O(),u=s.isCalculatorFlipped,f=s.setCalculatorFlipped,p=$((0,r.useState)("0"),2),d=p[0],h=p[1],m=$((0,r.useState)("0"),2),y=m[0],g=m[1],b=$((0,r.useState)(1),2),v=b[0],S=b[1],x=$((0,r.useState)(null),2),w=x[0],j=x[1],C=O(function(t){return t.settings}),P=$((0,r.useState)(new Set),2),M=P[0],A=P[1],k=$((0,r.useState)(!1),2),N=k[0],E=k[1],R=$((0,r.useState)(null),2),I=R[0],D=R[1],T=$((0,r.useState)("0"),2),H=T[0],z=T[1],Z=$((0,r.useState)(!1),2),L=Z[0],B=Z[1],F=$((0,r.useState)(!1),2),U=F[0],W=F[1],_=$((0,r.useState)(0),2),K=_[0],V=_[1],G=$((0,r.useState)(null),2),X=G[0],Q=G[1];(0,r.useRef)("0");var J=$((0,r.useState)(0),2),tt=J[0],te=J[1],tn=$((0,o.q_)(function(){return{opacity:.5,scale:.95,config:{mass:1,tension:300,friction:20}}}),2),tr=tn[0],to=tn[1];(0,r.useEffect)(function(){e?(h(l.toString()),g("0"),z(l.toString()),j(null),S(1),B(!1),to({opacity:1,scale:1,config:{mass:1,tension:300,friction:20}})):(E(!1),to({opacity:.5,scale:.9,config:{mass:1,tension:300,friction:20}}))},[e,l,to]),(0,r.useEffect)(function(){if("0"===d)g("0"),z("0");else if("257"===d)g("0"),z((257*v).toString());else{var t=157-parseInt(d,10);g(t>0?t.toString():"0"),z((parseInt(d,10)*v).toString())}},[d,v]);var ti=function(t){if(!L){var e=Date.now();e-tt<100||(te(e),h(function(e){var n=ts("0"===e?t.toString():e+t.toString());return"0"===n&&g("157"),n}),A(function(e){return new Set(e).add(t)}),setTimeout(function(){A(function(e){var n=new Set(e);return n.delete(t),n})},100))}},ta=function(t,e){if(j(t),S(e),D(null),"0"!==d){var n=parseInt(d,10);z((n*e).toString()),g((Math.max(157-n,0)*e).toString())}else g("0"),z("0")},tc=function(){h("0"),g("0"),S(1),j(null),B(!1)},tl=function(){f(!u)},ts=function(t){var e=parseInt(t,10);return isNaN(e)?"0":Math.min(e,157).toString()},tu=function(t){if(!(t<3)){var e=document.querySelector(".matsch-button");if(e)for(var n=e.getBoundingClientRect(),r=(n.left+n.width/2)/window.innerWidth,o=(n.top+n.height/2)/window.innerHeight,i=10+(t-3)*30,a=function(t,e,n,i){(0,Y.Z)({particleCount:n,angle:u?(t+180)%360:t,spread:e,origin:{x:r,y:o},colors:["#FF0000","#FFA500","#FFFF00","#00FF00","#0000FF","#800080"],scalar:i,gravity:u?-1:1,ticks:300})},c=0;c<360;c+=45)a(c,55,Math.floor(.3*i),1.2),a(c,25,Math.floor(.4*i),.8),a(c,10,Math.floor(.3*i),.4)}},tf=function(){h("257"),g("0"),z((257*v).toString()),B(!0),tu(K)};return(0,c.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300 ".concat(e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:n,children:(0,c.jsxs)(o.q.div,{style:{opacity:tr.opacity,transform:tr.scale.to(function(t){return"scale(".concat(t,")")})},className:"relative w-11/12 max-w-md",children:[(0,c.jsxs)("button",{onClick:function(t){t.stopPropagation(),tl()},className:"absolute ".concat(u?"top-full mt-6":"bottom-full mb-6"," left-1/2 transform -translate-x-1/2 text-white hover:text-gray-300 transition-all duration-1000"),"aria-label":"Umdrehen",children:[(0,c.jsx)(q.bxQ,{className:"w-8 h-8 ".concat(u?"rotate-180 opacity-0":"opacity-100"," transition-all duration-1000")}),(0,c.jsx)(q.bxQ,{className:"w-8 h-8 absolute top-0 left-0 ".concat(u?"rotate-0 opacity-100":"rotate-180 opacity-0"," transition-all duration-1000")})]}),(0,c.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg transition-all duration-700 flex flex-col items-center ".concat(N?"opacity-0 scale-95":"opacity-100 scale-100"),style:{transform:"".concat(u?"rotate(180deg)":"rotate(0deg)")},onClick:function(t){return t.stopPropagation()},children:[(0,c.jsx)("h2",{className:"text-white text-xl mb-4 text-center select-none","aria-label":"Runde schreiben",children:"Runde schreiben"}),(0,c.jsxs)("div",{className:"flex flex-col w-full space-y-4",children:[(0,c.jsx)("input",{type:"text",value:d,readOnly:!0,className:"w-full bg-gray-700 text-white text-6xl p-4 rounded select-none text-center","aria-label":"Aktueller Wert"}),(0,c.jsxs)("div",{className:"flex justify-between items-stretch w-full space-x-2 h-10",children:[(0,c.jsxs)("div",{className:"w-1/3 bg-gray-700 text-white p-1 rounded select-none flex items-center justify-end relative",children:[(0,c.jsx)("div",{className:"text-xs absolute top-0 left-1",children:"Gegner:"}),(0,c.jsx)("div",{className:"text-xl pr-1",children:y})]}),(0,c.jsx)("button",{onClick:tf,onMouseDown:function(){W(!0),V(0),Q(setInterval(function(){V(function(t){return Math.min(t+1,20)})},100))},onMouseUp:function(){W(!1),X&&clearInterval(X),tf()},onMouseLeave:function(){W(!1),X&&clearInterval(X)},onTouchStart:function(){W(!0),V(0),Q(setInterval(function(){V(function(t){return Math.min(t+1,20)})},100))},onTouchEnd:function(){W(!1),X&&clearInterval(X),tf()},className:"w-1/3 p-1 rounded select-none transition-all duration-100 text-lg flex items-center justify-center matsch-button ".concat(L?"bg-orange-500 text-white":U?"bg-gray-600 text-white scale-95 opacity-80":"bg-gray-700 text-white hover:bg-orange-500 scale-100 opacity-100"),disabled:L,children:"Matsch"}),(0,c.jsxs)("div",{className:"w-1/3 bg-gray-700 text-white p-1 rounded select-none flex items-center justify-end relative",children:[(0,c.jsx)("div",{className:"text-xs absolute top-0 left-1",children:"Total:"}),(0,c.jsx)("div",{className:"text-xl pr-1",children:H})]})]})]}),(0,c.jsx)("div",{className:"mt-4"}),(0,c.jsx)("div",{className:"grid grid-cols-5 gap-2 mb-4 w-full",children:C.colors.map(function(t,e){return(0,c.jsx)("button",{onMouseDown:function(){return D(t)},onMouseUp:function(){return ta(t,C.colorMultipliers[e])},onMouseLeave:function(){return D(null)},onTouchStart:function(){return D(t)},onTouchEnd:function(){return ta(t,C.colorMultipliers[e])},className:"p-1 rounded transition-all duration-100 ".concat(w===t?"bg-orange-500":I===t?"bg-gray-500 scale-95":"bg-gray-600 scale-100"," text-white select-none text-xs h-12 flex items-center justify-center"),"aria-label":"".concat(t),children:t},t)})}),(0,c.jsxs)("div",{className:"grid grid-cols-3 gap-3 w-full",children:[[1,2,3,4,5,6,7,8,9].map(function(t){return(0,c.jsx)("button",{onClick:function(){return ti(t)},onTouchEnd:function(e){e.preventDefault(),ti(t)},className:"bg-gray-600 text-white p-4 rounded select-none text-2xl transition-all duration-100 ".concat(M.has(t)?"bg-gray-500 scale-95 opacity-80":"scale-100 opacity-100"),children:t},t)}),(0,c.jsx)("button",{onClick:tc,onMouseDown:function(){return A(function(t){return new Set(t).add("C")})},onMouseUp:function(){return A(function(t){var e=new Set(t);return e.delete("C"),e})},onMouseLeave:function(){return A(function(t){var e=new Set(t);return e.delete("C"),e})},onTouchStart:function(){return A(function(t){return new Set(t).add("C")})},onTouchEnd:function(){A(function(t){var e=new Set(t);return e.delete("C"),e}),tc()},className:"bg-red-600 text-white p-4 rounded select-none text-2xl transition-all duration-100 ".concat(M.has("C")?"bg-red-500 scale-95 opacity-80":"scale-100 opacity-100"),children:"C"}),(0,c.jsx)("button",{onClick:function(){return ti(0)},onMouseDown:function(){return A(function(t){return new Set(t).add(0)})},onMouseUp:function(){return A(function(t){var e=new Set(t);return e.delete(0),e})},onMouseLeave:function(){return A(function(t){var e=new Set(t);return e.delete(0),e})},className:"bg-gray-600 text-white p-4 rounded select-none text-2xl transition-all duration-100 ".concat(M.has(0)?"bg-gray-500 scale-95 opacity-80":"scale-100 opacity-100"),children:"0"}),(0,c.jsx)("button",{onClick:function(){var t=parseInt(H,10),e=parseInt(y,10);E(!0),setTimeout(function(){i(t,e),E(!1)},300)},onMouseDown:function(){return A(function(t){return new Set(t).add("OK")})},onMouseUp:function(){A(function(t){var e=new Set(t);return e.delete("OK"),e}),i(parseInt(H),parseInt(y))},onMouseLeave:function(){return A(function(t){var e=new Set(t);return e.delete("OK"),e})},className:"bg-green-600 text-white p-4 rounded select-none text-2xl transition-all duration-100 ".concat(M.has("OK")?"bg-green-500 scale-95 opacity-80":"scale-100 opacity-100"),children:"OK"})]})]})]})})};function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==G(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==G(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===G(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var J=function(t){var e=t.currentPlayer,n=t.currentRound,r=t.opacity,i=t.isOpen,a=(0,o.q_)({opacity:i?0:r,config:{duration:i?150:500,delay:i?0:300}});return(0,c.jsxs)(o.q.div,{className:"absolute inset-x-0 flex flex-col items-center justify-center pointer-events-none",style:Q(Q({},a),{},{top:"calc(50% - 4rem)",height:"3.5rem"}),children:[(0,c.jsxs)("div",{className:"text-gray-500 text-xs transform scale-y-[-1] scale-x-[-1] absolute right-[8%] top-[4.5rem]",children:["Runde: ",n]}),(0,c.jsxs)("div",{className:"text-gray-500 text-xs absolute left-[8%] bottom-0",children:["Spieler: ",e]})]})},tt=n(1773),te=n(7836),tn=function(t){var e=t.onDismiss,n=t.showTitle,r=t.message;return t.show?(0,c.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-[9999] p-4 animate-fade-in pointer-events-auto",children:(0,c.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white",children:[(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center mb-4",children:[(0,c.jsx)(tt.DAO,{className:"w-12 h-12 text-yellow-600 mb-2"}),(void 0===n||n)&&(0,c.jsx)("h2",{className:"text-xl font-bold text-center",children:r})]}),(0,c.jsxs)("ul",{className:"list-disc pl-5 mb-6 space-y-2",children:[(0,c.jsx)("li",{children:"Swipe nach unten/oben, um das Men\xfc zu \xf6ffnen/schliessen"}),(0,c.jsx)("li",{children:"Halte lange gedr\xfcckt, um den Punktez\xe4hler zu \xf6ffnen. Klicke ausserhalb, um ihn zu schliessen"}),(0,c.jsx)("li",{children:"Gez\xe4hlt wird auf der Seite, auf die gedr\xfcckt wurde. Die Punkte der Gegner werden automatisch mitgeschrieben"}),(0,c.jsx)("li",{children:"Schreibe Weise durch Klicken auf die Z-Linien"}),(0,c.jsx)("li",{children:"Swipe links/rechts, um die Punkte-Historie anzusehen. Eintippen von Resultaten nach alten Runden, \xfcberschreibt neue Runden"})]}),(0,c.jsx)("button",{onClick:e,className:"bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors w-full text-lg font-semibold",children:"Verstanden"})]})}):null};function tr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){s=!0,o=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return to(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return to(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function to(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var ti=function(t){var e=t.isOpen,n=O(),o=n.resetGame,i=n.resetRestZahl,a=tr((0,r.useState)(null),2),l=a[0],s=a[1],u=tr((0,r.useState)(!1),2),f=u[0],p=u[1],d="w-12 h-12 p-2 rounded-xl shadow-md transition-transform hover:scale-110",h={hidden:{opacity:0,y:0},visible:{opacity:1,y:0}},m=function(t){s(t),setTimeout(function(){return s(null)},150)};return(0,c.jsxs)(te.E.div,{className:"absolute inset-x-0 top-1/2 transform -translate-y-1/2 flex justify-center items-center h-16 z-10 ".concat(e?"opacity-100":"opacity-0 pointer-events-none"," transition-opacity duration-300"),variants:{hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.05}}},initial:"hidden",animate:e?"visible":"hidden",children:[(0,c.jsxs)("div",{className:"flex justify-center space-x-10",children:[(0,c.jsx)(te.E.button,{onClick:function(){o(),i(),m("trash")},className:"".concat(d," bg-red-500 text-white"),variants:h,onMouseDown:function(){return m("trash")},onTouchStart:function(){return m("trash")},children:(0,c.jsx)(tt.AMf,{className:"w-full h-full ".concat("trash"===l?"opacity-70":"")})}),(0,c.jsx)(te.E.button,{onClick:function(){m("info"),p(!0)},className:"".concat(d," bg-blue-500 text-white"),variants:h,onMouseDown:function(){return m("info")},onTouchStart:function(){return m("info")},children:(0,c.jsx)(tt.DAO,{className:"w-full h-full ".concat("info"===l?"opacity-70":"")})}),(0,c.jsx)(te.E.button,{onClick:function(){return m("save")},className:"".concat(d," bg-yellow-500 text-white"),variants:h,onMouseDown:function(){return m("save")},onTouchStart:function(){return m("save")},children:(0,c.jsx)(tt.TvB,{className:"w-full h-full ".concat("save"===l?"opacity-70":"")})}),(0,c.jsx)(te.E.button,{onClick:function(){return m("forward")},className:"".concat(d," bg-green-500 text-white"),variants:h,onMouseDown:function(){return m("forward")},onTouchStart:function(){return m("forward")},children:(0,c.jsx)(tt.C$r,{className:"w-full h-full ".concat("forward"===l?"opacity-70":"")})})]}),f&&(0,c.jsx)(tn,{onDismiss:function(){return p(!1)},showTitle:!1,show:!0,message:"Willkommen zu Jassguru"})]})},ta=n(5603);function tc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){s=!0,o=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return tl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tl(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var ts=function(){var t=tc((0,r.useState)(!1),2),e=t[0],n=t[1],o=tc((0,r.useState)(""),2),i=o[0],a=o[1],c=tc((0,r.useState)(!1),2),l=c[0],s=c[1];return(0,r.useEffect)(function(){if(!(0,ta.Ee)()){n(!1);return}"true"===localStorage.getItem("hasShownIntro")?s(!0):(a("Willkommen zu Jassguru"),n(!0))},[]),{showMessage:e,message:i,dismissMessage:function(){n(!1),s(!0),localStorage.setItem("hasShownIntro","true")},hasShownIntro:l}};function tu(t){return(tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function tp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tf(Object(n),!0).forEach(function(e){var r,o;r=e,o=n[e],(r=function(t){var e=function(t,e){if("object"!==tu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==tu(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===tu(e)?e:String(e)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tf(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function td(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){s=!0,o=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return th(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return th(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function th(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var tm=function(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://")},ty=function(t){var e=t.middleLineThickness,n=void 0===e?60:e,i=t.zShapeConfig,l=a(),s=td((0,r.useState)(!1),2),u=s[0],f=s[1],p=td((0,r.useState)(!1),2),d=p[0],h=p[1],m=td((0,r.useState)(!1),2),y=m[0],g=m[1],b=td((0,r.useState)(null),2),v=b[0],S=b[1],x=td((0,r.useState)(!1),2);x[0],x[1];var w=O(),j=w.topScore,C=w.bottomScore,P=(w.topRounds,w.bottomRounds,w.navigateHistory),M=w.currentHistoryIndex,A=w.updateScore,k=(w.scoreHistory,w.currentPlayer),N=w.currentRound,E=w.updateScoreByStrich,R=(w.updateStricheCounts,w.resetStricheCounts,w.restZahlen);w.updateRestZahl,(0,r.useEffect)(function(){f(!0)},[]),(0,r.useEffect)(function(){console.log("Aktuelle Werte:",{topScore:j,bottomScore:C,currentHistoryIndex:M,currentPlayer:k,currentRound:N})},[j,C,M,k,N]),(0,r.useEffect)(function(){console.log("Aktualisierte Werte nach Zustands\xe4nderung:",{topScore:j,bottomScore:C,currentHistoryIndex:M,currentPlayer:k,currentRound:N})},[j,C,M,k,N]),(0,r.useEffect)(function(){g(!1)},[]);var I=(0,r.useMemo)(function(){if(!u)return{topContainerHeight:0,bottomContainerHeight:0,middleLinePosition:0};var t=tm()?parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--safe-area-top")||"0"):0,e=l-t-(tm()?parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--safe-area-bottom")||"0"):0),n=Math.floor(e/2);return{topContainerHeight:n,bottomContainerHeight:n,middleLinePosition:Math.floor(e/2)+t}},[l,n,u]),D=I.topContainerHeight,T=I.bottomContainerHeight,H=I.middleLinePosition,z=_({initialPosition:0,maxOffset:.07*l,position:"top"}),Z=z.y,L=z.mainOpacity,B=z.oppositeOpacity,F=z.animateSwipe,W=z.getBrightness,q=_({initialPosition:0,maxOffset:.07*l,position:"bottom"}),Y=q.y,$=q.mainOpacity,K=q.oppositeOpacity,G=q.animateSwipe,X=q.getBrightness,Q=(0,r.useRef)(null),tt=(0,r.useRef)(null),te=(0,r.useCallback)(function(t,e){if("left"===t||"right"===t){var n="top"===e?"left"===t?"forward":"backward":"left"===t?"backward":"forward";console.log("Navigiere in der Historie: ".concat(n)),P(n),F(t),G(t)}else{var r="top"===e&&"up"===t||"bottom"===e&&"down"===t,o="top"===e&&"down"===t||"bottom"===e&&"up"===t;r?(h(!0),F(!0),G(!0)):o&&(h(!1),F(!1),G(!1))}},[P,F,G]),tr=l>0?.07*l:0,to={position:"absolute",height:"".concat(n/1.5,"px"),backgroundColor:"#FF0000"},tc=(0,r.useCallback)(function(t){d||(g(!0),S(t))},[d]),tl=(0,r.useCallback)(function(){g(!1),S(null)},[]);(0,r.useCallback)(function(t,e){P("top"===e?"left"===t?"forward":"backward":"left"===t?"backward":"forward"),"top"===e?F(t):G(t)},[P,F,G]);var tu=ts(),tf=tu.showMessage,th=tu.message,ty=tu.dismissMessage,tg=tu.hasShownIntro,tb=(0,ta.oQ)(tg),tv=tb.browserMessage,tS=tb.dismissMessage,tx=(0,r.useCallback)(function(t,e){A(e,t,0)},[A]),tw=(0,r.useCallback)(function(t){"top"===t?F("left"):G("left")},[F,G]);return(0,c.jsxs)("div",{className:"w-full h-full bg-black relative select-none touch-action-none",style:{height:"".concat(l,"px")},children:[tf&&(0,c.jsx)(tn,{show:tf,message:th,onDismiss:ty}),!tf&&tv.show&&(0,c.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4 animate-fade-in",children:(0,c.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-xs w-full relative text-white",children:[(0,c.jsx)("p",{className:"text-lg mb-8 text-center",children:tv.message}),(0,c.jsx)("button",{onClick:tS,className:"bg-yellow-600 text-white px-6 py-2 rounded-full hover:bg-yellow-700 transition-colors w-full text-lg font-semibold",children:"Verstanden"})]})}),!tf&&!tv.show&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(U,{ref:Q,position:"top",height:D,zShapeConfig:i,padding:"paddingTop",onSwipe:te,isOpen:d,y:Z,mainOpacity:L,oppositeOpacity:B,getBrightness:W,onLongPress:function(){return tc("top")},score:j,isMenuOpen:d,onStrichClick:tx,triggerBlendEffect:tw,restZahl:R.top},"top-".concat(M)),(0,c.jsx)(o.q.div,{style:tp(tp({},to),{},{left:Z.to(function(t){return"".concat(5-t/tr*5,"%")}),width:Z.to(function(t){return"".concat(90+t/tr*10,"%")}),top:H-n/2,height:"".concat(n,"px"),transform:Z.to(function(t){return"translateY(".concat(-t,"px)")})}),className:"bg-chalk-red"}),(0,c.jsx)(o.q.div,{style:tp(tp({},to),{},{left:Y.to(function(t){return"".concat(5-t/tr*5,"%")}),width:Y.to(function(t){return"".concat(90+t/tr*10,"%")}),top:H,height:"".concat(n,"px"),transform:Y.to(function(t){return"translateY(".concat(t,"px)")})}),className:"bg-chalk-red"}),(0,c.jsx)(U,{ref:tt,position:"bottom",height:T,zShapeConfig:i,padding:"paddingBottom",onSwipe:te,isOpen:d,y:Y,mainOpacity:$,oppositeOpacity:K,getBrightness:X,onLongPress:function(){return tc("bottom")},score:C,isMenuOpen:d,onStrichClick:tx,triggerBlendEffect:tw,restZahl:R.bottom},"bottom-".concat(M)),y&&(0,c.jsx)(V,{isOpen:y,onClose:tl,onSubmit:function(t,e){E(v,t),E("top"===v?"bottom":"top",e),g(!1),S(null)},onCancel:tl,initialValue:0}),!y&&(0,c.jsx)(J,{currentPlayer:k,currentRound:N,opacity:1,isOpen:d}),(0,c.jsx)(ti,{isOpen:d})]})]})},tg=function(){return(0,c.jsx)("div",{className:"w-screen h-screen relative z-10",children:(0,c.jsx)(ty,{middleLineThickness:3,zShapeConfig:{innerSpacing:50,sideSpacing:0,edgeSpacing:70}})})}},8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1815)}])}},function(t){t.O(0,[130,921,888,774,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);